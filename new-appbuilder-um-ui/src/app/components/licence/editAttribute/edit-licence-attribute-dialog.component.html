<nz-modal [nzVisible]="isVisible" [nzTitle]="modalTitle" [nzContent]="modalContent" [nzFooter]="modalFooter"
    (nzOnCancel)="handleCancel($event)" (nzOnOk)="handleOk($event)" [nzMaskClosable]="false">
    <ng-template #modalTitle>
        <span>{{title}}</span>
    </ng-template>
    <ng-template #modalContent>
        <!--<nz-input-group [nzSize]="'large'">
                <nz-form-label nz-col [nzSm]="6" [nzXs]="24">
                    <label for="name"  >名称</label>
                </nz-form-label>
                <div nz-col [nzSpan]="14">
                    <input [(ngModel)]="name" nz-input>
                </div>
            </nz-input-group>
            <br>
            <nz-input-group [nzSize]="'large'">
                <nz-form-label nz-col [nzSm]="6" [nzXs]="24">
                    <label for="key"  >Key</label>
                </nz-form-label>
                <div nz-col [nzSpan]="14">
                    <input [(ngModel)]="key" nz-input>
                </div>
            </nz-input-group>
            <br>
            <nz-input-group [nzSize]="'large'">
                <nz-form-label nz-col [nzSm]="6" [nzXs]="24">
                    <label for="defalutValue"  >Value（默认值）</label>
                </nz-form-label>
                <div nz-col [nzSpan]="14">
                    <input [(ngModel)]="defalutValue" nz-input>
                    <span *ngIf="!defalutValue" style="color: red">请输入Value（默认值）</span>
                </div>
            </nz-input-group>
            <br>
            <nz-input-group [nzSize]="'large'">
                <nz-form-label nz-col [nzSm]="6" [nzXs]="24">
                    <label for="desc" >描述</label>
                </nz-form-label>
                <div nz-col [nzSpan]="14">
                    <input [(ngModel)]="desc" nz-input>
                </div>
            </nz-input-group>
            <nz-input-group [nzSize]="'large'" *ngIf="errorFlag">
                <nz-form-label nz-col [nzSm]="6" [nzXs]="24">
                    <label for="desc1" ></label>
                </nz-form-label>
                <div nz-col [nzSpan]="14">
                    <span style="color: red">key或名称不能重复！</span>
                </div>
            </nz-input-group>-->

        <form nz-form [formGroup]="validateForm" (ngSubmit)="_submitForm()">

            <nz-form-item nz-row style="margin-bottom: 24px;">
                <nz-form-label nz-col [nzSm]="6" [nzXs]="24" nzRequired>
                    <label for="name"  >名称</label>
                </nz-form-label>
                <nz-form-control nz-col [nzSm]="14" [nzXs]="24">

                    <input nz-input [nzSize]="'large'" [(ngModel)]="name" formControlName="name" id="name">

                    <ng-container *ngIf="getFormControl('name').dirty && getFormControl('name').errors">
                        <nz-form-explain style="color:red;" *ngIf="getFormControl('name').errors.required">请输入名称</nz-form-explain>
                        <nz-form-explain style="color:red;" *ngIf="getFormControl('name').errors.nRepeat">名称不能重复</nz-form-explain>
                        <nz-form-explain style="color:red;" *ngIf="getFormControl('name').errors.maxlength">名称不能超过128个字符</nz-form-explain>
                    </ng-container>
                </nz-form-control>
            </nz-form-item>

            <nz-form-item nz-row style="margin-bottom: 24px;">
                <nz-form-label nz-col [nzSm]="6" [nzXs]="24" nzRequired>
                    <label for="key"  >key</label>
                </nz-form-label>
                <nz-form-control nz-col [nzSm]="14" [nzXs]="24">

                    <input nz-input [nzSize]="'large'" [(ngModel)]="key" formControlName="key" id="key">

                    <ng-container *ngIf="getFormControl('key').dirty && getFormControl('key').errors">
                        <nz-form-explain style="color:red;" *ngIf="getFormControl('key').errors.required">请输入key</nz-form-explain>
                        <nz-form-explain style="color:red;" *ngIf="getFormControl('key').errors.nKeyRepeat">名称和key不能重复</nz-form-explain>
                        <nz-form-explain style="color:red;" *ngIf="getFormControl('key').errors.cRepeat">key不能重复</nz-form-explain>
                        <nz-form-explain style="color:red;" *ngIf="getFormControl('key').errors.maxlength">输入的key过长</nz-form-explain>
                    </ng-container>

                </nz-form-control>
            </nz-form-item>

            <nz-form-item nz-row style="margin-bottom: 24px;">
                <nz-form-label nz-col [nzSm]="6" [nzXs]="24" nzRequired>
                    <label for="defalutValue"  >Value(默认值)</label>
                </nz-form-label>
                <nz-form-control nz-col [nzSm]="14" [nzXs]="24">

                    <input nz-input [nzSize]="'large'" [(ngModel)]="defalutValue" formControlName="defalutValue" id="value">

                    <ng-container *ngIf="getFormControl('defalutValue').dirty && getFormControl('defalutValue').errors">
                        <nz-form-explain style="color:red;" *ngIf="getFormControl('defalutValue').errors.required">请输入value</nz-form-explain>
                        <nz-form-explain style="color:red;" *ngIf="getFormControl('defalutValue').errors.maxlength">输入的value过长</nz-form-explain>
                    </ng-container>
                </nz-form-control>
            </nz-form-item>

            <nz-form-item nz-row>
                <nz-form-label nz-col [nzSm]="6" [nzXs]="24">
                    <label for="desc"   class="special-label-before">描述</label>
                </nz-form-label>
                <nz-form-control nz-col [nzSm]="14" [nzXs]="24">

                    <textarea nz-input formControlName="desc" [(ngModel)]="desc" [nzAutosize]="{ minRows: 1, maxRows: 2 }"
                        [nzSize]="'large'"></textarea>

                </nz-form-control>
                <ng-container *ngIf="getFormControl('desc').dirty && getFormControl('desc').errors">
                    <nz-form-explain style="color:red;" *ngIf="getFormControl('desc').errors.maxlength">输入的描述过长</nz-form-explain>
                </ng-container>
                <nz-form-control nz-col [nzSm]="14" [nzXs]="24" style="margin-left: 138px" *ngIf="errorFlag">
                    <span style="color: red">{{errorMsg}}</span>
                </nz-form-control>
            </nz-form-item>
        </form>

    </ng-template>
    <ng-template #modalFooter>

        <button nz-button [nzType]="'default'" [nzSize]="'large'" (click)="handleCancel($event)">
            取 消
        </button>

        <button nz-button [nzType]="'primary'" [nzSize]="'large'" (click)="_submitForm($event)" [nzLoading]="isConfirmLoading">
            <!-- <button nz-button [nzType]="'primary'" [nzSize]="'large'" (click)="submitAttribute($event)" [nzLoading]="isConfirmLoading"> -->
            保 存
        </button>

    </ng-template>
</nz-modal>