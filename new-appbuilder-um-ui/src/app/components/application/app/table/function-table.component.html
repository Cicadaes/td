<nz-table #nzTable [nzBordered]="false" [nzShowTotal]="false" [nzData]="_dataSet" nzShowSizeChanger [nzLoading]="_loading"
    [nzTotal]="_total" [(nzPageIndex)]="_current" (nzPageIndexChange)="refreshData()" 
    [(nzPageSize)]="_pageSize" (nzPageSizeChange)="refreshData(true)" [nzFrontPagination]="false">
    <thead nz-thead>
        <tr>
            <th nz-th [nzWidth]="'10%'">
                <span>功能序号</span>
            </th>
            <th nz-th [nzWidth]="'20%'">
                <span>功能名称</span>
            </th>
            <th nz-th [nzWidth]="'10%'">
                <span>功能编码</span>
            </th>
            <th nz-th [nzWidth]="'10%'">
                <span>功能类别</span>
            </th>
            <th nz-th [nzWidth]="'12%'">
                <span>功能地址</span>
            </th>
            <th nz-th [nzWidth]="'20%'">
                <span>功能描述</span>
            </th>
            <th nz-th [nzWidth]="'20%'" *ngIf="appCode!='1UM'">
                <span>操作</span>
            </th>
        </tr>
    </thead>
    <tbody nz-tbody>
        <ng-template ngFor let-data [ngForOf]="nzTable.data">
            <ng-template ngFor let-item [ngForOf]="expandDataCache[data.id]">
                <tr nz-tbody-tr *ngIf="(item.parent&&item.parent.expand)||!(item.parent)">
                    <td nz-td>{{item.serialNumber}}</td>
                    <td nz-td>
                        <!-- <nz-row-indent [nzIndentSize]="item.level"></nz-row-indent>
                        <nz-row-expand-icon [(nzExpand)]="item.expand" (nzExpandChange)="collapse(expandDataCache[data.id],item,$event)"
                            [nzShowExpand]="item.children.length > 0"></nz-row-expand-icon> -->
                        <span title><img alt="图片" src="{{item.icon}}" style="width: 14px;height: 14px;vertical-align: top;margin-top: 2px;margin-right: 3px;" /><span
                                class="nav-text">{{item.name}}</span></span>
                    </td>
                    <td nz-td>{{item.code}}</td>
                    <td nz-td>{{item.parentName}}</td>
                    <td nz-td>{{item.uri}}</td>
                    <td nz-td>{{item.desc}}</td>
                    <td nz-td *ngIf="appCode!='1UM'">
                        <a [routerLink]="[ '/apps/detailAppPage/'+id+'/addChildActionPage',item.id,item.fucTypeDicId]">新增子功能</a>
                        <nz-divider nzType="vertical"></nz-divider>
                        <a [routerLink]="[ '/apps/detailAppPage/'+id+'/viewActionPage',item.id]">查看</a>
                        <nz-divider nzType="vertical"></nz-divider>
                        <nz-dropdown>
                            <a class="ant-dropdown-link" nz-dropdown>
                                更多
                            </a>
                            <ul nz-menu>
                                <li nz-menu-item>
                                    <a *ngIf="item.parentId == 0" [routerLink]="[ '/apps/detailAppPage/'+id+'/updateActionPage',item.id]">编辑</a>
                                    <a *ngIf="item.parentId != 0" [routerLink]="[ '/apps/detailAppPage/'+id+'/updateChildActionPage',item.id,item.fucTypeDicId]">编辑</a>
                                </li>
                                <li nz-menu-item>
                                    <a href="javascript:;" (click)="deleteActionModal(data, item)">删除</a>
                                </li>
                            </ul>
                        </nz-dropdown>
                    </td>
                </tr>
            </ng-template>
        </ng-template>
    </tbody>
</nz-table>
