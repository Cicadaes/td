

<div class="detail-obj-operate">
        <button nz-button nzType="primary" (click)='showAddData()' > <span class="anticon anticon-plus"></span>对象实例授权</button>
        <button nz-button nzType="primary" (click)='deleteData()' >批量删除</button>
    
    </div>

<div class="detail-obj-auth">
  <p class="title">
    为角色设置对各数据对象的操作权限
  </p>
  
  <more-search [fieldArray] = "userAuthFieldArray" (onSearch)="onSearchUserAuthList($event)"></more-search>

    <nz-table #nzTable [nzBordered]="false" [nzData]="_dataSet" [nzTotal]="total" (nzPageIndexChange)='pageIndexChange($event)' [nzFrontPagination]='false' [(nzPageIndex)]='param.page'  [(nzPageSize)]="param.pageSize"
   [nzShowPagination]='true'>
    <thead>
        <tr>
            <th nzShowCheckbox [(nzChecked)]="allChecked" [nzIndeterminate]="indeterminate" (nzCheckedChange)="checkAll($event)"></th>
            <th>
                数据对象
            </th>
            <th>
                数据对象实例
            </th>
            <th >
                授予角色的操作权限
            </th>
            <th>
                操作
            </th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let data of nzTable.data;">
                <td nzShowCheckbox [(nzChecked)]="data.checked" (nzCheckedChange)="refreshStatus($event)"></td>
            <td>{{data.targetName}}</td>
            <td>{{data.dataName}}</td>
            <td>{{data.auth}}</td>
            <td>
                    <a href="javascript:;" (click)="showEditData(data)">编辑</a> &nbsp; &nbsp;
                    <a href="javascript:;" (click)="deleteData(data)">删除</a>
            </td>
        </tr>
    </tbody>
</nz-table>

    
</div>

<add-data-dialog [tenantId]='_tenantId' [roleId]='_roleId' (toSubmit)='refreshData($event)'></add-data-dialog>
<edit-data-dialog (onSubmit)='refreshData($event)'></edit-data-dialog>