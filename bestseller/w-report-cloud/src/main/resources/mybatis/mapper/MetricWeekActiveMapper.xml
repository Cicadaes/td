<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="td.enterprise.dao.MetricWeekActiveDao" >
  <!-- Result Map-->
  <resultMap id="BaseResultMap" type="td.enterprise.entity.MetricWeekActive" >
	<result column="id" property="id"/>
	<result column="brand" property="brand"/>
	<result column="region" property="region"/>
	<result column="city" property="city"/>
	<result column="province" property="province"/>
	<result column="channel" property="channel"/>
	<result column="mall" property="mall"/>
	<result column="project_name" property="projectName"/>
	<result column="project_type" property="projectType"/>
	<result column="project_id" property="projectId"/>
	<result column="project_num" property="projectNum"/>
	<result column="year" property="year"/>
	<result column="week_of_year" property="weekOfYear"/>
	<result column="active_new_users" property="activeNewUsers"/>
	<result column="active_old_users" property="activeOldUsers"/>
	<result column="active_users" property="activeUsers"/>
	<result column="stay_new_users" property="stayNewUsers"/>
	<result column="stay_old_users" property="stayOldUsers"/>
	<result column="stay_users" property="stayUsers"/>
	<result column="front_users" property="frontUsers"/>
	<result column="jump_users" property="jumpUsers"/>
	<result column="high_active_users" property="highActiveUsers"/>
	<result column="middle_active_users" property="middleActiveUsers"/>
	<result column="low_active_users" property="lowActiveUsers"/>
	<result column="sleep_active_users" property="sleepActiveUsers"/>
	<result column="high_stay_users" property="highStayUsers"/>
	<result column="middle_stay_users" property="middleStayUsers"/>
	<result column="low_stay_users" property="lowStayUsers"/>
	<result column="sleep_stay_users" property="sleepStayUsers"/>
	<result column="recent7Users" property="recent7Users"/>
	<result column="recent30HighRate" property="recent30HighRate"/>
	<result column="active_duration" property="activeDuration"/>
	<result column="active_times" property="activeTimes"/>
	<result column="stay_duration" property="stayDuration"/>
	<result column="stay_times" property="stayTimes"/>
	<result column="interval_2" property="interval2"/>
	<result column="interval_5" property="interval5"/>
	<result column="interval_10" property="interval10"/>
	<result column="interval_15" property="interval15"/>
	<result column="interval_30" property="interval30"/>
	<result column="duration_new_5" property="durationNew5"/>
	<result column="duration_new_15" property="durationNew15"/>
	<result column="duration_new_30" property="durationNew30"/>
	<result column="duration_new_60" property="durationNew60"/>
	<result column="duration_old_5" property="durationOld5"/>
	<result column="duration_old_15" property="durationOld15"/>
	<result column="duration_old_30" property="durationOld30"/>
	<result column="duration_old_60" property="durationOld60"/>
	<result column="high_active_5" property="highActive5"/>
	<result column="high_active_15" property="highActive15"/>
	<result column="high_active_30" property="highActive30"/>
	<result column="high_active_60" property="highActive60"/>
	<result column="middle_active_5" property="middleActive5"/>
	<result column="middle_active_15" property="middleActive15"/>
	<result column="middle_active_30" property="middleActive30"/>
	<result column="middle_active_60" property="middleActive60"/>
	<result column="low_active_5" property="lowActive5"/>
	<result column="low_active_15" property="lowActive15"/>
	<result column="low_active_30" property="lowActive30"/>
	<result column="low_active_60" property="lowActive60"/>
	<result column="sleep_active_5" property="sleepActive5"/>
	<result column="sleep_active_15" property="sleepActive15"/>
	<result column="sleep_active_30" property="sleepActive30"/>
	<result column="sleep_active_60" property="sleepActive60"/>
	<result column="time_old_1" property="timeOld1"/>
	<result column="time_old_2" property="timeOld2"/>
	<result column="time_old_3" property="timeOld3"/>
	<result column="time_old_5" property="timeOld5"/>
	<result column="old_interval" property="oldInterval"/>
	<result column="visit_cycle" property="visitCycle"/>
	<result column="new_active_duration" property="newActiveDuration"/>
	<result column="new_active_time" property="newActiveTime"/>
	<result column="old_active_duration" property="oldActiveDuration"/>
	<result column="old_active_time" property="oldActiveTime"/>
	<result column="city_level" property="cityLevel"/>
	<result column="update_time" property="updateTime"/>
  </resultMap>
       
  <!-- TD_METRIC_WEEK_ACTIVE table all fields -->
  <sql id="Base_Column_List" >
	 id,brand,region,city,province,channel,mall,project_name,project_type,project_id,project_num,year,week_of_year,active_new_users,active_old_users,active_users,stay_new_users,stay_old_users,stay_users,front_users,jump_users,high_active_users,middle_active_users,low_active_users,sleep_active_users,high_stay_users,middle_stay_users,low_stay_users,sleep_stay_users,recent7Users,recent30HighRate,active_duration,active_times,stay_duration,stay_times,interval_2,interval_5,interval_10,interval_15,interval_30,duration_new_5,duration_new_15,duration_new_30,duration_new_60,duration_old_5,duration_old_15,duration_old_30,duration_old_60,high_active_5,high_active_15,high_active_30,high_active_60,middle_active_5,middle_active_15,middle_active_30,middle_active_60,low_active_5,low_active_15,low_active_30,low_active_60,sleep_active_5,sleep_active_15,sleep_active_30,sleep_active_60,time_old_1,time_old_2,time_old_3,time_old_5,old_interval,visit_cycle,new_active_duration,new_active_time,old_active_duration,old_active_time,city_level,update_time
  </sql>
   
  <!-- 查询条件 -->
  <sql id="Base_Where_Clause">
    where 1=1
    <trim suffixOverrides="," >
	      <if test="id != null and id != ''" >
        and id =  #{id}
	  </if>
	      <if test="brand != null and brand != ''" >
        and brand =  #{brand}
	  </if>
	      <if test="region != null and region != ''" >
        and region =  #{region}
	  </if>
	      <if test="city != null and city != ''" >
        and city =  #{city}
	  </if>
	      <if test="province != null and province != ''" >
        and province =  #{province}
	  </if>
	      <if test="channel != null and channel != ''" >
        and channel =  #{channel}
	  </if>
	      <if test="mall != null and mall != ''" >
        and mall =  #{mall}
	  </if>
	      <if test="projectName != null and projectName != ''" >
        and project_name =  #{projectName}
	  </if>
	      <if test="projectType != null and projectType != ''" >
        and project_type =  #{projectType}
	  </if>
	      <if test="projectId != null and projectId != ''" >
        and project_id =  #{projectId}
	  </if>
	      <if test="projectNum != null and projectNum != ''" >
        and project_num =  #{projectNum}
	  </if>
	      <if test="year != null and year != ''" >
        and year =  #{year}
	  </if>
	      <if test="weekOfYear != null and weekOfYear != ''" >
        and week_of_year =  #{weekOfYear}
	  </if>
	      <if test="activeNewUsers != null and activeNewUsers != ''" >
        and active_new_users =  #{activeNewUsers}
	  </if>
	      <if test="activeOldUsers != null and activeOldUsers != ''" >
        and active_old_users =  #{activeOldUsers}
	  </if>
	      <if test="activeUsers != null and activeUsers != ''" >
        and active_users =  #{activeUsers}
	  </if>
	      <if test="stayNewUsers != null and stayNewUsers != ''" >
        and stay_new_users =  #{stayNewUsers}
	  </if>
	      <if test="stayOldUsers != null and stayOldUsers != ''" >
        and stay_old_users =  #{stayOldUsers}
	  </if>
	      <if test="stayUsers != null and stayUsers != ''" >
        and stay_users =  #{stayUsers}
	  </if>
	      <if test="frontUsers != null and frontUsers != ''" >
        and front_users =  #{frontUsers}
	  </if>
	      <if test="jumpUsers != null and jumpUsers != ''" >
        and jump_users =  #{jumpUsers}
	  </if>
	      <if test="highActiveUsers != null and highActiveUsers != ''" >
        and high_active_users =  #{highActiveUsers}
	  </if>
	      <if test="middleActiveUsers != null and middleActiveUsers != ''" >
        and middle_active_users =  #{middleActiveUsers}
	  </if>
	      <if test="lowActiveUsers != null and lowActiveUsers != ''" >
        and low_active_users =  #{lowActiveUsers}
	  </if>
	      <if test="sleepActiveUsers != null and sleepActiveUsers != ''" >
        and sleep_active_users =  #{sleepActiveUsers}
	  </if>
	      <if test="highStayUsers != null and highStayUsers != ''" >
        and high_stay_users =  #{highStayUsers}
	  </if>
	      <if test="middleStayUsers != null and middleStayUsers != ''" >
        and middle_stay_users =  #{middleStayUsers}
	  </if>
	      <if test="lowStayUsers != null and lowStayUsers != ''" >
        and low_stay_users =  #{lowStayUsers}
	  </if>
	      <if test="sleepStayUsers != null and sleepStayUsers != ''" >
        and sleep_stay_users =  #{sleepStayUsers}
	  </if>
	      <if test="recent7Users != null and recent7Users != ''" >
        and recent7Users =  #{recent7Users}
	  </if>
	      <if test="recent30HighRate != null and recent30HighRate != ''" >
        and recent30HighRate =  #{recent30HighRate}
	  </if>
	      <if test="activeDuration != null and activeDuration != ''" >
        and active_duration =  #{activeDuration}
	  </if>
	      <if test="activeTimes != null and activeTimes != ''" >
        and active_times =  #{activeTimes}
	  </if>
	      <if test="stayDuration != null and stayDuration != ''" >
        and stay_duration =  #{stayDuration}
	  </if>
	      <if test="stayTimes != null and stayTimes != ''" >
        and stay_times =  #{stayTimes}
	  </if>
	      <if test="interval2 != null and interval2 != ''" >
        and interval_2 =  #{interval2}
	  </if>
	      <if test="interval5 != null and interval5 != ''" >
        and interval_5 =  #{interval5}
	  </if>
	      <if test="interval10 != null and interval10 != ''" >
        and interval_10 =  #{interval10}
	  </if>
	      <if test="interval15 != null and interval15 != ''" >
        and interval_15 =  #{interval15}
	  </if>
	      <if test="interval30 != null and interval30 != ''" >
        and interval_30 =  #{interval30}
	  </if>
	      <if test="durationNew5 != null and durationNew5 != ''" >
        and duration_new_5 =  #{durationNew5}
	  </if>
	      <if test="durationNew15 != null and durationNew15 != ''" >
        and duration_new_15 =  #{durationNew15}
	  </if>
	      <if test="durationNew30 != null and durationNew30 != ''" >
        and duration_new_30 =  #{durationNew30}
	  </if>
	      <if test="durationNew60 != null and durationNew60 != ''" >
        and duration_new_60 =  #{durationNew60}
	  </if>
	      <if test="durationOld5 != null and durationOld5 != ''" >
        and duration_old_5 =  #{durationOld5}
	  </if>
	      <if test="durationOld15 != null and durationOld15 != ''" >
        and duration_old_15 =  #{durationOld15}
	  </if>
	      <if test="durationOld30 != null and durationOld30 != ''" >
        and duration_old_30 =  #{durationOld30}
	  </if>
	      <if test="durationOld60 != null and durationOld60 != ''" >
        and duration_old_60 =  #{durationOld60}
	  </if>
	      <if test="highActive5 != null and highActive5 != ''" >
        and high_active_5 =  #{highActive5}
	  </if>
	      <if test="highActive15 != null and highActive15 != ''" >
        and high_active_15 =  #{highActive15}
	  </if>
	      <if test="highActive30 != null and highActive30 != ''" >
        and high_active_30 =  #{highActive30}
	  </if>
	      <if test="highActive60 != null and highActive60 != ''" >
        and high_active_60 =  #{highActive60}
	  </if>
	      <if test="middleActive5 != null and middleActive5 != ''" >
        and middle_active_5 =  #{middleActive5}
	  </if>
	      <if test="middleActive15 != null and middleActive15 != ''" >
        and middle_active_15 =  #{middleActive15}
	  </if>
	      <if test="middleActive30 != null and middleActive30 != ''" >
        and middle_active_30 =  #{middleActive30}
	  </if>
	      <if test="middleActive60 != null and middleActive60 != ''" >
        and middle_active_60 =  #{middleActive60}
	  </if>
	      <if test="lowActive5 != null and lowActive5 != ''" >
        and low_active_5 =  #{lowActive5}
	  </if>
	      <if test="lowActive15 != null and lowActive15 != ''" >
        and low_active_15 =  #{lowActive15}
	  </if>
	      <if test="lowActive30 != null and lowActive30 != ''" >
        and low_active_30 =  #{lowActive30}
	  </if>
	      <if test="lowActive60 != null and lowActive60 != ''" >
        and low_active_60 =  #{lowActive60}
	  </if>
	      <if test="sleepActive5 != null and sleepActive5 != ''" >
        and sleep_active_5 =  #{sleepActive5}
	  </if>
	      <if test="sleepActive15 != null and sleepActive15 != ''" >
        and sleep_active_15 =  #{sleepActive15}
	  </if>
	      <if test="sleepActive30 != null and sleepActive30 != ''" >
        and sleep_active_30 =  #{sleepActive30}
	  </if>
	      <if test="sleepActive60 != null and sleepActive60 != ''" >
        and sleep_active_60 =  #{sleepActive60}
	  </if>
	      <if test="timeOld1 != null and timeOld1 != ''" >
        and time_old_1 =  #{timeOld1}
	  </if>
	      <if test="timeOld2 != null and timeOld2 != ''" >
        and time_old_2 =  #{timeOld2}
	  </if>
	      <if test="timeOld3 != null and timeOld3 != ''" >
        and time_old_3 =  #{timeOld3}
	  </if>
	      <if test="timeOld5 != null and timeOld5 != ''" >
        and time_old_5 =  #{timeOld5}
	  </if>
	      <if test="oldInterval != null and oldInterval != ''" >
        and old_interval =  #{oldInterval}
	  </if>
	      <if test="visitCycle != null and visitCycle != ''" >
        and visit_cycle =  #{visitCycle}
	  </if>
	      <if test="newActiveDuration != null and newActiveDuration != ''" >
        and new_active_duration =  #{newActiveDuration}
	  </if>
	      <if test="newActiveTime != null and newActiveTime != ''" >
        and new_active_time =  #{newActiveTime}
	  </if>
	      <if test="oldActiveDuration != null and oldActiveDuration != ''" >
        and old_active_duration =  #{oldActiveDuration}
	  </if>
	      <if test="oldActiveTime != null and oldActiveTime != ''" >
        and old_active_time =  #{oldActiveTime}
	  </if>
	      <if test="cityLevel != null and cityLevel != ''" >
        and city_level =  #{cityLevel}
	  </if>
	      <if test="updateTime != null and updateTime != ''" >
        and update_time =  #{updateTime}
	  </if>
    </trim>
  </sql>
   
  <!-- 插入记录 -->
  <insert id="insert" parameterType="Object" >
    <selectKey resultType="java.lang.Integer" order="AFTER" keyProperty="id">
	  SELECT LAST_INSERT_ID()
    </selectKey>
      insert into 
TD_METRIC_WEEK_ACTIVE(id,brand,region,city,province,channel,mall,project_name,project_type,project_id,project_num,year,week_of_year,active_new_users,active_old_users,active_users,stay_new_users,stay_old_users,stay_users,front_users,jump_users,high_active_users,middle_active_users,low_active_users,sleep_active_users,high_stay_users,middle_stay_users,low_stay_users,sleep_stay_users,recent7Users,recent30HighRate,active_duration,active_times,stay_duration,stay_times,interval_2,interval_5,interval_10,interval_15,interval_30,duration_new_5,duration_new_15,duration_new_30,duration_new_60,duration_old_5,duration_old_15,duration_old_30,duration_old_60,high_active_5,high_active_15,high_active_30,high_active_60,middle_active_5,middle_active_15,middle_active_30,middle_active_60,low_active_5,low_active_15,low_active_30,low_active_60,sleep_active_5,sleep_active_15,sleep_active_30,sleep_active_60,time_old_1,time_old_2,time_old_3,time_old_5,old_interval,visit_cycle,new_active_duration,new_active_time,old_active_duration,old_active_time,city_level,update_time)
 values(#{id},#{brand},#{region},#{city},#{province},#{channel},#{mall},#{projectName},#{projectType},#{projectId},#{projectNum},#{year},#{weekOfYear},#{activeNewUsers},#{activeOldUsers},#{activeUsers},#{stayNewUsers},#{stayOldUsers},#{stayUsers},#{frontUsers},#{jumpUsers},#{highActiveUsers},#{middleActiveUsers},#{lowActiveUsers},#{sleepActiveUsers},#{highStayUsers},#{middleStayUsers},#{lowStayUsers},#{sleepStayUsers},#{recent7Users},#{recent30HighRate},#{activeDuration},#{activeTimes},#{stayDuration},#{stayTimes},#{interval2},#{interval5},#{interval10},#{interval15},#{interval30},#{durationNew5},#{durationNew15},#{durationNew30},#{durationNew60},#{durationOld5},#{durationOld15},#{durationOld30},#{durationOld60},#{highActive5},#{highActive15},#{highActive30},#{highActive60},#{middleActive5},#{middleActive15},#{middleActive30},#{middleActive60},#{lowActive5},#{lowActive15},#{lowActive30},#{lowActive60},#{sleepActive5},#{sleepActive15},#{sleepActive30},#{sleepActive60},#{timeOld1},#{timeOld2},#{timeOld3},#{timeOld5},#{oldInterval},#{visitCycle},#{newActiveDuration},#{newActiveTime},#{oldActiveDuration},#{oldActiveTime},#{cityLevel},now())
  </insert>

  <!-- 根据id，修改记录-->  
  <update id="updateByPrimaryKey" parameterType="Object" >
      update TD_METRIC_WEEK_ACTIVE set brand=#{brand},region=#{region},city=#{city},province=#{province},channel=#{channel},mall=#{mall},project_name=#{projectName},project_type=#{projectType},project_id=#{projectId},project_num=#{projectNum},year=#{year},week_of_year=#{weekOfYear},active_new_users=#{activeNewUsers},active_old_users=#{activeOldUsers},active_users=#{activeUsers},stay_new_users=#{stayNewUsers},stay_old_users=#{stayOldUsers},stay_users=#{stayUsers},front_users=#{frontUsers},jump_users=#{jumpUsers},high_active_users=#{highActiveUsers},middle_active_users=#{middleActiveUsers},low_active_users=#{lowActiveUsers},sleep_active_users=#{sleepActiveUsers},high_stay_users=#{highStayUsers},middle_stay_users=#{middleStayUsers},low_stay_users=#{lowStayUsers},sleep_stay_users=#{sleepStayUsers},recent7Users=#{recent7Users},recent30HighRate=#{recent30HighRate},active_duration=#{activeDuration},active_times=#{activeTimes},stay_duration=#{stayDuration},stay_times=#{stayTimes},interval_2=#{interval2},interval_5=#{interval5},interval_10=#{interval10},interval_15=#{interval15},interval_30=#{interval30},duration_new_5=#{durationNew5},duration_new_15=#{durationNew15},duration_new_30=#{durationNew30},duration_new_60=#{durationNew60},duration_old_5=#{durationOld5},duration_old_15=#{durationOld15},duration_old_30=#{durationOld30},duration_old_60=#{durationOld60},high_active_5=#{highActive5},high_active_15=#{highActive15},high_active_30=#{highActive30},high_active_60=#{highActive60},middle_active_5=#{middleActive5},middle_active_15=#{middleActive15},middle_active_30=#{middleActive30},middle_active_60=#{middleActive60},low_active_5=#{lowActive5},low_active_15=#{lowActive15},low_active_30=#{lowActive30},low_active_60=#{lowActive60},sleep_active_5=#{sleepActive5},sleep_active_15=#{sleepActive15},sleep_active_30=#{sleepActive30},sleep_active_60=#{sleepActive60},time_old_1=#{timeOld1},time_old_2=#{timeOld2},time_old_3=#{timeOld3},time_old_5=#{timeOld5},old_interval=#{oldInterval},visit_cycle=#{visitCycle},new_active_duration=#{newActiveDuration},new_active_time=#{newActiveTime},old_active_duration=#{oldActiveDuration},old_active_time=#{oldActiveTime},city_level=#{cityLevel},update_time=now() where id=#{id}
  </update>
 
  <!-- 修改记录，只修改只不为空的字段 -->
  <update id="updateByPrimaryKeySelective" parameterType="Object" >
      update TD_METRIC_WEEK_ACTIVE set 
		<if test="brand != null  ">
		brand=#{brand},
	</if>
	<if test="region != null  ">
		region=#{region},
	</if>
	<if test="city != null  ">
		city=#{city},
	</if>
	<if test="province != null  ">
		province=#{province},
	</if>
	<if test="channel != null  ">
		channel=#{channel},
	</if>
	<if test="mall != null  ">
		mall=#{mall},
	</if>
	<if test="projectName != null  ">
		project_name=#{projectName},
	</if>
	<if test="projectType != null  ">
		project_type=#{projectType},
	</if>
	<if test="projectId != null  ">
		project_id=#{projectId},
	</if>
	<if test="projectNum != null  ">
		project_num=#{projectNum},
	</if>
	<if test="year != null  ">
		year=#{year},
	</if>
	<if test="weekOfYear != null  ">
		week_of_year=#{weekOfYear},
	</if>
	<if test="activeNewUsers != null  ">
		active_new_users=#{activeNewUsers},
	</if>
	<if test="activeOldUsers != null  ">
		active_old_users=#{activeOldUsers},
	</if>
	<if test="activeUsers != null  ">
		active_users=#{activeUsers},
	</if>
	<if test="stayNewUsers != null  ">
		stay_new_users=#{stayNewUsers},
	</if>
	<if test="stayOldUsers != null  ">
		stay_old_users=#{stayOldUsers},
	</if>
	<if test="stayUsers != null  ">
		stay_users=#{stayUsers},
	</if>
	<if test="frontUsers != null  ">
		front_users=#{frontUsers},
	</if>
	<if test="jumpUsers != null  ">
		jump_users=#{jumpUsers},
	</if>
	<if test="highActiveUsers != null  ">
		high_active_users=#{highActiveUsers},
	</if>
	<if test="middleActiveUsers != null  ">
		middle_active_users=#{middleActiveUsers},
	</if>
	<if test="lowActiveUsers != null  ">
		low_active_users=#{lowActiveUsers},
	</if>
	<if test="sleepActiveUsers != null  ">
		sleep_active_users=#{sleepActiveUsers},
	</if>
	<if test="highStayUsers != null  ">
		high_stay_users=#{highStayUsers},
	</if>
	<if test="middleStayUsers != null  ">
		middle_stay_users=#{middleStayUsers},
	</if>
	<if test="lowStayUsers != null  ">
		low_stay_users=#{lowStayUsers},
	</if>
	<if test="sleepStayUsers != null  ">
		sleep_stay_users=#{sleepStayUsers},
	</if>
	<if test="recent7Users != null  ">
		recent7Users=#{recent7Users},
	</if>
	<if test="recent30HighRate != null  ">
		recent30HighRate=#{recent30HighRate},
	</if>
	<if test="activeDuration != null  ">
		active_duration=#{activeDuration},
	</if>
	<if test="activeTimes != null  ">
		active_times=#{activeTimes},
	</if>
	<if test="stayDuration != null  ">
		stay_duration=#{stayDuration},
	</if>
	<if test="stayTimes != null  ">
		stay_times=#{stayTimes},
	</if>
	<if test="interval2 != null  ">
		interval_2=#{interval2},
	</if>
	<if test="interval5 != null  ">
		interval_5=#{interval5},
	</if>
	<if test="interval10 != null  ">
		interval_10=#{interval10},
	</if>
	<if test="interval15 != null  ">
		interval_15=#{interval15},
	</if>
	<if test="interval30 != null  ">
		interval_30=#{interval30},
	</if>
	<if test="durationNew5 != null  ">
		duration_new_5=#{durationNew5},
	</if>
	<if test="durationNew15 != null  ">
		duration_new_15=#{durationNew15},
	</if>
	<if test="durationNew30 != null  ">
		duration_new_30=#{durationNew30},
	</if>
	<if test="durationNew60 != null  ">
		duration_new_60=#{durationNew60},
	</if>
	<if test="durationOld5 != null  ">
		duration_old_5=#{durationOld5},
	</if>
	<if test="durationOld15 != null  ">
		duration_old_15=#{durationOld15},
	</if>
	<if test="durationOld30 != null  ">
		duration_old_30=#{durationOld30},
	</if>
	<if test="durationOld60 != null  ">
		duration_old_60=#{durationOld60},
	</if>
	<if test="highActive5 != null  ">
		high_active_5=#{highActive5},
	</if>
	<if test="highActive15 != null  ">
		high_active_15=#{highActive15},
	</if>
	<if test="highActive30 != null  ">
		high_active_30=#{highActive30},
	</if>
	<if test="highActive60 != null  ">
		high_active_60=#{highActive60},
	</if>
	<if test="middleActive5 != null  ">
		middle_active_5=#{middleActive5},
	</if>
	<if test="middleActive15 != null  ">
		middle_active_15=#{middleActive15},
	</if>
	<if test="middleActive30 != null  ">
		middle_active_30=#{middleActive30},
	</if>
	<if test="middleActive60 != null  ">
		middle_active_60=#{middleActive60},
	</if>
	<if test="lowActive5 != null  ">
		low_active_5=#{lowActive5},
	</if>
	<if test="lowActive15 != null  ">
		low_active_15=#{lowActive15},
	</if>
	<if test="lowActive30 != null  ">
		low_active_30=#{lowActive30},
	</if>
	<if test="lowActive60 != null  ">
		low_active_60=#{lowActive60},
	</if>
	<if test="sleepActive5 != null  ">
		sleep_active_5=#{sleepActive5},
	</if>
	<if test="sleepActive15 != null  ">
		sleep_active_15=#{sleepActive15},
	</if>
	<if test="sleepActive30 != null  ">
		sleep_active_30=#{sleepActive30},
	</if>
	<if test="sleepActive60 != null  ">
		sleep_active_60=#{sleepActive60},
	</if>
	<if test="timeOld1 != null  ">
		time_old_1=#{timeOld1},
	</if>
	<if test="timeOld2 != null  ">
		time_old_2=#{timeOld2},
	</if>
	<if test="timeOld3 != null  ">
		time_old_3=#{timeOld3},
	</if>
	<if test="timeOld5 != null  ">
		time_old_5=#{timeOld5},
	</if>
	<if test="oldInterval != null  ">
		old_interval=#{oldInterval},
	</if>
	<if test="visitCycle != null  ">
		visit_cycle=#{visitCycle},
	</if>
	<if test="newActiveDuration != null  ">
		new_active_duration=#{newActiveDuration},
	</if>
	<if test="newActiveTime != null  ">
		new_active_time=#{newActiveTime},
	</if>
	<if test="oldActiveDuration != null  ">
		old_active_duration=#{oldActiveDuration},
	</if>
	<if test="oldActiveTime != null  ">
		old_active_time=#{oldActiveTime},
	</if>
	<if test="cityLevel != null  ">
		city_level=#{cityLevel},
	</if>
	<if test="updateTime != null  ">
		update_time=#{updateTime},
	</if>
	update_time = now() 
	where id=#{id}
  </update>
 
  <!-- 根据id查询 排行榜周表 -->
  <select id="selectByPrimaryKey"  resultMap="BaseResultMap" parameterType="Object">
      select <include refid="Base_Column_List" /> 
	 from TD_METRIC_WEEK_ACTIVE where id = #{id}
  </select>
  
  <!-- 删除记录 -->
  <delete id="deleteByPrimaryKey" parameterType="Object">
      delete from TD_METRIC_WEEK_ACTIVE where id = #{id}
  </delete>

  <!-- 排行榜周表 列表总数-->
  <select id="queryByCount" resultType="java.lang.Integer"  parameterType="Object">
	select count(1) from TD_METRIC_WEEK_ACTIVE 
	<include refid="Base_Where_Clause"/>
  </select>
  	
  <!-- 查询排行榜周表列表 -->
  <select id="queryByList" resultMap="BaseResultMap"  parameterType="Object">
	select 
	<include refid="Base_Column_List"/>
	from TD_METRIC_WEEK_ACTIVE 
	<include refid="Base_Where_Clause"/>
	<if test="pager.orderCondition != null and pager.orderCondition != ''" >
       ${pager.orderCondition}
    </if>
    <if test="pager.mysqlQueryCondition != null and pager.mysqlQueryCondition != ''" >
       ${pager.mysqlQueryCondition}
    </if>
  </select>
</mapper>   
