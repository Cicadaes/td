<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="td.enterprise.dao.ProjectIndexDao">
    <select id="queryByCount" resultType="java.lang.Integer" parameterType="Object">
        SELECT count(*)
        FROM TD_PROJECT_INDEX
        WHERE project_id = #{projectId}
    </select>

    <update id="batchUpdate" parameterType="java.util.List">

        <foreach collection="list" item="item" index="index" open="" close="" separator=";">
            UPDATE
            TD_PROJECT_INDEX
            SET
            sensor_num = #{item.sensorNum} ,
            health_rate = #{item.healthRate} ,
            no_log_duration = #{item.noLogDuration},
            thirty_no_log_duration = #{item.thirtyNoLogDuration},
            update_time = #{item.updateTime},
            update_by = #{item.updateBy},
            updater = #{item.updater}
            WHERE
            project_id = #{item.projectId}
        </foreach>

    </update>


</mapper>
