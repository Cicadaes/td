"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", { value: true });
const core_1 = require("@angular/core");
let cmFormComponent = class cmFormComponent {
    constructor(ref) {
        this.ref = ref;
        this.isCollapse = false;
        this.isShow = false;
    }
    ngOnInit() {
        this.toggleCollapse();
        setTimeout(() => {
            this.html = this.ref.nativeElement.querySelector('.leftBox');
            this.top = this.html.children[0]['offsetTop'];
            this.length = this.html.children.length;
            this.maxWidth = this.html.children[0]['offsetWidth'] + this.html.children[0]['offsetLeft'];
            this.maxTop = this.html.children[0]['offsetTop'];
            this.maxLeft = this.html.children[0]['offsetLeft'];
            for (var i = 0; i < this.length; i++) {
                if (this.html.children[i]['offsetTop'] > this.top) {
                    this.isShow = true;
                }
                if (this.html.children[i]['offsetTop'] > this.maxTop) {
                    this.maxTop = this.html.children[i]['offsetTop'];
                }
                if (this.html.children[i]['offsetLeft'] > this.maxLeft) {
                    this.maxLeft = this.html.children[i]['offsetLeft'];
                }
            }
            for (var i = 0; i < this.length; i++) {
                // console.log(this.maxTop,this.html.children[i]['offsetTop'])           
                if (this.html.children[i]['offsetTop'] == this.maxTop) {
                    // console.log(this.html.children[i])               
                    this.html.children[i].style.marginBottom = "0";
                }
                else {
                    this.html.children[i].style.marginBottom = "16px";
                }
            }
            for (var i = 0; i < this.length; i++) {
                // console.log(this.maxTop,this.html.children[i]['offsetTop'])           
                if (this.html.children[i]['offsetLeft'] == this.maxLeft) {
                    // console.log(this.html.children[i])               
                    this.html.children[i].style.marginRight = "0";
                }
                else {
                    this.html.children[i].style.marginRight = "24px";
                }
            }
        }, 0);
    }
    toggleCollapse() {
        this.isCollapse = !this.isCollapse;
        for (var i = 1; i < this.length; i++) {
            if (this.isCollapse == false && this.html.children[i]['offsetTop'] > this.top) {
                this.html.children[i]["style"]['display'] = "none";
            }
            else {
                this.html.children[i]["style"]['display'] = "";
            }
        }
        for (var i = 0; i < this.length; i++) {
            if (this.isCollapse == false) {
                this.html.children[i].style.marginBottom = "0";
            }
            else {
                this.html.children[i].style.marginBottom = "16px";
                // console.log(this.html.children[i]['offsetTop'],this.maxTop)
                if (this.html.children[i]['offsetTop'] == this.maxTop) {
                    // console.log(this.html.children[i])
                    this.html.children[i].style.marginBottom = "0";
                }
                else {
                    this.html.children[i].style.marginBottom = "16px";
                }
            }
        }
    }
    ngAfterViewInit() {
    }
};
cmFormComponent = __decorate([
    core_1.Component({
        selector: 'cm-from-layout',
        template: `
      <div class="form-layout">
          <div class="form-search">
              <ng-content selector="[left]"></ng-content>
              <ng-content selector="[right]"></ng-content>
              <a *ngIf="isShow" class="show" (click)="toggleCollapse()">
                  <i class="anticon" [class.anticon-down]="isCollapse" [class.anticon-up]="!isCollapse"></i>
              </a>
          </div>
      </div>
    `,
        styles: [`
      ::ng-deep .clearfix:after {
        content: "";
        display: block;
        height: 0;
        clear: both;
        visibility: hidden;
        overflow: hidden;
      }
      ::ng-deep .form-search {
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
      }
      ::ng-deep .form-search .form-item {
        display: inline-block;
        align-items: center;
        height: 32px;
        margin-bottom: 16px;
        margin-right: 24px;
        width: 270px;
      }
      ::ng-deep .form-search .form-item .form-item-input {
        display: flex;
        align-items: center;
        min-width: 220px;
      }
      ::ng-deep .form-search .form-item .lable {
        padding-right: 6px;
        min-width: 70px;
        text-align: right;
      }
      ::ng-deep .form-item-input .input {
        width: 200px;
      }
      ::ng-deep .leftBox {
        display: flex;
        flex-wrap: wrap;
      }
      ::ng-deep [left] {
        border-right: 1px solid #ddd;
        width: 100%;
        padding-right: 24px;
        flex: 3;
      }
      ::ng-deep [right] {
        padding-left: 24px;
        height: 100%;
      }
      ::ng-deep [right] .ant-btn.ant-btn-primary {
        width: 60px;
        height: 32px;
      }
      ::ng-deep .show {
        margin-left: 8px;
        font-size: 12px;
      }
    `]
    }),
    __metadata("design:paramtypes", [core_1.ElementRef])
], cmFormComponent);
exports.cmFormComponent = cmFormComponent;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJhc2UvY21Gb3JtL2NtRm9ybS5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQSx3Q0FBNkg7QUE2RTdILElBQWEsZUFBZSxHQUE1QjtJQVVJLFlBQW9CLEdBQWU7UUFBZixRQUFHLEdBQUgsR0FBRyxDQUFZO1FBVG5DLGVBQVUsR0FBWSxLQUFLLENBQUM7UUFDNUIsV0FBTSxHQUFZLEtBQUssQ0FBQztJQVV4QixDQUFDO0lBQ0QsUUFBUTtRQUNKLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQTtRQUNyQixVQUFVLENBQUMsR0FBRyxFQUFFO1lBQ1osSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLGFBQWEsQ0FBQyxhQUFhLENBQUMsVUFBVSxDQUFDLENBQUM7WUFDN0QsSUFBSSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxXQUFXLENBQUMsQ0FBQTtZQUM3QyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQztZQUN4QyxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFBO1lBQzFGLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsV0FBVyxDQUFDLENBQUE7WUFDaEQsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQTtZQUNsRCxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtnQkFDbEMsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxXQUFXLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxFQUFFO29CQUMvQyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQTtpQkFDckI7Z0JBQ0QsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxXQUFXLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFO29CQUNsRCxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxDQUFBO2lCQUNuRDtnQkFDRCxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLFlBQVksQ0FBQyxHQUFHLElBQUksQ0FBQyxPQUFPLEVBQUU7b0JBQ3BELElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUE7aUJBQ3JEO2FBQ0o7WUFDRCxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtnQkFDbEMseUVBQXlFO2dCQUN6RSxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUU7b0JBQ25ELG9EQUFvRDtvQkFDcEQsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLFlBQVksR0FBRyxHQUFHLENBQUE7aUJBQ2pEO3FCQUFNO29CQUNILElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxZQUFZLEdBQUcsTUFBTSxDQUFBO2lCQUNwRDthQUNKO1lBQ0QsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7Z0JBQ2xDLHlFQUF5RTtnQkFDekUsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxZQUFZLENBQUMsSUFBSSxJQUFJLENBQUMsT0FBTyxFQUFFO29CQUNyRCxvREFBb0Q7b0JBQ3BELElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxXQUFXLEdBQUcsR0FBRyxDQUFBO2lCQUNoRDtxQkFBTTtvQkFDSCxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsV0FBVyxHQUFHLE1BQU0sQ0FBQTtpQkFDbkQ7YUFDSjtRQUNMLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQTtJQUVULENBQUM7SUFDRCxjQUFjO1FBQ1YsSUFBSSxDQUFDLFVBQVUsR0FBRyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUM7UUFDbkMsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDbEMsSUFBSSxJQUFJLENBQUMsVUFBVSxJQUFJLEtBQUssSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxXQUFXLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxFQUFFO2dCQUMzRSxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxTQUFTLENBQUMsR0FBRyxNQUFNLENBQUM7YUFDdEQ7aUJBQU07Z0JBQ0gsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsU0FBUyxDQUFDLEdBQUcsRUFBRSxDQUFDO2FBQ2xEO1NBQ0o7UUFDRCxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUNsQyxJQUFJLElBQUksQ0FBQyxVQUFVLElBQUksS0FBSyxFQUFFO2dCQUMxQixJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsWUFBWSxHQUFHLEdBQUcsQ0FBQTthQUNqRDtpQkFBTTtnQkFDSCxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsWUFBWSxHQUFHLE1BQU0sQ0FBQTtnQkFDakQsOERBQThEO2dCQUM5RCxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUU7b0JBQ25ELHFDQUFxQztvQkFDckMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLFlBQVksR0FBRyxHQUFHLENBQUE7aUJBQ2pEO3FCQUFNO29CQUNILElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxZQUFZLEdBQUcsTUFBTSxDQUFBO2lCQUNwRDthQUNKO1NBQ0o7SUFDTCxDQUFDO0lBQ0QsZUFBZTtJQUNmLENBQUM7Q0FDSixDQUFBO0FBaEZZLGVBQWU7SUF6RTNCLGdCQUFTLENBQUM7UUFDUCxRQUFRLEVBQUUsZ0JBQWdCO1FBQzFCLFFBQVEsRUFBRTs7Ozs7Ozs7OztLQVVUO1FBQ0QsTUFBTSxFQUFFLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7S0EwRFIsQ0FBQztLQUNMLENBQUM7cUNBVzJCLGlCQUFVO0dBVjFCLGVBQWUsQ0FnRjNCO0FBaEZZLDBDQUFlIiwiZmlsZSI6ImJhc2UvY21Gb3JtL2NtRm9ybS5jb21wb25lbnQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIElucHV0LCBPdXRwdXQsIE9uSW5pdCwgT25DaGFuZ2VzLCBPbkRlc3Ryb3ksIEVsZW1lbnRSZWYsIFZpZXdDaGlsZCwgQWZ0ZXJWaWV3SW5pdCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgZGVidWcgfSBmcm9tICd1dGlsJztcblxuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ2NtLWZyb20tbGF5b3V0JyxcbiAgICB0ZW1wbGF0ZTogYFxuICAgICAgPGRpdiBjbGFzcz1cImZvcm0tbGF5b3V0XCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tc2VhcmNoXCI+XG4gICAgICAgICAgICAgIDxuZy1jb250ZW50IHNlbGVjdG9yPVwiW2xlZnRdXCI+PC9uZy1jb250ZW50PlxuICAgICAgICAgICAgICA8bmctY29udGVudCBzZWxlY3Rvcj1cIltyaWdodF1cIj48L25nLWNvbnRlbnQ+XG4gICAgICAgICAgICAgIDxhICpuZ0lmPVwiaXNTaG93XCIgY2xhc3M9XCJzaG93XCIgKGNsaWNrKT1cInRvZ2dsZUNvbGxhcHNlKClcIj5cbiAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwiYW50aWNvblwiIFtjbGFzcy5hbnRpY29uLWRvd25dPVwiaXNDb2xsYXBzZVwiIFtjbGFzcy5hbnRpY29uLXVwXT1cIiFpc0NvbGxhcHNlXCI+PC9pPlxuICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICBgLFxuICAgIHN0eWxlczogW2BcbiAgICAgIDo6bmctZGVlcCAuY2xlYXJmaXg6YWZ0ZXIge1xuICAgICAgICBjb250ZW50OiBcIlwiO1xuICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgaGVpZ2h0OiAwO1xuICAgICAgICBjbGVhcjogYm90aDtcbiAgICAgICAgdmlzaWJpbGl0eTogaGlkZGVuO1xuICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgfVxuICAgICAgOjpuZy1kZWVwIC5mb3JtLXNlYXJjaCB7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICB9XG4gICAgICA6Om5nLWRlZXAgLmZvcm0tc2VhcmNoIC5mb3JtLWl0ZW0ge1xuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIGhlaWdodDogMzJweDtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMTZweDtcbiAgICAgICAgbWFyZ2luLXJpZ2h0OiAyNHB4O1xuICAgICAgICB3aWR0aDogMjcwcHg7XG4gICAgICB9XG4gICAgICA6Om5nLWRlZXAgLmZvcm0tc2VhcmNoIC5mb3JtLWl0ZW0gLmZvcm0taXRlbS1pbnB1dCB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIG1pbi13aWR0aDogMjIwcHg7XG4gICAgICB9XG4gICAgICA6Om5nLWRlZXAgLmZvcm0tc2VhcmNoIC5mb3JtLWl0ZW0gLmxhYmxlIHtcbiAgICAgICAgcGFkZGluZy1yaWdodDogNnB4O1xuICAgICAgICBtaW4td2lkdGg6IDcwcHg7XG4gICAgICAgIHRleHQtYWxpZ246IHJpZ2h0O1xuICAgICAgfVxuICAgICAgOjpuZy1kZWVwIC5mb3JtLWl0ZW0taW5wdXQgLmlucHV0IHtcbiAgICAgICAgd2lkdGg6IDIwMHB4O1xuICAgICAgfVxuICAgICAgOjpuZy1kZWVwIC5sZWZ0Qm94IHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC13cmFwOiB3cmFwO1xuICAgICAgfVxuICAgICAgOjpuZy1kZWVwIFtsZWZ0XSB7XG4gICAgICAgIGJvcmRlci1yaWdodDogMXB4IHNvbGlkICNkZGQ7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBwYWRkaW5nLXJpZ2h0OiAyNHB4O1xuICAgICAgICBmbGV4OiAzO1xuICAgICAgfVxuICAgICAgOjpuZy1kZWVwIFtyaWdodF0ge1xuICAgICAgICBwYWRkaW5nLWxlZnQ6IDI0cHg7XG4gICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgIH1cbiAgICAgIDo6bmctZGVlcCBbcmlnaHRdIC5hbnQtYnRuLmFudC1idG4tcHJpbWFyeSB7XG4gICAgICAgIHdpZHRoOiA2MHB4O1xuICAgICAgICBoZWlnaHQ6IDMycHg7XG4gICAgICB9XG4gICAgICA6Om5nLWRlZXAgLnNob3cge1xuICAgICAgICBtYXJnaW4tbGVmdDogOHB4O1xuICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICB9XG4gICAgYF1cbn0pXG5leHBvcnQgY2xhc3MgY21Gb3JtQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0LCBBZnRlclZpZXdJbml0IHtcbiAgICBpc0NvbGxhcHNlOiBib29sZWFuID0gZmFsc2U7XG4gICAgaXNTaG93OiBib29sZWFuID0gZmFsc2U7XG4gICAgaHRtbDogYW55O1xuICAgIHRvcDogYW55O1xuICAgIGxlbmd0aDogbnVtYmVyO1xuICAgIG1heFdpZHRoOiBudW1iZXI7XG4gICAgbWF4VG9wOiBudW1iZXI7XG4gICAgbWF4TGVmdDogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSByZWY6IEVsZW1lbnRSZWYpIHtcblxuICAgIH1cbiAgICBuZ09uSW5pdCgpIHtcbiAgICAgICAgdGhpcy50b2dnbGVDb2xsYXBzZSgpXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5odG1sID0gdGhpcy5yZWYubmF0aXZlRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcubGVmdEJveCcpO1xuICAgICAgICAgICAgdGhpcy50b3AgPSB0aGlzLmh0bWwuY2hpbGRyZW5bMF1bJ29mZnNldFRvcCddXG4gICAgICAgICAgICB0aGlzLmxlbmd0aCA9IHRoaXMuaHRtbC5jaGlsZHJlbi5sZW5ndGg7XG4gICAgICAgICAgICB0aGlzLm1heFdpZHRoID0gdGhpcy5odG1sLmNoaWxkcmVuWzBdWydvZmZzZXRXaWR0aCddICsgdGhpcy5odG1sLmNoaWxkcmVuWzBdWydvZmZzZXRMZWZ0J11cbiAgICAgICAgICAgIHRoaXMubWF4VG9wID0gdGhpcy5odG1sLmNoaWxkcmVuWzBdWydvZmZzZXRUb3AnXVxuICAgICAgICAgICAgdGhpcy5tYXhMZWZ0ID0gdGhpcy5odG1sLmNoaWxkcmVuWzBdWydvZmZzZXRMZWZ0J11cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmh0bWwuY2hpbGRyZW5baV1bJ29mZnNldFRvcCddID4gdGhpcy50b3ApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc1Nob3cgPSB0cnVlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmh0bWwuY2hpbGRyZW5baV1bJ29mZnNldFRvcCddID4gdGhpcy5tYXhUb3ApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXhUb3AgPSB0aGlzLmh0bWwuY2hpbGRyZW5baV1bJ29mZnNldFRvcCddXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmh0bWwuY2hpbGRyZW5baV1bJ29mZnNldExlZnQnXSA+IHRoaXMubWF4TGVmdCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1heExlZnQgPSB0aGlzLmh0bWwuY2hpbGRyZW5baV1bJ29mZnNldExlZnQnXVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMubWF4VG9wLHRoaXMuaHRtbC5jaGlsZHJlbltpXVsnb2Zmc2V0VG9wJ10pICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5odG1sLmNoaWxkcmVuW2ldWydvZmZzZXRUb3AnXSA9PSB0aGlzLm1heFRvcCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmh0bWwuY2hpbGRyZW5baV0pICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaHRtbC5jaGlsZHJlbltpXS5zdHlsZS5tYXJnaW5Cb3R0b20gPSBcIjBcIlxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaHRtbC5jaGlsZHJlbltpXS5zdHlsZS5tYXJnaW5Cb3R0b20gPSBcIjE2cHhcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMubWF4VG9wLHRoaXMuaHRtbC5jaGlsZHJlbltpXVsnb2Zmc2V0VG9wJ10pICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5odG1sLmNoaWxkcmVuW2ldWydvZmZzZXRMZWZ0J10gPT0gdGhpcy5tYXhMZWZ0KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuaHRtbC5jaGlsZHJlbltpXSkgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5odG1sLmNoaWxkcmVuW2ldLnN0eWxlLm1hcmdpblJpZ2h0ID0gXCIwXCJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmh0bWwuY2hpbGRyZW5baV0uc3R5bGUubWFyZ2luUmlnaHQgPSBcIjI0cHhcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgMClcblxuICAgIH1cbiAgICB0b2dnbGVDb2xsYXBzZSgpIHtcbiAgICAgICAgdGhpcy5pc0NvbGxhcHNlID0gIXRoaXMuaXNDb2xsYXBzZTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc0NvbGxhcHNlID09IGZhbHNlICYmIHRoaXMuaHRtbC5jaGlsZHJlbltpXVsnb2Zmc2V0VG9wJ10gPiB0aGlzLnRvcCkge1xuICAgICAgICAgICAgICAgIHRoaXMuaHRtbC5jaGlsZHJlbltpXVtcInN0eWxlXCJdWydkaXNwbGF5J10gPSBcIm5vbmVcIjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5odG1sLmNoaWxkcmVuW2ldW1wic3R5bGVcIl1bJ2Rpc3BsYXknXSA9IFwiXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc0NvbGxhcHNlID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5odG1sLmNoaWxkcmVuW2ldLnN0eWxlLm1hcmdpbkJvdHRvbSA9IFwiMFwiXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuaHRtbC5jaGlsZHJlbltpXS5zdHlsZS5tYXJnaW5Cb3R0b20gPSBcIjE2cHhcIlxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuaHRtbC5jaGlsZHJlbltpXVsnb2Zmc2V0VG9wJ10sdGhpcy5tYXhUb3ApXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaHRtbC5jaGlsZHJlbltpXVsnb2Zmc2V0VG9wJ10gPT0gdGhpcy5tYXhUb3ApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5odG1sLmNoaWxkcmVuW2ldKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmh0bWwuY2hpbGRyZW5baV0uc3R5bGUubWFyZ2luQm90dG9tID0gXCIwXCJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmh0bWwuY2hpbGRyZW5baV0uc3R5bGUubWFyZ2luQm90dG9tID0gXCIxNnB4XCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgbmdBZnRlclZpZXdJbml0KCkge1xuICAgIH1cbn1cbiJdfQ==
