"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", { value: true });
var AdvancedFilterComponent_1;
const core_1 = require("@angular/core");
const forms_1 = require("@angular/forms");
const cloneDeep = require('lodash.clonedeep');
function toBoolean(value) {
    return value === '' || (value && value !== 'false');
}
function toArray(value) {
    let ret;
    if (value == null) {
        ret = [];
    }
    else if (!Array.isArray(value)) {
        ret = [value];
    }
    else {
        ret = value;
    }
    return ret;
}
let AdvancedFilterComponent = AdvancedFilterComponent_1 = class AdvancedFilterComponent {
    constructor(_elementRef, _render, _cdr) {
        this._elementRef = _elementRef;
        this._render = _render;
        this._cdr = _cdr;
        this._prefixCls = 'cm-filter';
        this._popupVisible = false;
        this._options = [];
        // ngModel Access
        this.onChange = Function.prototype;
        this.onTouched = Function.prototype;
        this.cmRequired = false;
        /** Property name for getting `value` in the option */
        this.cmValueProperty = 'value';
        /** Property name for getting `label` in the option */
        this.cmLabelProperty = 'label';
        this.tabIndex = '0';
        /** Event: emit on popup show or hide */
        this.cmVisibleChange = new core_1.EventEmitter();
        /** Event: emit on values changed */
        this.cmChange = new core_1.EventEmitter();
        /**
         * Event: emit on option selected, event data：{option: any, index: number}
         */
        this.cmSelect = new core_1.EventEmitter();
        /**
         * Event: emit on option unselected, event data：{option: any, index: number}
         */
        this.cmUnSelect = new core_1.EventEmitter();
        /** Event: emit on the clear button clicked */
        this.cmClear = new core_1.EventEmitter();
        this._el = this._elementRef.nativeElement;
    }
    getArrowCls(node) {
        return {
            [`${this._prefixCls}-picker-arrow`]: true,
            [`${this._prefixCls}-picker-arrow-expand`]: (node.expand || node.visible)
        };
    }
    /** 获取菜单中分类列表的样式 */
    get _classifyCls() {
        return {
            [`${this._prefixCls}-classify`]: true,
            [`${this.cmColumnClassName}`]: this.cmColumnClassName,
            [`${this._prefixCls}-edge`]: true,
            [`clearfix`]: true
        };
    }
    getPanelCls(node) {
        return {
            [`${this._prefixCls}-menus`]: true,
            [`${this._prefixCls}-menus-hidden`]: !node.visible,
            [`${this.cmColumnClassName}`]: this.cmColumnClassName,
            [`dropdownlist-content`]: true,
            [`${this._prefixCls}-tagwrap`]: !node.advanced,
            [`multi-mode`]: false,
        };
    }
    getMenuCls(node) {
        return {
            [`${this._prefixCls}-menuwrap`]: true,
            [`${this.cmPopupClassName}`]: this.cmPopupClassName,
            [`line1height`]: node.showOneLine && !node.expand && !node.multi,
            [`line2height`]: !node.showOneLine && !node.expand && !node.multi,
            [`autoheight`]: node.advanced || node.expand || node.multi,
            [`multi-mode`]: node.multi
        };
    }
    getButtonCls(childNode) {
        return {
            [`${this._prefixCls}-button`]: true,
            [`button-group `]: true,
            [`visible`]: (!childNode || childNode.visible)
        };
    }
    getSaveButtonCls(node) {
        return {
            [`saveMultiMode`]: true,
            [`btn `]: true,
            [`save`]: true,
            [`active`]: node.checked
        };
    }
    get _operationCls() {
        return {
            [`${this._prefixCls}-operational`]: true,
            [`morewrap`]: true,
        };
    }
    getItemCls(node) {
        return {
            [`${this._prefixCls}-menus`]: true,
            [`${this.cmPopupClassName}`]: this.cmPopupClassName,
            [`brands`]: !node.advanced,
            [`all`]: true,
            [`brands-cate`]: !node.showOneLine && !node.advanced,
            [`attr-items`]: node.advanced,
        };
    }
    /** 获取列中Option的样式 */
    getOptionCls(node, option, index) {
        return {
            [`${this._prefixCls}-menu-item`]: true,
            [`${this._prefixCls}-menu-item-expand`]: !node.isLeaf,
            [`${this._prefixCls}-menu-item-active`]: node.visible,
            [`${this._prefixCls}-menu-item-seleted`]: !node.advanced && option.checked,
            [`${this._prefixCls}-multiItem`]: true,
            [`list-item `]: node.visible,
            [`dditem`]: node.advanced,
            [`active`]: option.visible,
        };
    }
    /** 获取Option的值，例如，可以指定labelProperty="name"来取Name */
    getOptionLabel(option) {
        return option[this.cmLabelProperty || 'label'];
    }
    /** 获取Option的值，例如，可以指定valueProperty="id"来取ID */
    getOptionValue(option) {
        return option[this.cmValueProperty || 'value'];
    }
    /** 由用户来定义点击后是否变更 */
    _isChangeOn(option, index) {
        if (typeof this.cmChangeOn === 'function') {
            return this.cmChangeOn(option, index) === true;
        }
        return false;
    }
    _onTriggerClick(event) {
        this.onTouched(); // set your control to 'touched'
        const popupEl = this.menu && this.menu.nativeElement;
        if (popupEl && popupEl.contains(event.target)) {
            return; // 还在菜单内部
        }
    }
    _onTriggerMouseLeave(event) {
        //const currEl = this._el;
        const popupEl = this.menu && this.menu.nativeElement;
        if (popupEl && popupEl.contains(event.target)) {
            return; // 还在菜单内部
        }
    }
    closeMenu() {
        this._clearDelayTimer();
        this.setPopupVisible(false);
    }
    setPopupVisible(popupVisible) {
        if (this._popupVisible !== popupVisible) {
            this._popupVisible = popupVisible;
            if (popupVisible) {
                if (!this._clickOutsideHandler) {
                    this._clickOutsideHandler = this._render.listen('document', 'mousedown', this._onDocumentClick.bind(this));
                }
                // always hide on mobile
                if (!this._touchOutsideHandler) {
                    this._touchOutsideHandler = this._render.listen('document', 'touchstart', this._onDocumentClick.bind(this));
                }
            }
            if (!popupVisible) {
                this._clearOutsideHandler();
            }
            this.cmVisibleChange.emit(popupVisible);
        }
    }
    _onDocumentClick(event) {
        const target = event.target;
        const popupEl = this.menu && this.menu.nativeElement;
        if (!this._el.contains(target) && !popupEl.contains(target)) {
            this.setPopupVisible(false);
        }
    }
    _clearOutsideHandler() {
        if (this._clickOutsideHandler) {
            this._clickOutsideHandler(); // Removes "listen" listener
            this._clickOutsideHandler = null;
        }
        if (this._touchOutsideHandler) {
            this._touchOutsideHandler(); // Removes "listen" listener
            this._touchOutsideHandler = null;
        }
    }
    _clearDelayTimer() {
        if (this._delayTimer) {
            clearTimeout(this._delayTimer);
            this._delayTimer = null;
        }
    }
    onExpandClick(option, index, event) {
        event.preventDefault();
        option.expand = !option.expand;
    }
    onMultiClick(option, index, event) {
        event.preventDefault();
        event.stopPropagation();
        option.multi = !option.multi;
    }
    checkNecessary(node, option, index) {
        let pnode = node.advanced ? node.items[index] : node;
        if (pnode.isNecessary) {
            let only = true;
            let arr = pnode.items;
            for (let i = 0; i < arr.length; i++) {
                if (arr[i].value != option.value && arr[i].checked) {
                    only = false;
                    break;
                }
            }
            if (only) {
                return true;
            }
        }
        if (this.cmRequired && option.checked) {
            let only = true;
            let arr = this._selectedOptions && this._selectedOptions[pnode.value] || [];
            for (let key in this._selectedOptions) {
                if (key != pnode.value) {
                    if (this._selectedOptions[key] && this._selectedOptions[key].length) {
                        only = false;
                        break;
                    }
                }
            }
            if (only) {
                if (arr.length <= 1) {
                    return true;
                }
            }
        }
        return false;
    }
    /**
     * 设置某列的激活的菜单选项
     *
     * @param option 菜单选项
     * @param index  选项所在的列组的索引
     */
    setActiveOption(node, option, index) {
        if (!node || !option) {
            return;
        }
        if (!this._activatedOptions) {
            this._activatedOptions = {};
        }
        if (option.checked) {
            this.cmSelect.emit({ option, index });
            if (node.advanced && node.items && node.items[index]) {
                node.items[index].checked = true;
                if (!this._activatedOptions[node.items[index].value]) {
                    this._activatedOptions[node.items[index].value] = [];
                }
                if (node.multi) {
                    this._activatedOptions[node.items[index].value].push(option.value);
                }
                else {
                    for (let i = 0; i < node.items[index].items.length; i++) {
                        if (node.items[index].items[i].value != option.value) {
                            node.items[index].items[i].checked = false;
                        }
                    }
                    this._activatedOptions[node.items[index].value] = [option.value];
                }
            }
            else {
                node.checked = true;
                if (!this._activatedOptions[node.value]) {
                    this._activatedOptions[node.value] = [];
                }
                if (node.multi) {
                    this._activatedOptions[node.value].push(option.value);
                }
                else {
                    for (let i = 0; i < node.items.length; i++) {
                        if (node.items[i].value != option.value) {
                            node.items[i].checked = false;
                        }
                    }
                    this._activatedOptions[node.value] = [option.value];
                }
            }
        }
        else {
            this.cmUnSelect.emit({ option, index });
            if (node.advanced && node.items && node.items[index]) {
                if (node.multi) {
                    if (this._activatedOptions[node.items[index].value]) {
                        let len = this._activatedOptions[node.items[index].value].length;
                        for (let i = 0; i < len; i++) {
                            if (option.value == this._activatedOptions[node.items[index].value][i]) {
                                this._activatedOptions[node.items[index].value].splice(i, 1);
                                break;
                            }
                        }
                        if (this._activatedOptions[node.items[index].value] && !this._activatedOptions[node.items[index].value].length) {
                            node.items[index].checked = false;
                            delete this._activatedOptions[node.items[index].value];
                        }
                    }
                }
                else {
                    node.items[index].checked = false;
                    delete this._activatedOptions[node.items[index].value];
                }
            }
            else {
                if (node.multi) {
                    if (this._activatedOptions[node.value]) {
                        let len = this._activatedOptions[node.value].length;
                        for (let i = 0; i < len; i++) {
                            if (option.value == this._activatedOptions[node.value][i]) {
                                this._activatedOptions[node.value].splice(i, 1);
                                break;
                            }
                        }
                        if (!this._activatedOptions[node.value].length) {
                            node.checked = false;
                            delete this._activatedOptions[node.value];
                        }
                    }
                }
                else {
                    node.checked = false;
                    delete this._activatedOptions[node.value];
                }
            }
        }
        this._isChangeOn(option, index);
        if (!node.multi) {
            this._selectedOptions = cloneDeep(this._activatedOptions);
            // 触发变更事件
            this.onValueChange();
        }
    }
    /**
     * 鼠标点击选项
     *
     * @param option 菜单选项
     * @param index 选项所在的列组的索引
     * @param event 鼠标事件
     */
    onOptionClick(node, option, index, event) {
        event.preventDefault();
        event.stopPropagation();
        if (option && option.disabled) {
            return;
        }
        if (option.checked && this.checkNecessary(node, option, index)) {
            return;
        }
        option.checked = !option.checked;
        this.setActiveOption(node, option, index);
    }
    onSelectClick(node, index, event) {
        event.preventDefault();
        event.stopPropagation();
        if (!this._activatedOptions) {
            return;
        }
        if (node.advanced && node.items && node.items[index]) {
            if (this._activatedOptions[node.items[index].value]) {
                this._selectedOptions[node.items[index].value] = this._activatedOptions[node.items[index].value];
                // 触发变更事件
                this.onValueChange();
            }
        }
        else {
            if (this._activatedOptions[node.value]) {
                this._selectedOptions[node.value] = this._activatedOptions[node.value];
                // 触发变更事件
                this.onValueChange();
            }
        }
    }
    onCancelClick(node, index, event) {
        event.preventDefault();
        event.stopPropagation();
        node.multi = !node.multi;
        if (node.advanced && node.items && node.items[index]) {
            let activatedOptions = this._selectedOptions && this._selectedOptions[node.items[index].value] || [];
            let len = node.items[index].items && node.items[index].items.length || 0;
            for (let i = 0; i < len; i++) {
                let tag = false;
                for (let j = 0; j < activatedOptions.length; j++) {
                    if (node.items[index].items[i].value == activatedOptions[j]) {
                        tag = true;
                        break;
                    }
                }
                node.items[index].items[i].checked = tag;
            }
        }
        else {
            let activatedOptions = this._selectedOptions && this._selectedOptions[node.value] || [];
            for (let i = 0; i < node.items.length; i++) {
                let tag = false;
                for (let j = 0; j < activatedOptions.length; j++) {
                    if (node.items[i].value == activatedOptions[j]) {
                        tag = true;
                        break;
                    }
                }
                node.items[i].checked = tag;
            }
        }
    }
    delayInvisible(option, index) {
        this._clearDelayTimer();
        this._delayTimer = setTimeout(() => {
            option.visible = false;
            this._delayTimer = null;
        }, 500);
    }
    /**
     * 鼠标划入选项
     *
     * @param option 菜单选项
     * @param index 选项所在的列组的索引
     * @param event 鼠标事件
     */
    onOptionMouseEnter(node, option, index, event) {
        event.preventDefault();
        if (node.advanced) {
            for (let i = 0; i < node.items.length; i++) {
                node.items[i].visible = false;
            }
            option.visible = true;
        }
    }
    /**
     * 鼠标划出选项
     *
     * @param option 菜单选项
     * @param index 选项所在的列组的索引
     * @param event 鼠标事件
     */
    onOptionMouseLeave(node, option, index, event) {
        event.preventDefault();
        if (node.advanced) {
            this.delayInvisible(option, index);
        }
    }
    /**
     * 鼠标划入选项
     *
     * @param panel 菜单选项
     * @param index 选项所在的列组的索引
     * @param event 鼠标事件
     */
    onPanelMouseEnter(option, index, event) {
        event.preventDefault();
        this._clearDelayTimer();
        option.visible = true;
    }
    /**
     * 鼠标划出选项
     *
     * @param panel 菜单选项
     * @param index 选项所在的列组的索引
     * @param event 鼠标事件
     */
    onPanelMouseLeave(option, index, event) {
        event.preventDefault();
        this.delayInvisible(option, index);
    }
    onValueChange() {
        this.onChange(this._selectedOptions); // Angular need this
        this.cmChange.emit(this._selectedOptions);
    }
    _addHostClass(classname) {
        this._render.addClass(this._el, classname);
    }
    _removeHostClass(classname) {
        this._render.removeClass(this._el, classname);
    }
    writeSelected(array) {
        if (!array || !array.length) {
            return;
        }
        for (let i = 0; i < array.length; i++) {
            let len = array[i].items && array[i].items.length || 0;
            for (let j = 0; j < len; j++) {
                if (!this._selectedOptions) {
                    this._selectedOptions = {};
                }
                if (!this._selectedOptions[array[i].value]) {
                    this._selectedOptions[array[i].value] = [];
                }
                this._selectedOptions[array[i].value].push(array[i].items[j].value);
                for (let m = 0; m < this._options.length; m++) {
                    if (this._options[m].value == array[i].value) {
                        let options = this._options[m].items || [];
                        let optionsLen = options && options.length || 0;
                        for (let n = 0; n < optionsLen; n++) {
                            if (array[i].items[j].value == options[n].value) {
                                options[n]['checked'] = true;
                                break;
                            }
                        }
                        break;
                    }
                }
            }
        }
    }
    /**
     * Write a new value to the element.
     *
     * @Override (From ControlValueAccessor interface)
     */
    writeValue(value) {
        const array = [];
        toArray(value).forEach((v, index) => {
            if (typeof v !== 'object') {
                const obj = {};
                obj[this.cmValueProperty] = v;
                obj[this.cmLabelProperty] = v;
                array[index] = obj;
            }
            else {
                array[index] = v;
            }
        });
        this.writeSelected(array);
        this._activatedOptions = this._selectedOptions;
    }
    registerOnChange(fn) {
        this.onChange = fn;
    }
    registerOnTouched(fn) {
        this.onTouched = fn;
    }
    ngOnInit() {
        if (this.cmOptions && this.cmOptions.length) {
            this._options = this.cmOptions;
        }
    }
    ngOnDestroy() {
        this._clearDelayTimer();
    }
    ngOnChanges(changes) {
        const cmOptions = changes.cmOptions;
        if (cmOptions && !cmOptions.isFirstChange()) {
            this._options = [];
            const newOptions = cmOptions.currentValue;
            if (newOptions && newOptions.length) {
                this._options.push(newOptions);
            }
        }
    }
    ngAfterViewInit() {
        this._addHostClass(this._prefixCls);
        this._addHostClass(`${this._prefixCls}-picker`);
    }
};
__decorate([
    core_1.Input(),
    __metadata("design:type", Boolean)
], AdvancedFilterComponent.prototype, "cmRequired", void 0);
__decorate([
    core_1.Input(),
    __metadata("design:type", String)
], AdvancedFilterComponent.prototype, "cmPopupClassName", void 0);
__decorate([
    core_1.Input(),
    __metadata("design:type", String)
], AdvancedFilterComponent.prototype, "cmColumnClassName", void 0);
__decorate([
    core_1.Input(),
    __metadata("design:type", Array)
], AdvancedFilterComponent.prototype, "cmOptions", void 0);
__decorate([
    core_1.Input(),
    __metadata("design:type", Function)
], AdvancedFilterComponent.prototype, "cmChangeOn", void 0);
__decorate([
    core_1.Input(),
    __metadata("design:type", Object)
], AdvancedFilterComponent.prototype, "cmValueProperty", void 0);
__decorate([
    core_1.Input(),
    __metadata("design:type", Object)
], AdvancedFilterComponent.prototype, "cmLabelProperty", void 0);
__decorate([
    core_1.ViewChild('menu'),
    __metadata("design:type", core_1.ElementRef)
], AdvancedFilterComponent.prototype, "menu", void 0);
__decorate([
    core_1.HostBinding('attr.tabIndex'),
    __metadata("design:type", Object)
], AdvancedFilterComponent.prototype, "tabIndex", void 0);
__decorate([
    core_1.Output(),
    __metadata("design:type", Object)
], AdvancedFilterComponent.prototype, "cmVisibleChange", void 0);
__decorate([
    core_1.Output(),
    __metadata("design:type", Object)
], AdvancedFilterComponent.prototype, "cmChange", void 0);
__decorate([
    core_1.Output(),
    __metadata("design:type", Object)
], AdvancedFilterComponent.prototype, "cmSelect", void 0);
__decorate([
    core_1.Output(),
    __metadata("design:type", Object)
], AdvancedFilterComponent.prototype, "cmUnSelect", void 0);
__decorate([
    core_1.Output(),
    __metadata("design:type", Object)
], AdvancedFilterComponent.prototype, "cmClear", void 0);
__decorate([
    core_1.HostListener('click', ['$event']),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [MouseEvent]),
    __metadata("design:returntype", void 0)
], AdvancedFilterComponent.prototype, "_onTriggerClick", null);
__decorate([
    core_1.HostListener('mouseleave', ['$event']),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [MouseEvent]),
    __metadata("design:returntype", void 0)
], AdvancedFilterComponent.prototype, "_onTriggerMouseLeave", null);
AdvancedFilterComponent = AdvancedFilterComponent_1 = __decorate([
    core_1.Component({
        encapsulation: core_1.ViewEncapsulation.None,
        selector: 'cm-advancedfilter',
        template: `

      <div class="cm-filter-opertaion">
          <div *ngFor="let node of _options; let i = index;" [ngClass]="_classifyCls" [attr.data-key]="i">
              <div class="name">{{ getOptionLabel(node) }}</div>
              <div [ngClass]="getMenuCls(node)">
                  <div class="cm-filter-menu">
                      <div [ngClass]="getItemCls(node)">
                          <span *ngFor="let option of node.items"
                              [attr.data-key]="getOptionValue(option)"
                              [attr.title]="option.title || getOptionLabel(option)"
                              [ngClass]="getOptionCls(node, option, i)"
                              (mouseenter)="onOptionMouseEnter(node, option, i, $event)"
                              (mouseleave)="onOptionMouseLeave(node, option, i, $event)"
                              (click)="onOptionClick(node, option, i, $event)">
                              {{ getOptionLabel(option) }}
                              <i *ngIf="node.advanced" class="anticon anticon-down" [ngClass]="getArrowCls(option)"></i>
                          </span>
                      </div>
                  </div>
                  <div *ngIf="node.multi && !node.advanced" [ngClass]="getButtonCls()">
                      <span [ngClass]="getSaveButtonCls(node)" (click)="onSelectClick(node, i, $event)">确定</span>
                      <span class="btn cancel cancelMultiMode" (click)="onCancelClick(node, i, $event)">取消</span>
                  </div>
              </div>
              <div *ngIf="!node.advanced && !node.multi" [ngClass]="_operationCls">
                  <div class="more ctag" (click)="onExpandClick(node, i, $event)">
                      {{node.expand ? '收起' : '展开'}}
                      <i class="anticon anticon-down" [ngClass]="getArrowCls(node)"></i>
                  </div>
                  <span class="item-multiple openMultiMode" (click)="onMultiClick(node, i, $event)">
                      <i class="cm-iconfont cm-icon-miniplus"></i>
                      <span>多选</span>
                  </span>
              </div>

              <div #menu *ngIf="node.advanced">
                  <div *ngFor="let childnode of node.items; let j = index;" [attr.data-key]="j"
                       [ngClass]="getPanelCls(childnode)"
                       (mouseenter)="onPanelMouseEnter(childnode, i, $event)"
                       (mouseleave)="onPanelMouseLeave(childnode, i, $event)">
                      <div class="clearfix list">
                          <span *ngFor="let option of childnode.items"
                                [attr.data-key]="getOptionValue(option)"
                                [attr.title]="option.title || getOptionLabel(option)"
                                [ngClass]="getOptionCls(childnode, option, i)"
                                (click)="onOptionClick(node, option, j, $event)">
                              {{ getOptionLabel(option) }}
                          </span>

                          <span *ngIf="!node.multi" class="item-multiple openMultiMode" (click)="onMultiClick(node, i, $event)">
                              <i class="cm-iconfont cm-icon-miniplus"></i>
                              <span>多选</span>
                          </span>
                      </div>
                      <div *ngIf="node.multi" [ngClass]="getButtonCls(childnode)">
                          <span [ngClass]="getSaveButtonCls(childnode)" (click)="onSelectClick(node, j, $event)">确定</span>
                          <span class="btn cancel cancelMultiMode" (click)="onCancelClick(node, j, $event)">取消</span>
                      </div>
                  </div>
              </div>
          </div>
      </div>
    `,
        styles: [`
      .cm-filter-picker {
        outline: 0;
      }
      .cm-filter-opertaion {
        margin-bottom: 10px;
        background-color: #fff;
        border: 1px solid #eaeaea;
      }
      .cm-filter-menus-hidden {
        display: none;
      }
      .cm-filter-menu-item-seleted {
        color: #2d8cf0!important;
        font-weight: bold;
      }
      .cm-filter-picker-arrow {
        position: absolute;
        z-index: 1;
        top: 50%;
        right: 5px;
        width: 12px;
        height: 12px;
        margin-top: -6px;
        line-height: 12px;
        color: rgba(0, 0, 0, 0.43);
        display: inline-block;
        font-size: 12px;
        font-size: 9px\\9;
        -webkit-transform: scale(0.75) rotate(0deg);
        transform: scale(0.75) rotate(0deg);
        -ms-filter: "progid:DXImageTransform.Microsoft.Matrix(sizingMethod='auto expand', M11=1, M12=0, M21=0, M22=1)";
        zoom: 1;
      }
      .cm-filter-picker-arrow {
        -webkit-filter: none;
        filter: none;
      }
      .cm-filter-picker-arrow::before {
        content: "\\E61D";
        display: block;
        font-family: anticon!important;
        -webkit-transition: -webkit-transform 0.2s ease;
        transition: -webkit-transform 0.2s ease;
        transition: transform .2s ease;
        transition: transform 0.2s ease, -webkit-transform 0.2s ease;
      }
      .cm-filter-menu-item .cm-filter-picker-arrow {
        position: relative;
        right: 0;
      }
      .cm-filter-picker-arrow.cm-filter-picker-arrow-expand:before {
        -webkit-transform: rotate(180deg);
        transform: rotate(180deg);
      }
      .cm-icon-miniplus {
        font-size: 12px;
      }
      .name {
        float: left;
        width: 75px;
        height: 100%;
        padding-top: 15px;
        padding-left: 15px;
        color: #666;
        font-size: 13px;
        line-height: 14px;
        background: #f8f8f8;
      }
      .cm-filter-picker .name {
        font-size: 12px;
        line-height: 12px;
        padding-top: 12px;
        width: 85px;
        white-space: nowrap;
        text-overflow: ellipsis;
        overflow: hidden;
      }
      .cm-filter-edge {
        border-bottom: 1px dotted #eaeaea;
      }
      .all {
        float: left;
        line-height: 22px;
        font-size: 12px;
      }
      .cm-filter-classify {
        position: relative;
        background: #f8f8f8;
      }
      .cm-filter-classify .cm-filter-menuwrap {
        margin-left: 90px;
        padding-right: 42px;
        padding-top: 15px;
        background-color: #fff;
      }
      .cm-filter-opertaion .cm-filter-classify .cm-filter-menuwrap {
        margin-left: 110px;
        padding: 8px 120px 4px 0;
      }
      .cm-filter-classify .cm-filter-menu {
        position: relative;
        height: 28px;
        overflow: hidden;
      }
      .cm-filter-classify .autoheight .cm-filter-menu {
        height: auto;
      }
      .cm-filter-classify .line2height .cm-filter-menu {
        height: 55px;
      }
      .cm-filter-opertaion .cm-filter-classify .line2height .cm-filter-menu {
        height: 48px;
      }
      .cm-filter-opertaion .cm-filter-classify .line1height .cm-filter-menu {
        height: 24px;
      }
      .cm-filter-classify .attr-items {
        position: relative;
      }
      .cm-filter-classify .brands {
        _float: left;
        margin-left: 15px;
        line-height: 14px;
        overflow: auto;
      }
      .cm-filter-classify .brands b {
        display: none;
        position: absolute;
        top: 0;
        right: 4px;
        font-family: "iconfont";
      }
      .cm-filter-classify .brands span {
        float: left;
        display: inline-block;
        position: relative;
        padding-right: 24px;
        margin-bottom: 14px;
        cursor: pointer;
        font-size: 13px;
        text-decoration: none;
        color: #333;
        text-overflow: ellipsis;
        overflow: hidden;
        white-space: nowrap;
      }
      .cm-filter-classify .brands span:hover {
        color: #2d8cf0;
      }
      .cm-filter-classify .brands-cate span {
        width: 120px;
      }
      .cm-filter-opertaion .cm-filter-classify .brands span {
        position: relative;
        box-sizing: border-box;
        margin-right: 18px;
        margin-bottom: 4px;
        padding: 3px 5px;
        width: 120px;
        border: 1px solid transparent;
        font-size: 12px;
        line-height: 12px;
      }
      .cm-filter-classify .morewrap {
        position: absolute;
        cursor: pointer;
        top: 15px;
        right: 0;
      }
      .cm-filter-opertaion .cm-filter-classify .morewrap {
        top: 12px;
      }
      .f-cb:after,
      .clearfix:after {
        visibility: hidden;
        display: block;
        font-size: 0;
        content: "\\20 ";
        clear: both;
        height: 0;
      }
      .cm-filter-opertaion .cm-filter-classify .cm-filter-menuwrap .button-group {
        box-sizing: border-box;
        font-size: 0;
        text-align: center;
        padding-bottom: 10px;
        margin-top: 5px;
      }
      .cm-filter-opertaion .cm-filter-classify .cm-filter-menuwrap .button-group {
        display: none;
      }
      .cm-filter-opertaion .cm-filter-classify .cm-filter-menuwrap .button-group.visible {
        display: block;
      }
      .cm-filter-opertaion .cm-filter-classify .cm-filter-menuwrap .button-group .btn {
        display: inline-block;
        width: 48px;
        height: 24px;
        line-height: 24px;
        text-align: center;
        font-size: 12px;
        cursor: pointer;
      }
      .cm-filter-opertaion .cm-filter-classify .cm-filter-menuwrap .button-group .save {
        background: #ccc;
        color: #fff;
      }
      .cm-filter-opertaion .cm-filter-classify .cm-filter-menuwrap .button-group .save.active {
        background: #2d8cf0;
      }
      .cm-filter-opertaion .cm-filter-classify .cm-filter-menuwrap .button-group .cancel {
        border: 1px solid #aaa;
        color: #333;
        margin-left: 10px;
        width: 46px;
        height: 22px;
        line-height: 22px;
      }
      .cm-filter-classify .more {
        position: relative;
        float: right;
        width: 42px;
        margin: auto 15px;
        line-height: 13px;
        font-size: 13px;
        cursor: pointer;
      }
      .cm-filter-opertaion .cm-filter-classify .more {
        margin-left: 0;
        font-size: 12px;
      }
      .cm-filter-opertaion .cm-filter-classify .item-multiple {
        display: inline-block;
        box-sizing: border-box;
        padding: 0 5px;
        height: 20px;
        line-height: 20px;
        color: #333;
        font-size: 12px;
        border: 1px solid #ddd;
        cursor: pointer;
      }
      .cm-filter-opertaion .cm-filter-classify .morewrap .item-multiple {
        float: right;
        margin: -4px 15px 0 0;
      }
      .cm-filter-opertaion .cm-filter-classify .item-multiple .iconfont {
        font-size: 12px;
        color: #333;
        height: 20px;
        line-height: 20px;
        position: relative;
      }
      .cm-filter-opertaion .cm-filter-classify .attr-items span.dditem {
        float: left;
        position: relative;
        border: 1px solid #ddd;
        padding: 3px 5px;
        line-height: 12px;
        font-size: 12px;
        margin: 0 0 4px 20px;
        cursor: pointer;
        color: #333;
      }
      .cm-filter-opertaion .cm-filter-classify .attr-items span.dditem.active {
        border: 1px solid #aaa;
        border-bottom-color: #fff;
        padding-bottom: 7px;
        margin-bottom: 0;
        color: #333;
        z-index: 101;
        text-decoration: none;
      }
      .cm-filter-opertaion .cm-filter-classify .dropdownlist-content {
        position: absolute;
        left: 0;
        top: 31px;
        width: 100%;
        border: 1px solid #aaa;
        background: #fff;
        z-index: 100;
        font-size: 12px;
        line-height: 12px;
        padding-bottom: 11px;
      }
      .cm-filter-opertaion .cm-filter-classify .dropdownlist-content .list {
        position: relative;
        padding-right: 65px;
        margin-bottom: 5px;
        margin-left: -8px;
      }
      .cm-filter-opertaion .cm-filter-classify .dropdownlist-content .list .item-multiple {
        position: absolute;
        right: 9px;
        top: 10px;
      }
      .cm-filter-opertaion .cm-filter-classify .dropdownlist-content span {
        color: #333;
      }
      .cm-filter-opertaion .cm-filter-classify .dropdownlist-content span:hover {
        color: #2d8cf0;
      }
      .cm-filter-opertaion .cm-filter-classify .dropdownlist-content .list-item {
        float: left;
        position: relative;
        margin: 11px 0 0 17px;
        cursor: pointer;
        padding: 3px 22px 3px 5px;
        border: 1px solid transparent;
      }
      .cm-filter-opertaion .cm-filter-classify .dropdownlist-content .button-group {
        display: none;
        box-sizing: border-box;
        font-size: 0;
        margin-top: 8px;
        text-align: center;
      }
      .cm-filter-opertaion .cm-filter-classify .dropdownlist-content .button-group.visible {
        display: block;
      }
      .cm-filter-opertaion .cm-filter-classify .dropdownlist-content.multi-mode .button-group {
        display: block;
      }
      .cm-filter-opertaion .cm-filter-classify .dropdownlist-content .button-group {
        display: none;
        box-sizing: border-box;
        font-size: 0;
        margin-top: 8px;
        text-align: center;
      }
      .cm-filter-opertaion .cm-filter-classify .dropdownlist-content .button-group .btn {
        display: inline-block;
        width: 48px;
        height: 24px;
        line-height: 24px;
        text-align: center;
        font-size: 12px;
        cursor: pointer;
      }
      .cm-filter-opertaion .cm-filter-classify .dropdownlist-content .button-group .save {
        background: #ccc;
        color: #fff;
      }
      .cm-filter-opertaion .cm-filter-classify .dropdownlist-content .button-group .save.active {
        background: #2d8cf0;
      }
      .cm-filter-opertaion .cm-filter-classify .dropdownlist-content .button-group .cancel {
        width: 46px;
        height: 22px;
        line-height: 22px;
        border: 1px solid #aaa;
        color: #333;
        margin-left: 10px;
      }
    `],
        providers: [
            {
                provide: forms_1.NG_VALUE_ACCESSOR,
                useExisting: core_1.forwardRef(() => AdvancedFilterComponent_1),
                multi: true
            }
        ]
    }),
    __metadata("design:paramtypes", [core_1.ElementRef,
        core_1.Renderer2,
        core_1.ChangeDetectorRef])
], AdvancedFilterComponent);
exports.AdvancedFilterComponent = AdvancedFilterComponent;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJ1c2luZXNzL2FkdmFuY2VkZmlsdGVyL2FkdmFuY2VkZmlsdGVyLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQSx3Q0FBNlA7QUFDN1AsMENBQXlFO0FBQ3pFLE1BQU0sU0FBUyxHQUFHLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0FBRTlDLG1CQUFtQixLQUF1QjtJQUN0QyxPQUFPLEtBQUssS0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLLElBQUksS0FBSyxLQUFLLE9BQU8sQ0FBQyxDQUFDO0FBQ3hELENBQUM7QUFFRCxpQkFBb0IsS0FBYztJQUM5QixJQUFJLEdBQVEsQ0FBQztJQUNiLElBQUksS0FBSyxJQUFJLElBQUksRUFBRTtRQUNmLEdBQUcsR0FBRyxFQUFFLENBQUM7S0FDWjtTQUFNLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxFQUFFO1FBQzlCLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO0tBQ2pCO1NBQU07UUFDSCxHQUFHLEdBQUcsS0FBSyxDQUFDO0tBQ2Y7SUFDRCxPQUFPLEdBQUcsQ0FBQztBQUNmLENBQUM7QUE4YkQsSUFBYSx1QkFBdUIsK0JBQXBDO0lBK2hCSSxZQUNZLFdBQXVCLEVBQ3ZCLE9BQWtCLEVBQ2xCLElBQXVCO1FBRnZCLGdCQUFXLEdBQVgsV0FBVyxDQUFZO1FBQ3ZCLFlBQU8sR0FBUCxPQUFPLENBQVc7UUFDbEIsU0FBSSxHQUFKLElBQUksQ0FBbUI7UUEvaEJuQyxlQUFVLEdBQUcsV0FBVyxDQUFDO1FBQ3pCLGtCQUFhLEdBQUcsS0FBSyxDQUFDO1FBT3RCLGFBQVEsR0FBbUIsRUFBRSxDQUFDO1FBTzlCLGlCQUFpQjtRQUNqQixhQUFRLEdBQVEsUUFBUSxDQUFDLFNBQVMsQ0FBQztRQUNuQyxjQUFTLEdBQVEsUUFBUSxDQUFDLFNBQVMsQ0FBQztRQUUzQixlQUFVLEdBQVksS0FBSyxDQUFDO1FBY3JDLHNEQUFzRDtRQUM3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bmNlZGZpbHRlci9hZHZhbmNlZGZpbHRlci5jb21wb25lbnQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0NvbXBvbmVudCwgT25Jbml0LCBPbkNoYW5nZXMsIE9uRGVzdHJveSwgSW5wdXQsIE91dHB1dCwgU2ltcGxlQ2hhbmdlcywgSG9zdEJpbmRpbmcsIEhvc3RMaXN0ZW5lciwgQWZ0ZXJWaWV3SW5pdCwgZm9yd2FyZFJlZiwgRWxlbWVudFJlZiwgRXZlbnRFbWl0dGVyLCBSZW5kZXJlcjIsIFRlbXBsYXRlUmVmLCBWaWV3Q2hpbGQsIFZpZXdFbmNhcHN1bGF0aW9uLCBDaGFuZ2VEZXRlY3RvclJlZn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBDb250cm9sVmFsdWVBY2Nlc3NvciwgTkdfVkFMVUVfQUNDRVNTT1IgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5jb25zdCBjbG9uZURlZXAgPSByZXF1aXJlKCdsb2Rhc2guY2xvbmVkZWVwJyk7XG5cbmZ1bmN0aW9uIHRvQm9vbGVhbih2YWx1ZTogYm9vbGVhbiB8IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gJycgfHwgKHZhbHVlICYmIHZhbHVlICE9PSAnZmFsc2UnKTtcbn1cblxuZnVuY3Rpb24gdG9BcnJheTxUPih2YWx1ZTogVCB8IFRbXSk6IFRbXSB7XG4gICAgbGV0IHJldDogVFtdO1xuICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgIHJldCA9IFtdO1xuICAgIH0gZWxzZSBpZiAoIUFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIHJldCA9IFt2YWx1ZV07XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0ID0gdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRmlsdGVyT3B0aW9uIHtcbiAgICB2YWx1ZT86IHN0cmluZztcbiAgICBsYWJlbD86IHN0cmluZztcbiAgICB0aXRsZT86IHN0cmluZztcbiAgICBhZHZhbmNlZD86IGJvb2xlYW47XG4gICAgZGlzYWJsZWQ/OiBib29sZWFuO1xuICAgIHNvcnQ/OiBGaWx0ZXJPcHRpb247XG4gICAgaXRlbXM/OiBGaWx0ZXJPcHRpb25bXTtcbiAgICBba2V5OiBzdHJpbmddOiBhbnk7XG59XG5cblxuQENvbXBvbmVudCh7XG4gICAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZSxcbiAgICBzZWxlY3RvcjogJ2NtLWFkdmFuY2VkZmlsdGVyJyxcbiAgICB0ZW1wbGF0ZTogYFxuXG4gICAgICA8ZGl2IGNsYXNzPVwiY20tZmlsdGVyLW9wZXJ0YWlvblwiPlxuICAgICAgICAgIDxkaXYgKm5nRm9yPVwibGV0IG5vZGUgb2YgX29wdGlvbnM7IGxldCBpID0gaW5kZXg7XCIgW25nQ2xhc3NdPVwiX2NsYXNzaWZ5Q2xzXCIgW2F0dHIuZGF0YS1rZXldPVwiaVwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibmFtZVwiPnt7IGdldE9wdGlvbkxhYmVsKG5vZGUpIH19PC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgW25nQ2xhc3NdPVwiZ2V0TWVudUNscyhub2RlKVwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNtLWZpbHRlci1tZW51XCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBbbmdDbGFzc109XCJnZXRJdGVtQ2xzKG5vZGUpXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuICpuZ0Zvcj1cImxldCBvcHRpb24gb2Ygbm9kZS5pdGVtc1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbYXR0ci5kYXRhLWtleV09XCJnZXRPcHRpb25WYWx1ZShvcHRpb24pXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFthdHRyLnRpdGxlXT1cIm9wdGlvbi50aXRsZSB8fCBnZXRPcHRpb25MYWJlbChvcHRpb24pXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtuZ0NsYXNzXT1cImdldE9wdGlvbkNscyhub2RlLCBvcHRpb24sIGkpXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChtb3VzZWVudGVyKT1cIm9uT3B0aW9uTW91c2VFbnRlcihub2RlLCBvcHRpb24sIGksICRldmVudClcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKG1vdXNlbGVhdmUpPVwib25PcHRpb25Nb3VzZUxlYXZlKG5vZGUsIG9wdGlvbiwgaSwgJGV2ZW50KVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoY2xpY2spPVwib25PcHRpb25DbGljayhub2RlLCBvcHRpb24sIGksICRldmVudClcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt7IGdldE9wdGlvbkxhYmVsKG9wdGlvbikgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpICpuZ0lmPVwibm9kZS5hZHZhbmNlZFwiIGNsYXNzPVwiYW50aWNvbiBhbnRpY29uLWRvd25cIiBbbmdDbGFzc109XCJnZXRBcnJvd0NscyhvcHRpb24pXCI+PC9pPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgKm5nSWY9XCJub2RlLm11bHRpICYmICFub2RlLmFkdmFuY2VkXCIgW25nQ2xhc3NdPVwiZ2V0QnV0dG9uQ2xzKClcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBbbmdDbGFzc109XCJnZXRTYXZlQnV0dG9uQ2xzKG5vZGUpXCIgKGNsaWNrKT1cIm9uU2VsZWN0Q2xpY2sobm9kZSwgaSwgJGV2ZW50KVwiPuehruWumjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImJ0biBjYW5jZWwgY2FuY2VsTXVsdGlNb2RlXCIgKGNsaWNrKT1cIm9uQ2FuY2VsQ2xpY2sobm9kZSwgaSwgJGV2ZW50KVwiPuWPlua2iDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiAqbmdJZj1cIiFub2RlLmFkdmFuY2VkICYmICFub2RlLm11bHRpXCIgW25nQ2xhc3NdPVwiX29wZXJhdGlvbkNsc1wiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vcmUgY3RhZ1wiIChjbGljayk9XCJvbkV4cGFuZENsaWNrKG5vZGUsIGksICRldmVudClcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7e25vZGUuZXhwYW5kID8gJ+aUtui1tycgOiAn5bGV5byAJ319XG4gICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJhbnRpY29uIGFudGljb24tZG93blwiIFtuZ0NsYXNzXT1cImdldEFycm93Q2xzKG5vZGUpXCI+PC9pPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cIml0ZW0tbXVsdGlwbGUgb3Blbk11bHRpTW9kZVwiIChjbGljayk9XCJvbk11bHRpQ2xpY2sobm9kZSwgaSwgJGV2ZW50KVwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwiY20taWNvbmZvbnQgY20taWNvbi1taW5pcGx1c1wiPjwvaT5cbiAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj7lpJrpgIk8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgIDxkaXYgI21lbnUgKm5nSWY9XCJub2RlLmFkdmFuY2VkXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2ICpuZ0Zvcj1cImxldCBjaGlsZG5vZGUgb2Ygbm9kZS5pdGVtczsgbGV0IGogPSBpbmRleDtcIiBbYXR0ci5kYXRhLWtleV09XCJqXCJcbiAgICAgICAgICAgICAgICAgICAgICAgW25nQ2xhc3NdPVwiZ2V0UGFuZWxDbHMoY2hpbGRub2RlKVwiXG4gICAgICAgICAgICAgICAgICAgICAgIChtb3VzZWVudGVyKT1cIm9uUGFuZWxNb3VzZUVudGVyKGNoaWxkbm9kZSwgaSwgJGV2ZW50KVwiXG4gICAgICAgICAgICAgICAgICAgICAgIChtb3VzZWxlYXZlKT1cIm9uUGFuZWxNb3VzZUxlYXZlKGNoaWxkbm9kZSwgaSwgJGV2ZW50KVwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjbGVhcmZpeCBsaXN0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuICpuZ0Zvcj1cImxldCBvcHRpb24gb2YgY2hpbGRub2RlLml0ZW1zXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2F0dHIuZGF0YS1rZXldPVwiZ2V0T3B0aW9uVmFsdWUob3B0aW9uKVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFthdHRyLnRpdGxlXT1cIm9wdGlvbi50aXRsZSB8fCBnZXRPcHRpb25MYWJlbChvcHRpb24pXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW25nQ2xhc3NdPVwiZ2V0T3B0aW9uQ2xzKGNoaWxkbm9kZSwgb3B0aW9uLCBpKVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChjbGljayk9XCJvbk9wdGlvbkNsaWNrKG5vZGUsIG9wdGlvbiwgaiwgJGV2ZW50KVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3sgZ2V0T3B0aW9uTGFiZWwob3B0aW9uKSB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gKm5nSWY9XCIhbm9kZS5tdWx0aVwiIGNsYXNzPVwiaXRlbS1tdWx0aXBsZSBvcGVuTXVsdGlNb2RlXCIgKGNsaWNrKT1cIm9uTXVsdGlDbGljayhub2RlLCBpLCAkZXZlbnQpXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cImNtLWljb25mb250IGNtLWljb24tbWluaXBsdXNcIj48L2k+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj7lpJrpgIk8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2ICpuZ0lmPVwibm9kZS5tdWx0aVwiIFtuZ0NsYXNzXT1cImdldEJ1dHRvbkNscyhjaGlsZG5vZGUpXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIFtuZ0NsYXNzXT1cImdldFNhdmVCdXR0b25DbHMoY2hpbGRub2RlKVwiIChjbGljayk9XCJvblNlbGVjdENsaWNrKG5vZGUsIGosICRldmVudClcIj7noa7lrpo8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiYnRuIGNhbmNlbCBjYW5jZWxNdWx0aU1vZGVcIiAoY2xpY2spPVwib25DYW5jZWxDbGljayhub2RlLCBqLCAkZXZlbnQpXCI+5Y+W5raIPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgYCxcbiAgICBzdHlsZXM6IFtgXG4gICAgICAuY20tZmlsdGVyLXBpY2tlciB7XG4gICAgICAgIG91dGxpbmU6IDA7XG4gICAgICB9XG4gICAgICAuY20tZmlsdGVyLW9wZXJ0YWlvbiB7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNlYWVhZWE7XG4gICAgICB9XG4gICAgICAuY20tZmlsdGVyLW1lbnVzLWhpZGRlbiB7XG4gICAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgICB9XG4gICAgICAuY20tZmlsdGVyLW1lbnUtaXRlbS1zZWxldGVkIHtcbiAgICAgICAgY29sb3I6ICMyZDhjZjAhaW1wb3J0YW50O1xuICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgIH1cbiAgICAgIC5jbS1maWx0ZXItcGlja2VyLWFycm93IHtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICB6LWluZGV4OiAxO1xuICAgICAgICB0b3A6IDUwJTtcbiAgICAgICAgcmlnaHQ6IDVweDtcbiAgICAgICAgd2lkdGg6IDEycHg7XG4gICAgICAgIGhlaWdodDogMTJweDtcbiAgICAgICAgbWFyZ2luLXRvcDogLTZweDtcbiAgICAgICAgbGluZS1oZWlnaHQ6IDEycHg7XG4gICAgICAgIGNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNDMpO1xuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgICAgZm9udC1zaXplOiA5cHhcXFxcOTtcbiAgICAgICAgLXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlKDAuNzUpIHJvdGF0ZSgwZGVnKTtcbiAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgwLjc1KSByb3RhdGUoMGRlZyk7XG4gICAgICAgIC1tcy1maWx0ZXI6IFwicHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0Lk1hdHJpeChzaXppbmdNZXRob2Q9J2F1dG8gZXhwYW5kJywgTTExPTEsIE0xMj0wLCBNMjE9MCwgTTIyPTEpXCI7XG4gICAgICAgIHpvb206IDE7XG4gICAgICB9XG4gICAgICAuY20tZmlsdGVyLXBpY2tlci1hcnJvdyB7XG4gICAgICAgIC13ZWJraXQtZmlsdGVyOiBub25lO1xuICAgICAgICBmaWx0ZXI6IG5vbmU7XG4gICAgICB9XG4gICAgICAuY20tZmlsdGVyLXBpY2tlci1hcnJvdzo6YmVmb3JlIHtcbiAgICAgICAgY29udGVudDogXCJcXFxcRTYxRFwiO1xuICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgZm9udC1mYW1pbHk6IGFudGljb24haW1wb3J0YW50O1xuICAgICAgICAtd2Via2l0LXRyYW5zaXRpb246IC13ZWJraXQtdHJhbnNmb3JtIDAuMnMgZWFzZTtcbiAgICAgICAgdHJhbnNpdGlvbjogLXdlYmtpdC10cmFuc2Zvcm0gMC4ycyBlYXNlO1xuICAgICAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gLjJzIGVhc2U7XG4gICAgICAgIHRyYW5zaXRpb246IHRyYW5zZm9ybSAwLjJzIGVhc2UsIC13ZWJraXQtdHJhbnNmb3JtIDAuMnMgZWFzZTtcbiAgICAgIH1cbiAgICAgIC5jbS1maWx0ZXItbWVudS1pdGVtIC5jbS1maWx0ZXItcGlja2VyLWFycm93IHtcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICByaWdodDogMDtcbiAgICAgIH1cbiAgICAgIC5jbS1maWx0ZXItcGlja2VyLWFycm93LmNtLWZpbHRlci1waWNrZXItYXJyb3ctZXhwYW5kOmJlZm9yZSB7XG4gICAgICAgIC13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGUoMTgwZGVnKTtcbiAgICAgICAgdHJhbnNmb3JtOiByb3RhdGUoMTgwZGVnKTtcbiAgICAgIH1cbiAgICAgIC5jbS1pY29uLW1pbmlwbHVzIHtcbiAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgfVxuICAgICAgLm5hbWUge1xuICAgICAgICBmbG9hdDogbGVmdDtcbiAgICAgICAgd2lkdGg6IDc1cHg7XG4gICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgcGFkZGluZy10b3A6IDE1cHg7XG4gICAgICAgIHBhZGRpbmctbGVmdDogMTVweDtcbiAgICAgICAgY29sb3I6ICM2NjY7XG4gICAgICAgIGZvbnQtc2l6ZTogMTNweDtcbiAgICAgICAgbGluZS1oZWlnaHQ6IDE0cHg7XG4gICAgICAgIGJhY2tncm91bmQ6ICNmOGY4Zjg7XG4gICAgICB9XG4gICAgICAuY20tZmlsdGVyLXBpY2tlciAubmFtZSB7XG4gICAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgICAgbGluZS1oZWlnaHQ6IDEycHg7XG4gICAgICAgIHBhZGRpbmctdG9wOiAxMnB4O1xuICAgICAgICB3aWR0aDogODVweDtcbiAgICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgICAgICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gICAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgICB9XG4gICAgICAuY20tZmlsdGVyLWVkZ2Uge1xuICAgICAgICBib3JkZXItYm90dG9tOiAxcHggZG90dGVkICNlYWVhZWE7XG4gICAgICB9XG4gICAgICAuYWxsIHtcbiAgICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAyMnB4O1xuICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICB9XG4gICAgICAuY20tZmlsdGVyLWNsYXNzaWZ5IHtcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICBiYWNrZ3JvdW5kOiAjZjhmOGY4O1xuICAgICAgfVxuICAgICAgLmNtLWZpbHRlci1jbGFzc2lmeSAuY20tZmlsdGVyLW1lbnV3cmFwIHtcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDkwcHg7XG4gICAgICAgIHBhZGRpbmctcmlnaHQ6IDQycHg7XG4gICAgICAgIHBhZGRpbmctdG9wOiAxNXB4O1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xuICAgICAgfVxuICAgICAgLmNtLWZpbHRlci1vcGVydGFpb24gLmNtLWZpbHRlci1jbGFzc2lmeSAuY20tZmlsdGVyLW1lbnV3cmFwIHtcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDExMHB4O1xuICAgICAgICBwYWRkaW5nOiA4cHggMTIwcHggNHB4IDA7XG4gICAgICB9XG4gICAgICAuY20tZmlsdGVyLWNsYXNzaWZ5IC5jbS1maWx0ZXItbWVudSB7XG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgaGVpZ2h0OiAyOHB4O1xuICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgfVxuICAgICAgLmNtLWZpbHRlci1jbGFzc2lmeSAuYXV0b2hlaWdodCAuY20tZmlsdGVyLW1lbnUge1xuICAgICAgICBoZWlnaHQ6IGF1dG87XG4gICAgICB9XG4gICAgICAuY20tZmlsdGVyLWNsYXNzaWZ5IC5saW5lMmhlaWdodCAuY20tZmlsdGVyLW1lbnUge1xuICAgICAgICBoZWlnaHQ6IDU1cHg7XG4gICAgICB9XG4gICAgICAuY20tZmlsdGVyLW9wZXJ0YWlvbiAuY20tZmlsdGVyLWNsYXNzaWZ5IC5saW5lMmhlaWdodCAuY20tZmlsdGVyLW1lbnUge1xuICAgICAgICBoZWlnaHQ6IDQ4cHg7XG4gICAgICB9XG4gICAgICAuY20tZmlsdGVyLW9wZXJ0YWlvbiAuY20tZmlsdGVyLWNsYXNzaWZ5IC5saW5lMWhlaWdodCAuY20tZmlsdGVyLW1lbnUge1xuICAgICAgICBoZWlnaHQ6IDI0cHg7XG4gICAgICB9XG4gICAgICAuY20tZmlsdGVyLWNsYXNzaWZ5IC5hdHRyLWl0ZW1zIHtcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgfVxuICAgICAgLmNtLWZpbHRlci1jbGFzc2lmeSAuYnJhbmRzIHtcbiAgICAgICAgX2Zsb2F0OiBsZWZ0O1xuICAgICAgICBtYXJnaW4tbGVmdDogMTVweDtcbiAgICAgICAgbGluZS1oZWlnaHQ6IDE0cHg7XG4gICAgICAgIG92ZXJmbG93OiBhdXRvO1xuICAgICAgfVxuICAgICAgLmNtLWZpbHRlci1jbGFzc2lmeSAuYnJhbmRzIGIge1xuICAgICAgICBkaXNwbGF5OiBub25lO1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIHRvcDogMDtcbiAgICAgICAgcmlnaHQ6IDRweDtcbiAgICAgICAgZm9udC1mYW1pbHk6IFwiaWNvbmZvbnRcIjtcbiAgICAgIH1cbiAgICAgIC5jbS1maWx0ZXItY2xhc3NpZnkgLmJyYW5kcyBzcGFuIHtcbiAgICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICBwYWRkaW5nLXJpZ2h0OiAyNHB4O1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAxNHB4O1xuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgIGZvbnQtc2l6ZTogMTNweDtcbiAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICAgICAgICBjb2xvcjogIzMzMztcbiAgICAgICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gICAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gICAgICB9XG4gICAgICAuY20tZmlsdGVyLWNsYXNzaWZ5IC5icmFuZHMgc3Bhbjpob3ZlciB7XG4gICAgICAgIGNvbG9yOiAjMmQ4Y2YwO1xuICAgICAgfVxuICAgICAgLmNtLWZpbHRlci1jbGFzc2lmeSAuYnJhbmRzLWNhdGUgc3BhbiB7XG4gICAgICAgIHdpZHRoOiAxMjBweDtcbiAgICAgIH1cbiAgICAgIC5jbS1maWx0ZXItb3BlcnRhaW9uIC5jbS1maWx0ZXItY2xhc3NpZnkgLmJyYW5kcyBzcGFuIHtcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgICAgICBtYXJnaW4tcmlnaHQ6IDE4cHg7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDRweDtcbiAgICAgICAgcGFkZGluZzogM3B4IDVweDtcbiAgICAgICAgd2lkdGg6IDEyMHB4O1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgICBsaW5lLWhlaWdodDogMTJweDtcbiAgICAgIH1cbiAgICAgIC5jbS1maWx0ZXItY2xhc3NpZnkgLm1vcmV3cmFwIHtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgIHRvcDogMTVweDtcbiAgICAgICAgcmlnaHQ6IDA7XG4gICAgICB9XG4gICAgICAuY20tZmlsdGVyLW9wZXJ0YWlvbiAuY20tZmlsdGVyLWNsYXNzaWZ5IC5tb3Jld3JhcCB7XG4gICAgICAgIHRvcDogMTJweDtcbiAgICAgIH1cbiAgICAgIC5mLWNiOmFmdGVyLFxuICAgICAgLmNsZWFyZml4OmFmdGVyIHtcbiAgICAgICAgdmlzaWJpbGl0eTogaGlkZGVuO1xuICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgZm9udC1zaXplOiAwO1xuICAgICAgICBjb250ZW50OiBcIlxcXFwyMCBcIjtcbiAgICAgICAgY2xlYXI6IGJvdGg7XG4gICAgICAgIGhlaWdodDogMDtcbiAgICAgIH1cbiAgICAgIC5jbS1maWx0ZXItb3BlcnRhaW9uIC5jbS1maWx0ZXItY2xhc3NpZnkgLmNtLWZpbHRlci1tZW51d3JhcCAuYnV0dG9uLWdyb3VwIHtcbiAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICAgICAgZm9udC1zaXplOiAwO1xuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgIHBhZGRpbmctYm90dG9tOiAxMHB4O1xuICAgICAgICBtYXJnaW4tdG9wOiA1cHg7XG4gICAgICB9XG4gICAgICAuY20tZmlsdGVyLW9wZXJ0YWlvbiAuY20tZmlsdGVyLWNsYXNzaWZ5IC5jbS1maWx0ZXItbWVudXdyYXAgLmJ1dHRvbi1ncm91cCB7XG4gICAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgICB9XG4gICAgICAuY20tZmlsdGVyLW9wZXJ0YWlvbiAuY20tZmlsdGVyLWNsYXNzaWZ5IC5jbS1maWx0ZXItbWVudXdyYXAgLmJ1dHRvbi1ncm91cC52aXNpYmxlIHtcbiAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICB9XG4gICAgICAuY20tZmlsdGVyLW9wZXJ0YWlvbiAuY20tZmlsdGVyLWNsYXNzaWZ5IC5jbS1maWx0ZXItbWVudXdyYXAgLmJ1dHRvbi1ncm91cCAuYnRuIHtcbiAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgICB3aWR0aDogNDhweDtcbiAgICAgICAgaGVpZ2h0OiAyNHB4O1xuICAgICAgICBsaW5lLWhlaWdodDogMjRweDtcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgIH1cbiAgICAgIC5jbS1maWx0ZXItb3BlcnRhaW9uIC5jbS1maWx0ZXItY2xhc3NpZnkgLmNtLWZpbHRlci1tZW51d3JhcCAuYnV0dG9uLWdyb3VwIC5zYXZlIHtcbiAgICAgICAgYmFja2dyb3VuZDogI2NjYztcbiAgICAgICAgY29sb3I6ICNmZmY7XG4gICAgICB9XG4gICAgICAuY20tZmlsdGVyLW9wZXJ0YWlvbiAuY20tZmlsdGVyLWNsYXNzaWZ5IC5jbS1maWx0ZXItbWVudXdyYXAgLmJ1dHRvbi1ncm91cCAuc2F2ZS5hY3RpdmUge1xuICAgICAgICBiYWNrZ3JvdW5kOiAjMmQ4Y2YwO1xuICAgICAgfVxuICAgICAgLmNtLWZpbHRlci1vcGVydGFpb24gLmNtLWZpbHRlci1jbGFzc2lmeSAuY20tZmlsdGVyLW1lbnV3cmFwIC5idXR0b24tZ3JvdXAgLmNhbmNlbCB7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNhYWE7XG4gICAgICAgIGNvbG9yOiAjMzMzO1xuICAgICAgICBtYXJnaW4tbGVmdDogMTBweDtcbiAgICAgICAgd2lkdGg6IDQ2cHg7XG4gICAgICAgIGhlaWdodDogMjJweDtcbiAgICAgICAgbGluZS1oZWlnaHQ6IDIycHg7XG4gICAgICB9XG4gICAgICAuY20tZmlsdGVyLWNsYXNzaWZ5IC5tb3JlIHtcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICBmbG9hdDogcmlnaHQ7XG4gICAgICAgIHdpZHRoOiA0MnB4O1xuICAgICAgICBtYXJnaW46IGF1dG8gMTVweDtcbiAgICAgICAgbGluZS1oZWlnaHQ6IDEzcHg7XG4gICAgICAgIGZvbnQtc2l6ZTogMTNweDtcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgfVxuICAgICAgLmNtLWZpbHRlci1vcGVydGFpb24gLmNtLWZpbHRlci1jbGFzc2lmeSAubW9yZSB7XG4gICAgICAgIG1hcmdpbi1sZWZ0OiAwO1xuICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICB9XG4gICAgICAuY20tZmlsdGVyLW9wZXJ0YWlvbiAuY20tZmlsdGVyLWNsYXNzaWZ5IC5pdGVtLW11bHRpcGxlIHtcbiAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgICAgICBwYWRkaW5nOiAwIDVweDtcbiAgICAgICAgaGVpZ2h0OiAyMHB4O1xuICAgICAgICBsaW5lLWhlaWdodDogMjBweDtcbiAgICAgICAgY29sb3I6ICMzMzM7XG4gICAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI2RkZDtcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgfVxuICAgICAgLmNtLWZpbHRlci1vcGVydGFpb24gLmNtLWZpbHRlci1jbGFzc2lmeSAubW9yZXdyYXAgLml0ZW0tbXVsdGlwbGUge1xuICAgICAgICBmbG9hdDogcmlnaHQ7XG4gICAgICAgIG1hcmdpbjogLTRweCAxNXB4IDAgMDtcbiAgICAgIH1cbiAgICAgIC5jbS1maWx0ZXItb3BlcnRhaW9uIC5jbS1maWx0ZXItY2xhc3NpZnkgLml0ZW0tbXVsdGlwbGUgLmljb25mb250IHtcbiAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgICBjb2xvcjogIzMzMztcbiAgICAgICAgaGVpZ2h0OiAyMHB4O1xuICAgICAgICBsaW5lLWhlaWdodDogMjBweDtcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgfVxuICAgICAgLmNtLWZpbHRlci1vcGVydGFpb24gLmNtLWZpbHRlci1jbGFzc2lmeSAuYXR0ci1pdGVtcyBzcGFuLmRkaXRlbSB7XG4gICAgICAgIGZsb2F0OiBsZWZ0O1xuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7XG4gICAgICAgIHBhZGRpbmc6IDNweCA1cHg7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAxMnB4O1xuICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICAgIG1hcmdpbjogMCAwIDRweCAyMHB4O1xuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgIGNvbG9yOiAjMzMzO1xuICAgICAgfVxuICAgICAgLmNtLWZpbHRlci1vcGVydGFpb24gLmNtLWZpbHRlci1jbGFzc2lmeSAuYXR0ci1pdGVtcyBzcGFuLmRkaXRlbS5hY3RpdmUge1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjYWFhO1xuICAgICAgICBib3JkZXItYm90dG9tLWNvbG9yOiAjZmZmO1xuICAgICAgICBwYWRkaW5nLWJvdHRvbTogN3B4O1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAwO1xuICAgICAgICBjb2xvcjogIzMzMztcbiAgICAgICAgei1pbmRleDogMTAxO1xuICAgICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gICAgICB9XG4gICAgICAuY20tZmlsdGVyLW9wZXJ0YWlvbiAuY20tZmlsdGVyLWNsYXNzaWZ5IC5kcm9wZG93bmxpc3QtY29udGVudCB7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgbGVmdDogMDtcbiAgICAgICAgdG9wOiAzMXB4O1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI2FhYTtcbiAgICAgICAgYmFja2dyb3VuZDogI2ZmZjtcbiAgICAgICAgei1pbmRleDogMTAwO1xuICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAxMnB4O1xuICAgICAgICBwYWRkaW5nLWJvdHRvbTogMTFweDtcbiAgICAgIH1cbiAgICAgIC5jbS1maWx0ZXItb3BlcnRhaW9uIC5jbS1maWx0ZXItY2xhc3NpZnkgLmRyb3Bkb3dubGlzdC1jb250ZW50IC5saXN0IHtcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICBwYWRkaW5nLXJpZ2h0OiA2NXB4O1xuICAgICAgICBtYXJnaW4tYm90dG9tOiA1cHg7XG4gICAgICAgIG1hcmdpbi1sZWZ0OiAtOHB4O1xuICAgICAgfVxuICAgICAgLmNtLWZpbHRlci1vcGVydGFpb24gLmNtLWZpbHRlci1jbGFzc2lmeSAuZHJvcGRvd25saXN0LWNvbnRlbnQgLmxpc3QgLml0ZW0tbXVsdGlwbGUge1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIHJpZ2h0OiA5cHg7XG4gICAgICAgIHRvcDogMTBweDtcbiAgICAgIH1cbiAgICAgIC5jbS1maWx0ZXItb3BlcnRhaW9uIC5jbS1maWx0ZXItY2xhc3NpZnkgLmRyb3Bkb3dubGlzdC1jb250ZW50IHNwYW4ge1xuICAgICAgICBjb2xvcjogIzMzMztcbiAgICAgIH1cbiAgICAgIC5jbS1maWx0ZXItb3BlcnRhaW9uIC5jbS1maWx0ZXItY2xhc3NpZnkgLmRyb3Bkb3dubGlzdC1jb250ZW50IHNwYW46aG92ZXIge1xuICAgICAgICBjb2xvcjogIzJkOGNmMDtcbiAgICAgIH1cbiAgICAgIC5jbS1maWx0ZXItb3BlcnRhaW9uIC5jbS1maWx0ZXItY2xhc3NpZnkgLmRyb3Bkb3dubGlzdC1jb250ZW50IC5saXN0LWl0ZW0ge1xuICAgICAgICBmbG9hdDogbGVmdDtcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICBtYXJnaW46IDExcHggMCAwIDE3cHg7XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgcGFkZGluZzogM3B4IDIycHggM3B4IDVweDtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7XG4gICAgICB9XG4gICAgICAuY20tZmlsdGVyLW9wZXJ0YWlvbiAuY20tZmlsdGVyLWNsYXNzaWZ5IC5kcm9wZG93bmxpc3QtY29udGVudCAuYnV0dG9uLWdyb3VwIHtcbiAgICAgICAgZGlzcGxheTogbm9uZTtcbiAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICAgICAgZm9udC1zaXplOiAwO1xuICAgICAgICBtYXJnaW4tdG9wOiA4cHg7XG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgIH1cbiAgICAgIC5jbS1maWx0ZXItb3BlcnRhaW9uIC5jbS1maWx0ZXItY2xhc3NpZnkgLmRyb3Bkb3dubGlzdC1jb250ZW50IC5idXR0b24tZ3JvdXAudmlzaWJsZSB7XG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgfVxuICAgICAgLmNtLWZpbHRlci1vcGVydGFpb24gLmNtLWZpbHRlci1jbGFzc2lmeSAuZHJvcGRvd25saXN0LWNvbnRlbnQubXVsdGktbW9kZSAuYnV0dG9uLWdyb3VwIHtcbiAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICB9XG4gICAgICAuY20tZmlsdGVyLW9wZXJ0YWlvbiAuY20tZmlsdGVyLWNsYXNzaWZ5IC5kcm9wZG93bmxpc3QtY29udGVudCAuYnV0dG9uLWdyb3VwIHtcbiAgICAgICAgZGlzcGxheTogbm9uZTtcbiAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICAgICAgZm9udC1zaXplOiAwO1xuICAgICAgICBtYXJnaW4tdG9wOiA4cHg7XG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgIH1cbiAgICAgIC5jbS1maWx0ZXItb3BlcnRhaW9uIC5jbS1maWx0ZXItY2xhc3NpZnkgLmRyb3Bkb3dubGlzdC1jb250ZW50IC5idXR0b24tZ3JvdXAgLmJ0biB7XG4gICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgICAgd2lkdGg6IDQ4cHg7XG4gICAgICAgIGhlaWdodDogMjRweDtcbiAgICAgICAgbGluZS1oZWlnaHQ6IDI0cHg7XG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICB9XG4gICAgICAuY20tZmlsdGVyLW9wZXJ0YWlvbiAuY20tZmlsdGVyLWNsYXNzaWZ5IC5kcm9wZG93bmxpc3QtY29udGVudCAuYnV0dG9uLWdyb3VwIC5zYXZlIHtcbiAgICAgICAgYmFja2dyb3VuZDogI2NjYztcbiAgICAgICAgY29sb3I6ICNmZmY7XG4gICAgICB9XG4gICAgICAuY20tZmlsdGVyLW9wZXJ0YWlvbiAuY20tZmlsdGVyLWNsYXNzaWZ5IC5kcm9wZG93bmxpc3QtY29udGVudCAuYnV0dG9uLWdyb3VwIC5zYXZlLmFjdGl2ZSB7XG4gICAgICAgIGJhY2tncm91bmQ6ICMyZDhjZjA7XG4gICAgICB9XG4gICAgICAuY20tZmlsdGVyLW9wZXJ0YWlvbiAuY20tZmlsdGVyLWNsYXNzaWZ5IC5kcm9wZG93bmxpc3QtY29udGVudCAuYnV0dG9uLWdyb3VwIC5jYW5jZWwge1xuICAgICAgICB3aWR0aDogNDZweDtcbiAgICAgICAgaGVpZ2h0OiAyMnB4O1xuICAgICAgICBsaW5lLWhlaWdodDogMjJweDtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI2FhYTtcbiAgICAgICAgY29sb3I6ICMzMzM7XG4gICAgICAgIG1hcmdpbi1sZWZ0OiAxMHB4O1xuICAgICAgfVxuICAgIGBdLFxuICAgIHByb3ZpZGVyczogW1xuICAgICAgICB7XG4gICAgICAgICAgICBwcm92aWRlICAgIDogTkdfVkFMVUVfQUNDRVNTT1IsXG4gICAgICAgICAgICB1c2VFeGlzdGluZzogZm9yd2FyZFJlZigoKSA9PiBBZHZhbmNlZEZpbHRlckNvbXBvbmVudCksXG4gICAgICAgICAgICBtdWx0aSAgICAgIDogdHJ1ZVxuICAgICAgICB9XG4gICAgXVxufSlcblxuZXhwb3J0IGNsYXNzIEFkdmFuY2VkRmlsdGVyQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0LCBPbkRlc3Ryb3ksIE9uQ2hhbmdlcywgQWZ0ZXJWaWV3SW5pdCwgQ29udHJvbFZhbHVlQWNjZXNzb3Ige1xuXG4gICAgX2VsOiBIVE1MRWxlbWVudDtcbiAgICBfcHJlZml4Q2xzID0gJ2NtLWZpbHRlcic7XG4gICAgX3BvcHVwVmlzaWJsZSA9IGZhbHNlO1xuXG4gICAgLy8gc2VsZWN0aW9uIHdpbGwgdHJpZ2dlciB2YWx1ZSBjaGFuZ2VcbiAgICBfc2VsZWN0ZWRPcHRpb25zOiBhbnk7XG4gICAgLy8gYWN0aXZhY3Rpb24gd2lsbCBub3QgdHJpZ2dlciB2YWx1ZSBjaGFuZ2VcbiAgICBfYWN0aXZhdGVkT3B0aW9uczogYW55O1xuXG4gICAgX29wdGlvbnM6IEZpbHRlck9wdGlvbltdID0gW107XG5cbiAgICAvLyDngrnlh7tEb2N1bWVudOeahOS6i+S7tu+8iOS4gOiIrOeUqOS6jueCueWHu+WQjumakOiXj+iPnOWNle+8iVxuICAgIHByaXZhdGUgX2NsaWNrT3V0c2lkZUhhbmRsZXI6ICgpID0+IHZvaWQ7XG4gICAgcHJpdmF0ZSBfdG91Y2hPdXRzaWRlSGFuZGxlcjogKCkgPT4gdm9pZDtcbiAgICBwcml2YXRlIF9kZWxheVRpbWVyOiBhbnk7XG5cbiAgICAvLyBuZ01vZGVsIEFjY2Vzc1xuICAgIG9uQ2hhbmdlOiBhbnkgPSBGdW5jdGlvbi5wcm90b3R5cGU7XG4gICAgb25Ub3VjaGVkOiBhbnkgPSBGdW5jdGlvbi5wcm90b3R5cGU7XG5cbiAgICBASW5wdXQoKSBjbVJlcXVpcmVkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICAvKiogQWRkaXRpb25hbCBjbGFzc05hbWUgb2YgcG9wdXAgb3ZlcmxheSAqL1xuICAgIEBJbnB1dCgpIGNtUG9wdXBDbGFzc05hbWU6IHN0cmluZztcblxuICAgIC8qKiBBZGRpdGlvbmFsIGNsYXNzTmFtZSBvZiBwb3B1cCBvdmVybGF5IGNvbHVtbiAqL1xuICAgIEBJbnB1dCgpIGNtQ29sdW1uQ2xhc3NOYW1lOiBzdHJpbmc7XG5cbiAgICAvKiogT3B0aW9ucyBmb3IgZmlyc3QgY29sdW1uLCBzdWIgY29sdW1uIHdpbGwgYmUgbG9hZCBhc3luYyAqL1xuICAgIEBJbnB1dCgpIGNtT3B0aW9uczogRmlsdGVyT3B0aW9uW107XG5cbiAgICAvKiogQ2hhbmdlIHZhbHVlIG9uIHNlbGVjdGlvbiBvbmx5IGlmIHRoaXMgZnVuY3Rpb24gcmV0dXJucyBgdHJ1ZWAgKi9cbiAgICBASW5wdXQoKSBjbUNoYW5nZU9uOiAob3B0aW9uOiBGaWx0ZXJPcHRpb24sIGxldmVsOiBudW1iZXIpID0+IGJvb2xlYW47XG5cbiAgICAvKiogUHJvcGVydHkgbmFtZSBmb3IgZ2V0dGluZyBgdmFsdWVgIGluIHRoZSBvcHRpb24gKi9cbiAgICBASW5wdXQoKSBjbVZhbHVlUHJvcGVydHkgPSAndmFsdWUnO1xuXG4gICAgLyoqIFByb3BlcnR5IG5hbWUgZm9yIGdldHRpbmcgYGxhYmVsYCBpbiB0aGUgb3B0aW9uICovXG4gICAgQElucHV0KCkgY21MYWJlbFByb3BlcnR5ID0gJ2xhYmVsJztcblxuICAgIEBWaWV3Q2hpbGQoJ21lbnUnKSBtZW51OiBFbGVtZW50UmVmO1xuXG4gICAgQEhvc3RCaW5kaW5nKCdhdHRyLnRhYkluZGV4JykgdGFiSW5kZXggPSAnMCc7XG5cbiAgICAvKiogRXZlbnQ6IGVtaXQgb24gcG9wdXAgc2hvdyBvciBoaWRlICovXG4gICAgQE91dHB1dCgpIGNtVmlzaWJsZUNoYW5nZSA9IG5ldyBFdmVudEVtaXR0ZXI8Ym9vbGVhbj4oKTtcblxuICAgIC8qKiBFdmVudDogZW1pdCBvbiB2YWx1ZXMgY2hhbmdlZCAqL1xuICAgIEBPdXRwdXQoKSBjbUNoYW5nZSA9IG5ldyBFdmVudEVtaXR0ZXI8YW55W10+KCk7XG5cbiAgICAvKipcbiAgICAgKiBFdmVudDogZW1pdCBvbiBvcHRpb24gc2VsZWN0ZWQsIGV2ZW50IGRhdGHvvJp7b3B0aW9uOiBhbnksIGluZGV4OiBudW1iZXJ9XG4gICAgICovXG4gICAgQE91dHB1dCgpIGNtU2VsZWN0ID0gbmV3IEV2ZW50RW1pdHRlcjx7IG9wdGlvbjogRmlsdGVyT3B0aW9uLCBpbmRleDogbnVtYmVyIH0+KCk7XG5cbiAgICAvKipcbiAgICAgKiBFdmVudDogZW1pdCBvbiBvcHRpb24gdW5zZWxlY3RlZCwgZXZlbnQgZGF0Ye+8mntvcHRpb246IGFueSwgaW5kZXg6IG51bWJlcn1cbiAgICAgKi9cbiAgICBAT3V0cHV0KCkgY21VblNlbGVjdCA9IG5ldyBFdmVudEVtaXR0ZXI8eyBvcHRpb246IEZpbHRlck9wdGlvbiwgaW5kZXg6IG51bWJlciB9PigpO1xuXG4gICAgLyoqIEV2ZW50OiBlbWl0IG9uIHRoZSBjbGVhciBidXR0b24gY2xpY2tlZCAqL1xuICAgIEBPdXRwdXQoKSBjbUNsZWFyID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG5cbiAgICBnZXRBcnJvd0Nscyhub2RlOiBGaWx0ZXJPcHRpb24pOiBhbnkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgW2Ake3RoaXMuX3ByZWZpeENsc30tcGlja2VyLWFycm93YF0gICAgICAgOiB0cnVlLFxuICAgICAgICAgICAgW2Ake3RoaXMuX3ByZWZpeENsc30tcGlja2VyLWFycm93LWV4cGFuZGBdOiAobm9kZS5leHBhbmQgfHwgbm9kZS52aXNpYmxlKVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKiDojrflj5boj5zljZXkuK3liIbnsbvliJfooajnmoTmoLflvI8gKi9cbiAgICBnZXQgX2NsYXNzaWZ5Q2xzKCk6IGFueSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBbYCR7dGhpcy5fcHJlZml4Q2xzfS1jbGFzc2lmeWBdICA6IHRydWUsXG4gICAgICAgICAgICBbYCR7dGhpcy5jbUNvbHVtbkNsYXNzTmFtZX1gXTogdGhpcy5jbUNvbHVtbkNsYXNzTmFtZSxcbiAgICAgICAgICAgIFtgJHt0aGlzLl9wcmVmaXhDbHN9LWVkZ2VgXSAgOiB0cnVlLFxuICAgICAgICAgICAgW2BjbGVhcmZpeGBdICA6IHRydWVcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBnZXRQYW5lbENscyhub2RlOiBGaWx0ZXJPcHRpb24pOiBhbnkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgW2Ake3RoaXMuX3ByZWZpeENsc30tbWVudXNgXSAgOiB0cnVlLFxuICAgICAgICAgICAgW2Ake3RoaXMuX3ByZWZpeENsc30tbWVudXMtaGlkZGVuYF06ICFub2RlLnZpc2libGUsXG4gICAgICAgICAgICBbYCR7dGhpcy5jbUNvbHVtbkNsYXNzTmFtZX1gXTogdGhpcy5jbUNvbHVtbkNsYXNzTmFtZSxcbiAgICAgICAgICAgIFtgZHJvcGRvd25saXN0LWNvbnRlbnRgXSAgOiB0cnVlLFxuICAgICAgICAgICAgW2Ake3RoaXMuX3ByZWZpeENsc30tdGFnd3JhcGBdICA6ICFub2RlLmFkdmFuY2VkLFxuICAgICAgICAgICAgW2BtdWx0aS1tb2RlYF0gOiBmYWxzZSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBnZXRNZW51Q2xzKG5vZGU6IEZpbHRlck9wdGlvbik6IGFueSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBbYCR7dGhpcy5fcHJlZml4Q2xzfS1tZW51d3JhcGBdICAgICAgIDogdHJ1ZSxcbiAgICAgICAgICAgIFtgJHt0aGlzLmNtUG9wdXBDbGFzc05hbWV9YF0gICAgICA6IHRoaXMuY21Qb3B1cENsYXNzTmFtZSxcbiAgICAgICAgICAgIFtgbGluZTFoZWlnaHRgXSA6IG5vZGUuc2hvd09uZUxpbmUgJiYgIW5vZGUuZXhwYW5kICYmICFub2RlLm11bHRpLFxuICAgICAgICAgICAgW2BsaW5lMmhlaWdodGBdIDogIW5vZGUuc2hvd09uZUxpbmUgJiYgIW5vZGUuZXhwYW5kICYmICFub2RlLm11bHRpLFxuICAgICAgICAgICAgW2BhdXRvaGVpZ2h0YF0gOiBub2RlLmFkdmFuY2VkIHx8IG5vZGUuZXhwYW5kIHx8IG5vZGUubXVsdGksXG4gICAgICAgICAgICBbYG11bHRpLW1vZGVgXSA6IG5vZGUubXVsdGlcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBnZXRCdXR0b25DbHMoY2hpbGROb2RlPzogRmlsdGVyT3B0aW9uKTogYW55IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFtgJHt0aGlzLl9wcmVmaXhDbHN9LWJ1dHRvbmBdICA6IHRydWUsXG4gICAgICAgICAgICBbYGJ1dHRvbi1ncm91cCBgXSA6IHRydWUsXG4gICAgICAgICAgICBbYHZpc2libGVgXSA6ICghY2hpbGROb2RlIHx8IGNoaWxkTm9kZS52aXNpYmxlKVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGdldFNhdmVCdXR0b25DbHMobm9kZTogRmlsdGVyT3B0aW9uKTogYW55IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFtgc2F2ZU11bHRpTW9kZWBdIDogdHJ1ZSxcbiAgICAgICAgICAgIFtgYnRuIGBdIDogdHJ1ZSxcbiAgICAgICAgICAgIFtgc2F2ZWBdIDogdHJ1ZSxcbiAgICAgICAgICAgIFtgYWN0aXZlYF0gOiBub2RlLmNoZWNrZWRcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBnZXQgX29wZXJhdGlvbkNscygpOiBhbnkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgW2Ake3RoaXMuX3ByZWZpeENsc30tb3BlcmF0aW9uYWxgXSAgOiB0cnVlLFxuICAgICAgICAgICAgW2Btb3Jld3JhcGBdIDogdHJ1ZSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBnZXRJdGVtQ2xzKG5vZGU6IEZpbHRlck9wdGlvbik6IGFueSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBbYCR7dGhpcy5fcHJlZml4Q2xzfS1tZW51c2BdICAgICAgIDogdHJ1ZSxcbiAgICAgICAgICAgIFtgJHt0aGlzLmNtUG9wdXBDbGFzc05hbWV9YF0gICAgICAgOiB0aGlzLmNtUG9wdXBDbGFzc05hbWUsXG4gICAgICAgICAgICBbYGJyYW5kc2BdIDogIW5vZGUuYWR2YW5jZWQsXG4gICAgICAgICAgICBbYGFsbGBdIDogdHJ1ZSxcbiAgICAgICAgICAgIFtgYnJhbmRzLWNhdGVgXSA6ICFub2RlLnNob3dPbmVMaW5lICYmICFub2RlLmFkdmFuY2VkLFxuICAgICAgICAgICAgW2BhdHRyLWl0ZW1zYF0gOiBub2RlLmFkdmFuY2VkLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKiDojrflj5bliJfkuK1PcHRpb27nmoTmoLflvI8gKi9cbiAgICBnZXRPcHRpb25DbHMobm9kZTogRmlsdGVyT3B0aW9uLCBvcHRpb246IEZpbHRlck9wdGlvbiwgaW5kZXg6IG51bWJlcik6IGFueSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBbYCR7dGhpcy5fcHJlZml4Q2xzfS1tZW51LWl0ZW1gXSAgICAgICAgIDogdHJ1ZSxcbiAgICAgICAgICAgIFtgJHt0aGlzLl9wcmVmaXhDbHN9LW1lbnUtaXRlbS1leHBhbmRgXSAgOiAhbm9kZS5pc0xlYWYsXG4gICAgICAgICAgICBbYCR7dGhpcy5fcHJlZml4Q2xzfS1tZW51LWl0ZW0tYWN0aXZlYF0gIDogbm9kZS52aXNpYmxlLFxuICAgICAgICAgICAgW2Ake3RoaXMuX3ByZWZpeENsc30tbWVudS1pdGVtLXNlbGV0ZWRgXSAgOiAhbm9kZS5hZHZhbmNlZCAmJiBvcHRpb24uY2hlY2tlZCxcbiAgICAgICAgICAgIFtgJHt0aGlzLl9wcmVmaXhDbHN9LW11bHRpSXRlbWBdIDogdHJ1ZSxcbiAgICAgICAgICAgIFtgbGlzdC1pdGVtIGBdIDogbm9kZS52aXNpYmxlLFxuICAgICAgICAgICAgW2BkZGl0ZW1gXSA6IG5vZGUuYWR2YW5jZWQsXG4gICAgICAgICAgICBbYGFjdGl2ZWBdIDogb3B0aW9uLnZpc2libGUsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqIOiOt+WPlk9wdGlvbueahOWAvO+8jOS+i+Wmgu+8jOWPr+S7peaMh+WummxhYmVsUHJvcGVydHk9XCJuYW1lXCLmnaXlj5ZOYW1lICovXG4gICAgZ2V0T3B0aW9uTGFiZWwob3B0aW9uOiBGaWx0ZXJPcHRpb24pOiBhbnkge1xuICAgICAgICByZXR1cm4gb3B0aW9uW3RoaXMuY21MYWJlbFByb3BlcnR5IHx8ICdsYWJlbCddO1xuICAgIH1cblxuICAgIC8qKiDojrflj5ZPcHRpb27nmoTlgLzvvIzkvovlpoLvvIzlj6/ku6XmjIflrpp2YWx1ZVByb3BlcnR5PVwiaWRcIuadpeWPlklEICovXG4gICAgZ2V0T3B0aW9uVmFsdWUob3B0aW9uOiBGaWx0ZXJPcHRpb24pOiBhbnkge1xuICAgICAgICByZXR1cm4gb3B0aW9uW3RoaXMuY21WYWx1ZVByb3BlcnR5IHx8ICd2YWx1ZSddO1xuICAgIH1cblxuICAgIC8qKiDnlLHnlKjmiLfmnaXlrprkuYnngrnlh7vlkI7mmK/lkKblj5jmm7QgKi9cbiAgICBfaXNDaGFuZ2VPbihvcHRpb246IEZpbHRlck9wdGlvbiwgaW5kZXg6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMuY21DaGFuZ2VPbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY21DaGFuZ2VPbihvcHRpb24sIGluZGV4KSA9PT0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgQEhvc3RMaXN0ZW5lcignY2xpY2snLCBbJyRldmVudCddKVxuICAgIF9vblRyaWdnZXJDbGljayhldmVudDogTW91c2VFdmVudCk6IHZvaWQge1xuICAgICAgICB0aGlzLm9uVG91Y2hlZCgpOyAvLyBzZXQgeW91ciBjb250cm9sIHRvICd0b3VjaGVkJ1xuXG4gICAgICAgIGNvbnN0IHBvcHVwRWwgPSB0aGlzLm1lbnUgJiYgdGhpcy5tZW51Lm5hdGl2ZUVsZW1lbnQgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgIGlmIChwb3B1cEVsICYmIHBvcHVwRWwuY29udGFpbnMoZXZlbnQudGFyZ2V0IGFzIE5vZGUpKSB7XG4gICAgICAgICAgICByZXR1cm47IC8vIOi/mOWcqOiPnOWNleWGhemDqFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgQEhvc3RMaXN0ZW5lcignbW91c2VsZWF2ZScsIFsnJGV2ZW50J10pXG4gICAgX29uVHJpZ2dlck1vdXNlTGVhdmUoZXZlbnQ6IE1vdXNlRXZlbnQpOiB2b2lkIHtcbiAgICAgICAgLy9jb25zdCBjdXJyRWwgPSB0aGlzLl9lbDtcbiAgICAgICAgY29uc3QgcG9wdXBFbCA9IHRoaXMubWVudSAmJiB0aGlzLm1lbnUubmF0aXZlRWxlbWVudCBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgaWYgKHBvcHVwRWwgJiYgcG9wdXBFbC5jb250YWlucyhldmVudC50YXJnZXQgYXMgTm9kZSkpIHtcbiAgICAgICAgICAgIHJldHVybjsgLy8g6L+Y5Zyo6I+c5Y2V5YaF6YOoXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjbG9zZU1lbnUoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuX2NsZWFyRGVsYXlUaW1lcigpO1xuICAgICAgICB0aGlzLnNldFBvcHVwVmlzaWJsZShmYWxzZSk7XG4gICAgfVxuXG4gICAgc2V0UG9wdXBWaXNpYmxlKHBvcHVwVmlzaWJsZTogYm9vbGVhbik6IHZvaWQge1xuXG4gICAgICAgIGlmICh0aGlzLl9wb3B1cFZpc2libGUgIT09IHBvcHVwVmlzaWJsZSkge1xuICAgICAgICAgICAgdGhpcy5fcG9wdXBWaXNpYmxlID0gcG9wdXBWaXNpYmxlO1xuXG4gICAgICAgICAgICBpZiAocG9wdXBWaXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9jbGlja091dHNpZGVIYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NsaWNrT3V0c2lkZUhhbmRsZXIgPSB0aGlzLl9yZW5kZXIubGlzdGVuKCdkb2N1bWVudCcsICdtb3VzZWRvd24nLCB0aGlzLl9vbkRvY3VtZW50Q2xpY2suYmluZCh0aGlzKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGFsd2F5cyBoaWRlIG9uIG1vYmlsZVxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fdG91Y2hPdXRzaWRlSGFuZGxlcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl90b3VjaE91dHNpZGVIYW5kbGVyID0gdGhpcy5fcmVuZGVyLmxpc3RlbignZG9jdW1lbnQnLCAndG91Y2hzdGFydCcsIHRoaXMuX29uRG9jdW1lbnRDbGljay5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXBvcHVwVmlzaWJsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NsZWFyT3V0c2lkZUhhbmRsZXIoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5jbVZpc2libGVDaGFuZ2UuZW1pdChwb3B1cFZpc2libGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX29uRG9jdW1lbnRDbGljayhldmVudDogTW91c2VFdmVudCk6IHZvaWQge1xuICAgICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQgYXMgTm9kZTtcbiAgICAgICAgY29uc3QgcG9wdXBFbCA9IHRoaXMubWVudSAmJiB0aGlzLm1lbnUubmF0aXZlRWxlbWVudCBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgaWYgKCF0aGlzLl9lbC5jb250YWlucyh0YXJnZXQpICYmICFwb3B1cEVsLmNvbnRhaW5zKHRhcmdldCkpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0UG9wdXBWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9jbGVhck91dHNpZGVIYW5kbGVyKCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5fY2xpY2tPdXRzaWRlSGFuZGxlcikge1xuICAgICAgICAgICAgdGhpcy5fY2xpY2tPdXRzaWRlSGFuZGxlcigpOyAvLyBSZW1vdmVzIFwibGlzdGVuXCIgbGlzdGVuZXJcbiAgICAgICAgICAgIHRoaXMuX2NsaWNrT3V0c2lkZUhhbmRsZXIgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX3RvdWNoT3V0c2lkZUhhbmRsZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX3RvdWNoT3V0c2lkZUhhbmRsZXIoKTsgLy8gUmVtb3ZlcyBcImxpc3RlblwiIGxpc3RlbmVyXG4gICAgICAgICAgICB0aGlzLl90b3VjaE91dHNpZGVIYW5kbGVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9jbGVhckRlbGF5VGltZXIoKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLl9kZWxheVRpbWVyKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fZGVsYXlUaW1lcik7XG4gICAgICAgICAgICB0aGlzLl9kZWxheVRpbWVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uRXhwYW5kQ2xpY2sob3B0aW9uOiBGaWx0ZXJPcHRpb24sIGluZGV4OiBudW1iZXIsIGV2ZW50OiBFdmVudCk6IHZvaWQge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBvcHRpb24uZXhwYW5kID0gIW9wdGlvbi5leHBhbmQ7XG4gICAgfVxuXG4gICAgb25NdWx0aUNsaWNrKG9wdGlvbjogRmlsdGVyT3B0aW9uLCBpbmRleDogbnVtYmVyLCBldmVudDogRXZlbnQpOiB2b2lkIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIG9wdGlvbi5tdWx0aSA9ICFvcHRpb24ubXVsdGk7XG4gICAgfVxuXG4gICAgY2hlY2tOZWNlc3Nhcnkobm9kZTogRmlsdGVyT3B0aW9uLCBvcHRpb246IEZpbHRlck9wdGlvbiwgaW5kZXg6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICBsZXQgcG5vZGUgPSBub2RlLmFkdmFuY2VkID8gbm9kZS5pdGVtc1tpbmRleF0gOiBub2RlO1xuICAgICAgICBpZiAocG5vZGUuaXNOZWNlc3NhcnkpIHtcbiAgICAgICAgICAgIGxldCBvbmx5ID0gdHJ1ZTtcbiAgICAgICAgICAgIGxldCBhcnIgPSBwbm9kZS5pdGVtcztcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFycltpXS52YWx1ZSAhPSBvcHRpb24udmFsdWUgJiYgYXJyW2ldLmNoZWNrZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgb25seSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob25seSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNtUmVxdWlyZWQgJiYgb3B0aW9uLmNoZWNrZWQpIHtcbiAgICAgICAgICAgIGxldCBvbmx5ID0gdHJ1ZTtcbiAgICAgICAgICAgIGxldCBhcnIgPSB0aGlzLl9zZWxlY3RlZE9wdGlvbnMgJiYgdGhpcy5fc2VsZWN0ZWRPcHRpb25zW3Bub2RlLnZhbHVlXSB8fCBbXTtcblxuICAgICAgICAgICAgZm9yIChsZXQga2V5IGluIHRoaXMuX3NlbGVjdGVkT3B0aW9ucykge1xuICAgICAgICAgICAgICAgIGlmIChrZXkgIT0gcG5vZGUudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX3NlbGVjdGVkT3B0aW9uc1trZXldICYmIHRoaXMuX3NlbGVjdGVkT3B0aW9uc1trZXldLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb25seSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChvbmx5KSB7XG4gICAgICAgICAgICAgICAgaWYgKGFyci5sZW5ndGggPD0gMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOiuvue9ruafkOWIl+eahOa/gOa0u+eahOiPnOWNlemAiemhuVxuICAgICAqXG4gICAgICogQHBhcmFtIG9wdGlvbiDoj5zljZXpgInpoblcbiAgICAgKiBAcGFyYW0gaW5kZXggIOmAiemhueaJgOWcqOeahOWIl+e7hOeahOe0ouW8lVxuICAgICAqL1xuICAgIHNldEFjdGl2ZU9wdGlvbihub2RlOiBGaWx0ZXJPcHRpb24sIG9wdGlvbjogRmlsdGVyT3B0aW9uLCBpbmRleDogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIGlmICghbm9kZSB8fCAhb3B0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9hY3RpdmF0ZWRPcHRpb25zKSB7XG4gICAgICAgICAgICB0aGlzLl9hY3RpdmF0ZWRPcHRpb25zID0ge307XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbi5jaGVja2VkKSB7XG4gICAgICAgICAgICB0aGlzLmNtU2VsZWN0LmVtaXQoe29wdGlvbiwgaW5kZXh9KTtcblxuICAgICAgICAgICAgaWYgKG5vZGUuYWR2YW5jZWQgJiYgbm9kZS5pdGVtcyAmJiBub2RlLml0ZW1zW2luZGV4XSkge1xuICAgICAgICAgICAgICAgIG5vZGUuaXRlbXNbaW5kZXhdLmNoZWNrZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9hY3RpdmF0ZWRPcHRpb25zW25vZGUuaXRlbXNbaW5kZXhdLnZhbHVlXSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hY3RpdmF0ZWRPcHRpb25zW25vZGUuaXRlbXNbaW5kZXhdLnZhbHVlXSA9IFtdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobm9kZS5tdWx0aSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hY3RpdmF0ZWRPcHRpb25zW25vZGUuaXRlbXNbaW5kZXhdLnZhbHVlXS5wdXNoKG9wdGlvbi52YWx1ZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub2RlLml0ZW1zW2luZGV4XS5pdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUuaXRlbXNbaW5kZXhdLml0ZW1zW2ldLnZhbHVlICE9IG9wdGlvbi52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuaXRlbXNbaW5kZXhdLml0ZW1zW2ldLmNoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hY3RpdmF0ZWRPcHRpb25zW25vZGUuaXRlbXNbaW5kZXhdLnZhbHVlXSA9IFtvcHRpb24udmFsdWVdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbm9kZS5jaGVja2VkID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fYWN0aXZhdGVkT3B0aW9uc1tub2RlLnZhbHVlXSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hY3RpdmF0ZWRPcHRpb25zW25vZGUudmFsdWVdID0gW107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChub2RlLm11bHRpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2FjdGl2YXRlZE9wdGlvbnNbbm9kZS52YWx1ZV0ucHVzaChvcHRpb24udmFsdWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9kZS5pdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUuaXRlbXNbaV0udmFsdWUgIT0gb3B0aW9uLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5pdGVtc1tpXS5jaGVja2VkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWN0aXZhdGVkT3B0aW9uc1tub2RlLnZhbHVlXSA9IFtvcHRpb24udmFsdWVdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY21VblNlbGVjdC5lbWl0KHtvcHRpb24sIGluZGV4fSk7XG5cbiAgICAgICAgICAgIGlmIChub2RlLmFkdmFuY2VkICYmIG5vZGUuaXRlbXMgJiYgbm9kZS5pdGVtc1tpbmRleF0pIHtcbiAgICAgICAgICAgICAgICBpZiAobm9kZS5tdWx0aSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fYWN0aXZhdGVkT3B0aW9uc1tub2RlLml0ZW1zW2luZGV4XS52YWx1ZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBsZW4gPSB0aGlzLl9hY3RpdmF0ZWRPcHRpb25zW25vZGUuaXRlbXNbaW5kZXhdLnZhbHVlXS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbi52YWx1ZSA9PSB0aGlzLl9hY3RpdmF0ZWRPcHRpb25zW25vZGUuaXRlbXNbaW5kZXhdLnZhbHVlXVtpXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9hY3RpdmF0ZWRPcHRpb25zW25vZGUuaXRlbXNbaW5kZXhdLnZhbHVlXS5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9hY3RpdmF0ZWRPcHRpb25zW25vZGUuaXRlbXNbaW5kZXhdLnZhbHVlXSAmJiAhdGhpcy5fYWN0aXZhdGVkT3B0aW9uc1tub2RlLml0ZW1zW2luZGV4XS52YWx1ZV0ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5pdGVtc1tpbmRleF0uY2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9hY3RpdmF0ZWRPcHRpb25zW25vZGUuaXRlbXNbaW5kZXhdLnZhbHVlXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUuaXRlbXNbaW5kZXhdLmNoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2FjdGl2YXRlZE9wdGlvbnNbbm9kZS5pdGVtc1tpbmRleF0udmFsdWVdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKG5vZGUubXVsdGkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2FjdGl2YXRlZE9wdGlvbnNbbm9kZS52YWx1ZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBsZW4gPSB0aGlzLl9hY3RpdmF0ZWRPcHRpb25zW25vZGUudmFsdWVdLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9uLnZhbHVlID09IHRoaXMuX2FjdGl2YXRlZE9wdGlvbnNbbm9kZS52YWx1ZV1baV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWN0aXZhdGVkT3B0aW9uc1tub2RlLnZhbHVlXS5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5fYWN0aXZhdGVkT3B0aW9uc1tub2RlLnZhbHVlXS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLmNoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5fYWN0aXZhdGVkT3B0aW9uc1tub2RlLnZhbHVlXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUuY2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5fYWN0aXZhdGVkT3B0aW9uc1tub2RlLnZhbHVlXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9pc0NoYW5nZU9uKG9wdGlvbiwgaW5kZXgpO1xuXG4gICAgICAgIGlmICghbm9kZS5tdWx0aSkge1xuICAgICAgICAgICAgdGhpcy5fc2VsZWN0ZWRPcHRpb25zID0gY2xvbmVEZWVwKHRoaXMuX2FjdGl2YXRlZE9wdGlvbnMpO1xuICAgICAgICAgICAgLy8g6Kem5Y+R5Y+Y5pu05LqL5Lu2XG4gICAgICAgICAgICB0aGlzLm9uVmFsdWVDaGFuZ2UoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOm8oOagh+eCueWHu+mAiemhuVxuICAgICAqXG4gICAgICogQHBhcmFtIG9wdGlvbiDoj5zljZXpgInpoblcbiAgICAgKiBAcGFyYW0gaW5kZXgg6YCJ6aG55omA5Zyo55qE5YiX57uE55qE57Si5byVXG4gICAgICogQHBhcmFtIGV2ZW50IOm8oOagh+S6i+S7tlxuICAgICAqL1xuICAgIG9uT3B0aW9uQ2xpY2sobm9kZTogRmlsdGVyT3B0aW9uLCBvcHRpb246IEZpbHRlck9wdGlvbiwgaW5kZXg6IG51bWJlciwgZXZlbnQ6IEV2ZW50KTogdm9pZCB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgIGlmIChvcHRpb24gJiYgb3B0aW9uLmRpc2FibGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9uLmNoZWNrZWQgJiYgdGhpcy5jaGVja05lY2Vzc2FyeShub2RlLCBvcHRpb24sIGluZGV4KSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgb3B0aW9uLmNoZWNrZWQgPSAhb3B0aW9uLmNoZWNrZWQ7XG4gICAgICAgIHRoaXMuc2V0QWN0aXZlT3B0aW9uKG5vZGUsIG9wdGlvbiwgaW5kZXgpO1xuICAgIH1cblxuICAgIG9uU2VsZWN0Q2xpY2sobm9kZTogRmlsdGVyT3B0aW9uLCBpbmRleDogbnVtYmVyLCBldmVudDogRXZlbnQpOiB2b2lkIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgaWYgKCF0aGlzLl9hY3RpdmF0ZWRPcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobm9kZS5hZHZhbmNlZCAmJiBub2RlLml0ZW1zICYmIG5vZGUuaXRlbXNbaW5kZXhdKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fYWN0aXZhdGVkT3B0aW9uc1tub2RlLml0ZW1zW2luZGV4XS52YWx1ZV0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zZWxlY3RlZE9wdGlvbnNbbm9kZS5pdGVtc1tpbmRleF0udmFsdWVdID0gdGhpcy5fYWN0aXZhdGVkT3B0aW9uc1tub2RlLml0ZW1zW2luZGV4XS52YWx1ZV07XG4gICAgICAgICAgICAgICAgLy8g6Kem5Y+R5Y+Y5pu05LqL5Lu2XG4gICAgICAgICAgICAgICAgdGhpcy5vblZhbHVlQ2hhbmdlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fYWN0aXZhdGVkT3B0aW9uc1tub2RlLnZhbHVlXSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3NlbGVjdGVkT3B0aW9uc1tub2RlLnZhbHVlXSA9IHRoaXMuX2FjdGl2YXRlZE9wdGlvbnNbbm9kZS52YWx1ZV07XG4gICAgICAgICAgICAgICAgLy8g6Kem5Y+R5Y+Y5pu05LqL5Lu2XG4gICAgICAgICAgICAgICAgdGhpcy5vblZhbHVlQ2hhbmdlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbkNhbmNlbENsaWNrKG5vZGU6IEZpbHRlck9wdGlvbiwgaW5kZXg6IG51bWJlciwgZXZlbnQ6IEV2ZW50KTogdm9pZCB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgIG5vZGUubXVsdGkgPSAhbm9kZS5tdWx0aTtcblxuICAgICAgICBpZiAobm9kZS5hZHZhbmNlZCAmJiBub2RlLml0ZW1zICYmIG5vZGUuaXRlbXNbaW5kZXhdKSB7XG4gICAgICAgICAgICBsZXQgYWN0aXZhdGVkT3B0aW9ucyA9IHRoaXMuX3NlbGVjdGVkT3B0aW9ucyAmJiB0aGlzLl9zZWxlY3RlZE9wdGlvbnNbbm9kZS5pdGVtc1tpbmRleF0udmFsdWVdIHx8IFtdO1xuICAgICAgICAgICAgbGV0IGxlbiA9IG5vZGUuaXRlbXNbaW5kZXhdLml0ZW1zICYmIG5vZGUuaXRlbXNbaW5kZXhdLml0ZW1zLmxlbmd0aCB8fCAwO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCB0YWcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGFjdGl2YXRlZE9wdGlvbnMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUuaXRlbXNbaW5kZXhdLml0ZW1zW2ldLnZhbHVlID09IGFjdGl2YXRlZE9wdGlvbnNbal0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBub2RlLml0ZW1zW2luZGV4XS5pdGVtc1tpXS5jaGVja2VkID0gdGFnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IGFjdGl2YXRlZE9wdGlvbnMgPSB0aGlzLl9zZWxlY3RlZE9wdGlvbnMgJiYgdGhpcy5fc2VsZWN0ZWRPcHRpb25zW25vZGUudmFsdWVdIHx8IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub2RlLml0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbGV0IHRhZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgYWN0aXZhdGVkT3B0aW9ucy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS5pdGVtc1tpXS52YWx1ZSA9PSBhY3RpdmF0ZWRPcHRpb25zW2pdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YWcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbm9kZS5pdGVtc1tpXS5jaGVja2VkID0gdGFnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGVsYXlJbnZpc2libGUob3B0aW9uOiBGaWx0ZXJPcHRpb24sIGluZGV4OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fY2xlYXJEZWxheVRpbWVyKCk7XG4gICAgICAgIHRoaXMuX2RlbGF5VGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIG9wdGlvbi52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLl9kZWxheVRpbWVyID0gbnVsbDtcbiAgICAgICAgfSwgNTAwKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDpvKDmoIfliJLlhaXpgInpoblcbiAgICAgKlxuICAgICAqIEBwYXJhbSBvcHRpb24g6I+c5Y2V6YCJ6aG5XG4gICAgICogQHBhcmFtIGluZGV4IOmAiemhueaJgOWcqOeahOWIl+e7hOeahOe0ouW8lVxuICAgICAqIEBwYXJhbSBldmVudCDpvKDmoIfkuovku7ZcbiAgICAgKi9cbiAgICBvbk9wdGlvbk1vdXNlRW50ZXIobm9kZTogRmlsdGVyT3B0aW9uLCBvcHRpb246IEZpbHRlck9wdGlvbiwgaW5kZXg6IG51bWJlciwgZXZlbnQ6IEV2ZW50KTogdm9pZCB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmIChub2RlLmFkdmFuY2VkKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5vZGUuaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBub2RlLml0ZW1zW2ldLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wdGlvbi52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOm8oOagh+WIkuWHuumAiemhuVxuICAgICAqXG4gICAgICogQHBhcmFtIG9wdGlvbiDoj5zljZXpgInpoblcbiAgICAgKiBAcGFyYW0gaW5kZXgg6YCJ6aG55omA5Zyo55qE5YiX57uE55qE57Si5byVXG4gICAgICogQHBhcmFtIGV2ZW50IOm8oOagh+S6i+S7tlxuICAgICAqL1xuICAgIG9uT3B0aW9uTW91c2VMZWF2ZShub2RlOiBGaWx0ZXJPcHRpb24sIG9wdGlvbjogRmlsdGVyT3B0aW9uLCBpbmRleDogbnVtYmVyLCBldmVudDogRXZlbnQpOiB2b2lkIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKG5vZGUuYWR2YW5jZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZGVsYXlJbnZpc2libGUob3B0aW9uLCBpbmRleCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDpvKDmoIfliJLlhaXpgInpoblcbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYW5lbCDoj5zljZXpgInpoblcbiAgICAgKiBAcGFyYW0gaW5kZXgg6YCJ6aG55omA5Zyo55qE5YiX57uE55qE57Si5byVXG4gICAgICogQHBhcmFtIGV2ZW50IOm8oOagh+S6i+S7tlxuICAgICAqL1xuICAgIG9uUGFuZWxNb3VzZUVudGVyKG9wdGlvbjogRmlsdGVyT3B0aW9uLCBpbmRleDogbnVtYmVyLCBldmVudDogRXZlbnQpOiB2b2lkIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5fY2xlYXJEZWxheVRpbWVyKCk7XG4gICAgICAgIG9wdGlvbi52aXNpYmxlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDpvKDmoIfliJLlh7rpgInpoblcbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYW5lbCDoj5zljZXpgInpoblcbiAgICAgKiBAcGFyYW0gaW5kZXgg6YCJ6aG55omA5Zyo55qE5YiX57uE55qE57Si5byVXG4gICAgICogQHBhcmFtIGV2ZW50IOm8oOagh+S6i+S7tlxuICAgICAqL1xuICAgIG9uUGFuZWxNb3VzZUxlYXZlKG9wdGlvbjogRmlsdGVyT3B0aW9uLCBpbmRleDogbnVtYmVyLCBldmVudDogRXZlbnQpOiB2b2lkIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5kZWxheUludmlzaWJsZShvcHRpb24sIGluZGV4KTtcbiAgICB9XG5cbiAgICBvblZhbHVlQ2hhbmdlKCk6IHZvaWQge1xuICAgICAgICB0aGlzLm9uQ2hhbmdlKHRoaXMuX3NlbGVjdGVkT3B0aW9ucyk7IC8vIEFuZ3VsYXIgbmVlZCB0aGlzXG4gICAgICAgIHRoaXMuY21DaGFuZ2UuZW1pdCh0aGlzLl9zZWxlY3RlZE9wdGlvbnMpO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIF9lbGVtZW50UmVmOiBFbGVtZW50UmVmLFxuICAgICAgICBwcml2YXRlIF9yZW5kZXI6IFJlbmRlcmVyMixcbiAgICAgICAgcHJpdmF0ZSBfY2RyOiBDaGFuZ2VEZXRlY3RvclJlZlxuICAgICkge1xuICAgICAgICB0aGlzLl9lbCA9IHRoaXMuX2VsZW1lbnRSZWYubmF0aXZlRWxlbWVudDtcbiAgICB9XG5cbiAgICBfYWRkSG9zdENsYXNzKGNsYXNzbmFtZTogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIHRoaXMuX3JlbmRlci5hZGRDbGFzcyh0aGlzLl9lbCwgY2xhc3NuYW1lKTtcbiAgICB9XG5cbiAgICBfcmVtb3ZlSG9zdENsYXNzKGNsYXNzbmFtZTogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIHRoaXMuX3JlbmRlci5yZW1vdmVDbGFzcyh0aGlzLl9lbCwgY2xhc3NuYW1lKTtcbiAgICB9XG5cbiAgICB3cml0ZVNlbGVjdGVkKGFycmF5OiBGaWx0ZXJPcHRpb25bXSkge1xuICAgICAgICBpZiAoIWFycmF5IHx8ICFhcnJheS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgbGVuID0gYXJyYXlbaV0uaXRlbXMgJiYgYXJyYXlbaV0uaXRlbXMubGVuZ3RoIHx8IDA7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGxlbjsgaisrKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9zZWxlY3RlZE9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2VsZWN0ZWRPcHRpb25zID0ge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fc2VsZWN0ZWRPcHRpb25zW2FycmF5W2ldLnZhbHVlXSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZWxlY3RlZE9wdGlvbnNbYXJyYXlbaV0udmFsdWVdID0gW107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX3NlbGVjdGVkT3B0aW9uc1thcnJheVtpXS52YWx1ZV0ucHVzaChhcnJheVtpXS5pdGVtc1tqXS52YWx1ZSk7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBtID0gMDsgbSA8IHRoaXMuX29wdGlvbnMubGVuZ3RoOyBtKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX29wdGlvbnNbbV0udmFsdWUgPT0gYXJyYXlbaV0udmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBvcHRpb25zID0gdGhpcy5fb3B0aW9uc1ttXS5pdGVtcyB8fCBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBvcHRpb25zTGVuID0gb3B0aW9ucyAmJiBvcHRpb25zLmxlbmd0aCB8fCAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgbiA9IDA7IG4gPCBvcHRpb25zTGVuOyBuKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXJyYXlbaV0uaXRlbXNbal0udmFsdWUgPT0gb3B0aW9uc1tuXS52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zW25dWydjaGVja2VkJ10gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdyaXRlIGEgbmV3IHZhbHVlIHRvIHRoZSBlbGVtZW50LlxuICAgICAqXG4gICAgICogQE92ZXJyaWRlIChGcm9tIENvbnRyb2xWYWx1ZUFjY2Vzc29yIGludGVyZmFjZSlcbiAgICAgKi9cbiAgICB3cml0ZVZhbHVlKHZhbHVlOiBhbnkpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgYXJyYXk6IGFueVtdID0gW107XG4gICAgICAgIHRvQXJyYXkodmFsdWUpLmZvckVhY2goKHY6IGFueSwgaW5kZXg6IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB2ICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICAgICAgICAgIG9ialt0aGlzLmNtVmFsdWVQcm9wZXJ0eV0gPSB2O1xuICAgICAgICAgICAgICAgIG9ialt0aGlzLmNtTGFiZWxQcm9wZXJ0eV0gPSB2O1xuICAgICAgICAgICAgICAgIGFycmF5W2luZGV4XSA9IG9iajtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYXJyYXlbaW5kZXhdID0gdjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy53cml0ZVNlbGVjdGVkKGFycmF5KTtcbiAgICAgICAgdGhpcy5fYWN0aXZhdGVkT3B0aW9ucyA9IHRoaXMuX3NlbGVjdGVkT3B0aW9ucztcbiAgICB9XG5cbiAgICByZWdpc3Rlck9uQ2hhbmdlKGZuOiAoXzogYW55KSA9PiB7fSk6IHZvaWQge1xuICAgICAgICB0aGlzLm9uQ2hhbmdlID0gZm47XG4gICAgfVxuXG4gICAgcmVnaXN0ZXJPblRvdWNoZWQoZm46ICgpID0+IHt9KTogdm9pZCB7XG4gICAgICAgIHRoaXMub25Ub3VjaGVkID0gZm47XG4gICAgfVxuXG4gICAgbmdPbkluaXQoKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmNtT3B0aW9ucyAmJiB0aGlzLmNtT3B0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuX29wdGlvbnMgPSB0aGlzLmNtT3B0aW9ucztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG5nT25EZXN0cm95KCk6IHZvaWQge1xuICAgICAgICB0aGlzLl9jbGVhckRlbGF5VGltZXIoKTtcbiAgICB9XG5cbiAgICBuZ09uQ2hhbmdlcyhjaGFuZ2VzOiBTaW1wbGVDaGFuZ2VzKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGNtT3B0aW9ucyA9IGNoYW5nZXMuY21PcHRpb25zO1xuICAgICAgICBpZiAoY21PcHRpb25zICYmICFjbU9wdGlvbnMuaXNGaXJzdENoYW5nZSgpKSB7XG4gICAgICAgICAgICB0aGlzLl9vcHRpb25zID0gW107XG4gICAgICAgICAgICBjb25zdCBuZXdPcHRpb25zOiBGaWx0ZXJPcHRpb25bXSA9IGNtT3B0aW9ucy5jdXJyZW50VmFsdWU7XG4gICAgICAgICAgICBpZiAobmV3T3B0aW9ucyAmJiBuZXdPcHRpb25zLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX29wdGlvbnMucHVzaChuZXdPcHRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIG5nQWZ0ZXJWaWV3SW5pdCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fYWRkSG9zdENsYXNzKHRoaXMuX3ByZWZpeENscyk7XG4gICAgICAgIHRoaXMuX2FkZEhvc3RDbGFzcyhgJHt0aGlzLl9wcmVmaXhDbHN9LXBpY2tlcmApO1xuICAgIH1cblxufVxuXG4iXX0=
