<div class="metadata-restapi-test">
    <cm-modal>
        <nz-modal [nzMaskClosable]="false" [nzWrapClassName]="'vertical-center-modal'" [nzContent]="modalContent2" [nzVisible]="isVisibleMiddle" [nzTitle]="'测试连接'" (nzOnCancel)="handleCancelMiddle($event)" (nzOnOk)="handleOkMiddle($event)" [nzFooter]="false">
            <ng-template #modalContent2>
                <cm-form>
                    <form nz-form [formGroup]="validateForm">
                        <div nz-form-item nz-row style="width:800px;">
                            <div nz-form-label nz-col [nzSm]="3" [nzXs]="24">
                                <label>数据源URL</label>
                            </div>
                            <div nz-form-control nz-col [nzSm]="7" [nzXs]="24">
                                <span nz-form-text>{{datasourceUrl}}</span>
                            </div>

                            <div nz-form-label nz-col [nzSm]="3" [nzXs]="24">
                                <label>Rest API URL</label>
                            </div>
                            <div nz-form-control nz-col [nzSm]="7" [nzXs]="24">
                                <span nz-form-text>{{testData?.physicalMetaObjectName}}</span>
                            </div>
                        </div>
                        <!-- <div nz-form-item nz-row>
                            <div nz-form-label nz-col [nzSm]="6" [nzXs]="24">
                                <label>Rest API URL</label>
                            </div>
                            <div nz-form-control nz-col [nzSm]="14" [nzXs]="24">
                                <span nz-form-text>{{testData?.restApiUrl}}</span>
                            </div>
                        </div> -->
                        <div nz-form-item nz-row>
                            <div nz-form-label nz-col [nzSm]="3" [nzXs]="24">
                                <label>HTTP Method</label>
                            </div>
                            <div nz-form-control nz-col [nzSm]="7" [nzXs]="24">
                                <span nz-form-text>POST</span>
                            </div>
                        </div>
                        <div class="testbody">
                            <div nz-form-item nz-row style="width:350px">
                                <div nz-form-label nz-col [nzSm]="12" [nzXs]="24">
                                    <label for="password">请求信息</label>
                                </div>
                                <div nz-form-control nz-col [nzSm]="24" [nzXs]="24">
                                    <!-- <cm-input>
                                                <nz-input #code [nzType]="'textarea'" [nzRows]="'4'" [nzPlaceHolder]="''"></nz-input>
                                            </cm-input> -->
                                    <!-- <span nz-form-text style="word-wrap: break-word;max-width: 100%;">{{ postBody }}</span> -->
                                    <textarea [formControlName]="'postBody'" [(ngModel)]="postBody" type="textarea" #code></textarea>
                                </div>
                            </div>
                            <div class="checkout">
                                <cm-button>
                                    <button nz-button [nzType]="'primary'" [nzSize]="'large'" (click)="handleOkMiddle()">测试</button>
                                </cm-button>
                            </div>

                            <div nz-form-item nz-row style="width:350px">
                                <div nz-form-label nz-col [nzSm]="12" [nzXs]="24">
                                    <label for="password">响应信息</label>
                                </div>
                                <div nz-form-control nz-col [nzSm]="24" [nzXs]="24">
                                    <!-- <cm-input>
                                                <nz-input [formControlName]="'response'" [(ngModel)]="response" [nzType]="'textarea'" [nzRows]="'4'" [nzPlaceHolder]="''"></nz-input>
                                            </cm-input> -->
                                    <textarea [formControlName]="'response'" [(ngModel)]="response" type="textarea" #resBox></textarea>
                                </div>
                            </div>

                        </div>

                    </form>
                </cm-form>
            </ng-template>
        </nz-modal>
    </cm-modal>
</div>