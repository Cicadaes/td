<div class="content-div">
  <button nz-button nzType="primary" nzSize="default" (click)="create()">
    <span class="ant-compat anticon anticon-plus"></span>新建维度
  </button>
  <div class="content-div-table shadow-content">
    <h3 class="content-div-table-tit module-title">
      人群维度列表
      <nz-input-group nzSuffixIcon="anticon anticon-search" style="float: right;width: 196px;margin-top: 12px;">
        <input
          type="text"
          [(ngModel)]="serachParam"
          nz-input
          (keyup)="serach($event)"
          placeholder="请输入维度名称进行检索"
          style="height: 24px;"
        />
      </nz-input-group>
    </h3>
    <nz-table
      #nzTable
      nzShowSizeChanger
      [nzLoading]="crowdTableLoading"
      [nzFrontPagination]="false"
      [nzData]="crowdData"
      [(nzPageIndex)]="_pageIndex"
      [(nzPageSize)]="_pageSize"
      [(nzTotal)]="_total"
      (nzPageIndexChange)="PageIndexChange($event)"
      (nzPageSizeChange)="PageSizeChange($event)"
      [nzPageSizeOptions]="pageSizeOptions"
    >
      <thead nz-thead>
        <tr>
          <th nz-th nzWidth="120px">维度名称</th>
          <th nz-th nzWidth="14%">编码</th>
          <th nz-th nzWidth="8%">状态</th>
          <th nz-th nzWidth="18%">描述</th>
          <th nz-th nzWidth="16%">创建人</th>
          <th nz-th nzWidth="16%">更新时间</th>
          <th nz-th nzWidth="10%">操作</th>
        </tr>
      </thead>
      <tbody nz-tbody>
        <tr nz-tbody-tr *ngFor="let item of nzTable.data">
          <td nz-td title="{{ item.name }}">{{ item.name }}</td>
          <td nz-td title="{{ item.code }}">{{ item.code }}</td>
          <td nz-td>
            <span
              [ngClass]="{
                'zw-color': true,
                'inprogress-color': item.status == '0'
              }"
            ></span
            ><span *ngIf="item.status == '-1'">禁用</span><span *ngIf="item.status == '0'">启用</span>
          </td>
          <td nz-td title="{{ item.description }}">{{ item.description }}</td>
          <td nz-td>{{ item.creator }}</td>
          <td nz-td>{{ item.updateTime }}</td>
          <td nz-td>
            <a (click)="edit(item)">编辑</a>
            <a (click)="delete(item)"
              ><span *ngIf="item.status == '0'">禁用</span><span *ngIf="item.status == '-1'">启用</span></a
            >
          </td>
        </tr>
      </tbody>
    </nz-table>
  </div>
</div>

<!-- 删除弹框 -->
<app-modal-dialog
  [itemObj]="itemObj"
  [isVisible]="removeFlag"
  (hideItemDialog)="hideItemDialog($event)"
  (confirmHideDialog)="confirmHideDialog($event)"
></app-modal-dialog>

<!-- 新建人群维度配置及编辑人群维度配置-->
<app-add-crowd-dimensionality
  [isVisible]="isVisible"
  (hideDialog)="hideDialog($event)"
  [editData]="editData"
  [editFlag]="editFlag"
  (saveDate)="saveDate()"
></app-add-crowd-dimensionality>
