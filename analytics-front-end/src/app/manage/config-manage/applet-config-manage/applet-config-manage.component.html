<main>
  <div class="content">
    <form nz-form [formGroup]="validateForm" (ngSubmit)="submitForm()" autocomplete="off">
      <div class="item">
        <nz-form-item>
          <nz-form-label nzRequired nzFor="productname" class="item-label">小程序名称</nz-form-label>
          <nz-form-control class="item-value">
            <input
              id="productname"
              type="productname"
              nz-input
              formControlName="productname"
              placeholder="请输入小程序名称"
            />
            <nz-form-explain *ngIf="getFormControl('productname').dirty && getFormControl('productname').errors">
              <ng-container *ngIf="getFormControl('productname').errors.required">
                请输入小程序名称
              </ng-container>
              <ng-container *ngIf="getFormControl('productname').errors.maxlength">
                小程序名称不能超过26个字符
              </ng-container>
            </nz-form-explain>
          </nz-form-control>
        </nz-form-item>
      </div>
      <div class="item">
        <nz-form-item>
          <nz-form-label nzFor="appkey" class="item-label">App ID</nz-form-label>
          <nz-form-control class="item-value">
            <input id="appkey" type="appkey" nz-input formControlName="appkey" placeholder="" />
            <a
              href="javascript:;"
              class="ml-10"
              ngxClipboard
              [cbContent]="data['appkey']"
              class="copy"
              (cbOnSuccess)="successCopy('App ID复制成功')"
              >复制</a
            >
          </nz-form-control>
        </nz-form-item>
      </div>

      <div class="item">
        <nz-form-item>
          <nz-form-label nzRequired nzFor="miniprogramAppid" class="item-label">小程序ID</nz-form-label>
          <nz-form-control class="item-value">
            <input
              id="miniprogramAppid"
              type="miniprogramAppid"
              nz-input
              formControlName="miniprogramAppid"
              placeholder="微信分配的小程序唯一ID"
              maxlength="100"
            />
            <nz-form-explain
              *ngIf="getFormControl('miniprogramAppid').dirty && getFormControl('miniprogramAppid').errors"
            >
              <ng-container *ngIf="getFormControl('miniprogramAppid').errors.required">
                请输入小程序ID
              </ng-container>
              <ng-container *ngIf="getFormControl('miniprogramAppid').errors.pattern">
                微信分配的小程序唯一ID只能是字母，数字和下划线
              </ng-container>
            </nz-form-explain>
          </nz-form-control>
        </nz-form-item>
      </div>
      <div class="item">
        <nz-form-item>
          <nz-form-label nzRequired nzFor="miniprogramSecret" class="item-label">小程序密钥</nz-form-label>
          <nz-form-control class="item-value">
            <input
              id="miniprogramSecret"
              type="miniprogramSecret"
              nz-input
              formControlName="miniprogramSecret"
              placeholder="请输入APP ID"
            />
            <nz-form-explain
              *ngIf="getFormControl('miniprogramSecret').dirty && getFormControl('miniprogramSecret').errors"
            >
              <ng-container *ngIf="getFormControl('miniprogramSecret').errors.required">
                请输入小程序密钥
              </ng-container>
              <ng-container *ngIf="getFormControl('miniprogramSecret').errors.pattern">
                微信分配的小程序Secret只能是字母，数字和下划线
              </ng-container>
            </nz-form-explain>
          </nz-form-control>
        </nz-form-item>
      </div>
      <div class="item">
        <nz-form-item>
          <nz-form-label nzFor="desc" class="item-label">小程序描述</nz-form-label>
          <nz-form-control class="item-value">
            <textarea
              id="desc"
              type="desc"
              nz-input
              formControlName="desc"
              placeholder="请输入小程序描述"
              rows="3"
              class="special-input"
              maxlength="200"
            ></textarea>
          </nz-form-control>
        </nz-form-item>
      </div>
      <div class="item">
        <nz-form-item>
          <nz-form-label>数据补偿策略</nz-form-label>
          <nz-form-control>
            <nz-radio-group formControlName="iscompensate">
              <div>
                <label nz-radio nzValue="1"
                  >补偿至数据发生时间
                  <span
                    class="item-special-label"
                    title="历史数据会因用户网络不佳造成数据延迟收集而变化；最多支持延迟未超过3日上报的数据补偿，超过3日的数据将补偿至数据上报时间。"
                    >历史数据会因用户网络不佳造成数据延迟收集而变化；最多支持延迟未超过3日上报的数据补偿，超过3日的数据将补偿至数据上报时间。</span
                  ></label
                >
              </div>
              <div>
                <label nz-radio nzValue="2"
                  >补偿至数据上报时间
                  <span class="item-special-label" title="历史数据不会变化，补充数据填充至数据上报时间。"
                    >历史数据不会变化，补充数据填充至数据上报时间。</span
                  ></label
                >
              </div>
            </nz-radio-group>
          </nz-form-control>
        </nz-form-item>
      </div>
      <nz-form-item class="botton-item">
        <nz-form-control>
          <button nz-button nzType="primary" (click)="save()">保存</button>
          <button nz-button nzType="'default'" (click)="cancel()">取消</button>
        </nz-form-control>
      </nz-form-item>
    </form>
  </div>
</main>
