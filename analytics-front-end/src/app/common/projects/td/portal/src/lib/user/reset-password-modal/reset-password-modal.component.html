<!-- 修改密码弹框 -->
<nz-modal
  [(nzVisible)]="passwdDialogShow"
  [nzMaskClosable]="false"
  [nzWidth]="420"
  [nzTitle]="showdata?.startMenuAccountSetting"
  [nzContent]="modalContent"
  [nzFooter]="modalFooter"
  (nzOnCancel)="hidePasswdDialog()"
>
  <ng-template #modalContent>
    <form class="form-horizontal clrfix">
      <div class="control-group">
        <label class="control-label"> &nbsp;&nbsp;&nbsp;&nbsp;{{ showdata?.startMenuAccountSettingLM }}: </label>
        <div class="controls">
          <span id="account-email">{{ appConfig?.user?.email }}</span>
        </div>
      </div>
      <div class="control-group" style="margin-top:10px;">
        <label class="control-label">
          <span class="required">✳&nbsp;</span>
          {{ showdata?.startMenuAccountSettingOP }}:
        </label>
        <div class="controls">
          <input
            id="oldPassword"
            nz-input
            required
            [(ngModel)]="oldPassword"
            name="old"
            (keyup)="checkOldPassword($event)"
            [ngClass]="_oldPasswdCls"
            placeholder="{{ showdata?.startMenuPart1 }}"
            type="text"
            onfocus="this.type='password'"
            autocomplete="new-password"
          />
          <span [ngClass]="{ 'form-error-msg': true, hide: !oldPasswdErr }">{{ oldPasswdMsg }}</span>
        </div>
      </div>
      <div class="control-group">
        <label class="control-label">
          <span class="required">✳&nbsp;</span>
          {{ showdata?.startMenuAccountSettingNP }}:
        </label>
        <div class="controls">
          <input
            id="newPassword"
            nz-input
            required
            [(ngModel)]="newPassword"
            name="new"
            (keyup)="checkNewPassword($event)"
            [ngClass]="_newPasswdCls"
            placeholder="{{ showdata?.startMenuPart2 }}"
            type="text"
            onfocus="this.type='password'"
            autocomplete="new-password"
            maxlength="32"
          />
          <span [ngClass]="{ 'form-error-msg': true, hide: !newPasswdErr }">{{ newPasswdMsg }}</span>
        </div>
      </div>
      <div
        class="control-group"
        [ngStyle]="{ margin: newPasswdErr && newPasswdMsg && newPasswdMsg.length > 24 ? '45px 0 0 0' : '20px 0 0 0' }"
      >
        <label class="control-label">
          <span class="required">✳&nbsp;</span>
          {{ showdata?.startMenuAccountSettingRP }}:
        </label>
        <div class="controls">
          <input
            id="rePassword"
            nz-input
            required
            [(ngModel)]="rePassword"
            name="re"
            (keyup)="checkRePassword($event)"
            [ngClass]="_rePasswdCls"
            placeholder="{{ showdata?.startMenuPart3 }}"
            type="text"
            onfocus="this.type='password'"
            autocomplete="new-password"
            maxlength="32"
          />
          <span [ngClass]="{ 'form-error-msg': true, hide: !rePasswdErr }">{{ rePasswdMsg }}</span>
        </div>
      </div>
    </form>
  </ng-template>
  <ng-template #modalFooter>
    <button nz-button nzType="default" (click)="hidePasswdDialog()">{{ showdata?.publicCancel }}</button>
    <button nz-button nzType="primary" [disabled]="canSumbit" (click)="updatePassword($event)">
      {{ btnSumbitTxt }}
    </button>
  </ng-template>
</nz-modal>
