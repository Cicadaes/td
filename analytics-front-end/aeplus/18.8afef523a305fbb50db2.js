(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{YXp7:function(n,l,e){"use strict";e.d(l,"a",function(){return t});var t=function(){}},ztxl:function(n,l,e){"use strict";e.r(l);var t=e("CcnG"),u=function(){},o=e("pMnS"),a=e("6Cds"),i=e("tqhI"),r=e("le8y"),d=e("SuUH"),s=e("toH5"),c=e("+TeP"),p=e("DT9H"),g=e("fQAG"),f=e("AG3A"),m=e("Ip0R"),h=e("ebDo"),v=e("omrJ"),C=e("mRcK"),b=e("mrSG"),x=e("SJwl"),w=function(n){function l(l){return n.call(this,l)||this}return Object(b.__extends)(l,n),l.prototype.getOverview=function(n,l){var e="/marketing-api/effect/target/"+n+"/overview";return l&&(e+="?segmentIdArr="+l),this.http.get(e)},l.prototype.getTrend=function(n,l,e){var t="/marketing-api/effect/target/"+n+"/trend";return e&&(t+="/"+e),l&&(t+="?segmentIdArr="+l),this.http.get(t)},l.prototype.getDetail=function(n,l){var e="/marketing-api/effect/target/"+n+"/detail";return l&&(e+="?segmentIdArr="+l),this.http.get(e)},l.prototype.getCompareList=function(n){return this.http.get("/marketing-api/campaign/campaigns/"+n+"//pipelines/segments")},l.prototype.downloadTrend=function(n,l,e,t){var u="/marketing-api/effect/target/"+n+"/trend/"+t+"/download?campaignName="+l;return e&&(u+="&segmentIdArr="+e),this.http.get(u)},l.prototype.downloadDetail=function(n,l,e){var t="/marketing-api/effect/target/"+n+"/detail/download?campaignName="+l;return e&&(t+="&segmentIdArr="+e),this.http.get(t)},l}(x.a),y=e("7+Rp"),O=function(n){function l(l,e){var t=n.call(this,e)||this;return t.targetAchievementService=l,t.injector=e,t.tabList=[{url:"/effect-report/target-achievement",name:"\u76ee\u6807\u8fbe\u6210"},{url:"/effect-report/funnel-analysis",name:"\u6f0f\u6597\u5206\u6790"}],t.indiList=[],t.detailList=[],t.compareList=[],t.compareListOld=[],t.trendPerMap={},t.chartOption={},t.compareState=!1,t.compareShowState=!1,t.compareChooseIds="",t.compareChooseIdsOld="",t.compareChooseList=[],t.compareChooseShow=[],t.reportObj={},t.haveData=!1,t.errorTip="",t}return Object(b.__extends)(l,n),l.prototype.ngOnInit=function(){var n=this.route.snapshot.params.campaignId;n&&(this.campaignId=parseInt(n));var l=this;this.chartOption={color:["#2D8CF0","#2DE2C5","#FCC45F","#FF8454","#DB425A","#34508C","#5BB6FD","#56D08B","#B3E768","#71808F"],legend:{top:6,right:14,icon:"rect",itemWidth:16,itemHeight:4,borderRadius:2,padding:0,itemGap:10,color:"#495060",data:["PV\u8fbe\u6210"]},tooltip:{trigger:"axis",backgroundColor:"rgba(23,35,61,0.85)",padding:[16,20],extraCssText:"box-shadow: 0 0 4px rgba(0, 0, 0, 0.3);",textStyle:{color:"#fff"},formatter:function(n){var e="\u8fbe\u6210 / \u8fbe\u6210\u7387";l.compareShowState&&(e="\u8d21\u732e / \u8d21\u732e\u7387");for(var t='<div style="border-bottom:1px solid #dfe7f2;padding-bottom:12px;width: 280px;">\n            <span style="">\n            '+n[0].name+'\n            </span>\n            <span style="float: right;">\n            '+e+"\n            </span>\n            </div>",u=0;u<n.length-1;u++)t+='<p style="margin-top:12px;">\n              <span style="color: params[i].color ;margin-right:8px;">\u25cf</span>\n              '+n[u].seriesName+'\n              <span style="color: #2D8CF0; float: right;">\n              '+l.toThousandStr(n[u].value)+" \n\t\t\t        / \n\t\t\t\t      "+l.trendPerMap[n[u].seriesName][n[0].name]+"\n\t\t\t        % \n              </span>\n              </p>";return t}},xAxis:{type:"category",boundaryGap:!0,axisLine:{lineStyle:{color:"#DDDEE1",width:0}},axisTick:{alignWithLabel:!0,length:6,lineStyle:{color:"#DDDEE1"}},axisLabel:{margin:18,textStyle:{fontFamily:"HelveticaNeue",fontSize:12,color:"#80848F",fontWeight:"normal"}},data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},yAxis:{type:"value",axisLine:{show:!1},axisTick:{show:!1},axisLabel:{margin:18,fontFamily:"HelveticaNeue",fontSize:12,color:"#80848F",fontWeight:"normal"}},grid:{top:36,left:0,bottom:10,right:14,containLabel:!0},series:[{type:"line",symbol:"none",name:"PV\u8fbe\u6210",data:[820,932,901,934,1290,1330,1320]}]},this.getOverview(),this.getDetail(),this.getCompareList()},l.prototype.getCompareList=function(){var n=this;this.targetAchievementService.getCompareList(this.campaignId).subscribe(function(l){l&&l.data&&l.data.pipelineInfoVo&&(n.compareList=l.data.pipelineInfoVo)})},l.prototype.getTrend=function(){var n=this;this.targetAchievementService.getTrend(this.campaignId,this.compareChooseIds,this.targetIdCurrent).subscribe(function(l){if(200===l.code&&l.data&&l.data.data&&l.data.data.length>0){for(var e=l.data.data,t=[],u=[],o=[],a=0;a<e.length;a++){var i=e[a],r=i.segmentName||i.targetName;n.trendPerMap[r]||(n.trendPerMap[r]={}),t.push(r);for(var d={name:r,type:"line",stack:i.targetName,data:[]},s=0;s<i.items.length;s++){var c=i.items[s];n.trendPerMap[r][c.date]=c.increaseRate||0,0===a&&u.push(c.date),d.data.push(c.increaseValue)}o.push(d)}var p=n.planFixedPoint(o[0].data.length);o.push(p),n.chartOption.legend.data=t,n.chartOption.xAxis.data=u,n.chartOption.series=o,n.chartComponent.option=n.chartOption}})},l.prototype.planFixedPoint=function(n){var l,e,t=this;t.indiList&&t.indiList.forEach(function(n){if(n.isSelected)return e=n,void(l=t.compareChooseIds?n.totalActualValue:n.targetValue)});for(var u={name:"\u8ba1\u5212\u76ee\u6807",smooth:!0,type:"line",symbol:"diamond",hoverAnimation:!1,symbolSize:10,color:"#DB425A",label:{normal:{show:!0,position:"bottom",formatter:function(n){var l=n.value,e=l;if(l&&/^[0-9]*$/.test(l)){l+="";var t=Math.floor(l.length/3);e=l.split("");for(var u=0;u<t;u++)e.splice(-(3*(u+1)+u),0,",");","==e[0]&&e.shift(),e=e.join("")}return n.seriesName+"\n"+e}},emphasis:{show:!0,position:"bottom"}},markLine:{symbol:["",""],animation:!0,data:[{yAxis:l}],label:{normal:{show:!0,position:"bottom",formatter:function(n){return""}},emphasis:{show:!0,position:"bottom",formatter:function(n){return""}}}}},o=[],a=0;a<n-1;a++)o.push("");return t.compareChooseIds?(u.name="\u5b9e\u9645\u503c",o.push(e.totalActualValue)):o.push(e.targetValue),u.data=o,u},l.prototype.getDetail=function(){var n=this;this.targetAchievementService.getDetail(this.campaignId,this.compareChooseIds).subscribe(function(l){if(200===l.code&&l.data&&l.data.data&&l.data.data.length>0){var e=l.data.data;if(e&&e.length>0)for(var t=0;t<e.length;t++)for(var u=e[t],o=u.segments,a=0;a<o.length;a++){var i=o[a];if(i.items||(i.items=[]),0===i.items.length)for(var r=0;r<u.groupOverview.length;r++)i.items.push({});for(r=0;r<i.items.length;r++){var d=i.items[r];d.actualValueRate&&"--"===d.actualValueRate&&(d.actualValueRate="0")}}n.detailList=e}})},l.prototype.getOverview=function(){var n=this;this.targetAchievementService.getOverview(this.campaignId,this.compareChooseIds).subscribe(function(l){if(200===l.code&&l.data&&l.data.data&&l.data.data.length>0){n.haveData=!0;var e="totalActualRate";n.compareChooseIds&&(e="segmentsActualRate");for(var t=[],u=0;u<l.data.data.length;u++){var o=l.data.data[u];t.push({targetId:o.targetId,targetName:o.targetName,targetValue:o.targetValue,totalActualValue:o.totalActualValue,segmentsActualValue:o.segmentsActualValue,percent:o[e],isSelected:0===u})}n.indiList=t,n.targetIdCurrent=t[0].targetId,n.getTrend()}else 504===l.code?n.errorTip=l.message:n.message.create("error",l.message)})},l.prototype.clickPanel=function(n,l){if(!n.isSelected){for(var e=0;e<this.indiList.length;e++)this.indiList[e].isSelected=!1;n.isSelected=!0,this.targetIdCurrent=n.targetId,this.getTrend()}},l.prototype.compareCheck=function(){this.compareState=!1,this.compareChooseShow=this.compareChooseList,this.compareShowState=!!this.compareChooseIds,this.getOverview(),this.getDetail()},l.prototype.clickCompareItem=function(n){n.selected=!n.selected,this.compareChooseIds="",this.compareChooseList=[];for(var l=0;l<this.compareList.length;l++)for(var e=this.compareList[l],t=0;t<e.segmentInfoVos.length;t++){var u=e.segmentInfoVos[t];u.selected&&(this.compareChooseIds+=u.segmentId+",",this.compareChooseList.push(u.segmentName||"\u672a\u5b9a\u4e49\u540d\u79f0"))}this.compareChooseIds=this.compareChooseIds.substr(0,this.compareChooseIds.length-1)},l.prototype.resetCompare=function(){for(var n=0;n<this.compareList.length;n++)for(var l=this.compareList[n],e=0;e<l.segmentInfoVos.length;e++)l.segmentInfoVos[e].selected=!1;this.compareChooseIds="",this.compareChooseList=[]},l.prototype.clickReport=function(n){var l=n.channelType;this.reportObj={campaignId:this.campaignId,segmentId:n.segmentId,name:n.segmentName,right:!0};var e=null;1===l?e=this.report_push:2===l?e=this.report_sms:3===l&&(e=this.report_email),this.modalService.create({nzTitle:"\u6295\u653e\u62a5\u544a",nzContent:e,nzCancelText:null,nzOkText:null,nzWidth:"80%",nzMask:!0,nzMaskClosable:!1,nzFooter:null,nzBodyStyle:{background:"#eef0f3",padding:"0px 0px 16px 0px"}})},l.prototype.gotoDetail=function(){this.goInto({name:"",url:"/marketing-activities/activities",params:{campaignId:this.campaignId}})},l.prototype.cacheCompareStatus=function(){this.compareState||(this.compareChooseIdsOld=this.compareChooseIds,this.compareListOld=JSON.parse(JSON.stringify(this.compareList))),this.compareState=!this.compareState},l.prototype.restoreCompareStatus=function(){this.compareChooseIds=this.compareChooseIdsOld,this.compareList=this.compareListOld,this.compareState=!1},l.prototype.downloadTrend=function(){this.targetAchievementService.downloadTrend(this.campaignId,this.campaignName,this.compareChooseIds,this.targetIdCurrent).subscribe(function(){})},l.prototype.downloadDetail=function(){this.targetAchievementService.downloadDetail(this.campaignId,this.campaignName,this.compareChooseIds).subscribe(function(){})},l.prototype.goPage=function(n){this.commonService.goPage(n)},l}(y.a),R=t["\u0275crt"]({encapsulation:0,styles:[[".main-contant[_ngcontent-%COMP%]{padding:16px}.item-main[_ngcontent-%COMP%], .panel-content[_ngcontent-%COMP%]{margin-bottom:16px}.panel-title[_ngcontent-%COMP%]{height:46px;border-bottom:1px solid #ccc;line-height:46px;padding-left:16px;font-weight:bolder}.panel-item[_ngcontent-%COMP%]{width:calc((100% - 48px)/ 4);height:152px;margin-right:16px;border-radius:2px;padding:16px;float:left;background-color:#fff}.panel-item[_ngcontent-%COMP%]:nth-child(4){margin-right:0}.item-name[_ngcontent-%COMP%]{font-size:14px;color:#17233d;line-height:22px}.item-label[_ngcontent-%COMP%]{font-size:12px;color:rgba(23,35,61,.75);margin-top:16px}.item-indi[_ngcontent-%COMP%]{font-size:24px;color:rgba(11,17,0,.55);line-height:32px;margin-top:8px}.item-achieve[_ngcontent-%COMP%]{color:#17233d}.item-percent[_ngcontent-%COMP%]{margin-top:10px}.chart-content[_ngcontent-%COMP%]{width:100%;height:270px;padding:20px}.target-table[_ngcontent-%COMP%]{width:100%}.target-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0 16px}.label-border[_ngcontent-%COMP%]{font-weight:bolder}.table-header[_ngcontent-%COMP%]{background-color:rgba(23,35,61,.03);height:40px;line-height:40px;border-bottom:1px solid #ccc}.table-tr[_ngcontent-%COMP%]{height:56px;border-bottom:1px solid #ccc}.selected[_ngcontent-%COMP%]{background-color:#2d8cf0;color:#fff}.selected[_ngcontent-%COMP%]   .item-achieve[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   .item-indi[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   .item-label[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{color:#fff}.progress-used[_ngcontent-%COMP%]{background-color:#2d8cf0}.progress-full[_ngcontent-%COMP%]{background-color:#db425a}.progress-left[_ngcontent-%COMP%]{background-color:rgba(23,35,61,.1)}.selected[_ngcontent-%COMP%]   .progress-used[_ngcontent-%COMP%]{background-color:#2de2c5}.selected[_ngcontent-%COMP%]   .progress-left[_ngcontent-%COMP%]{background-color:rgba(23,35,61,.25)}.compare-panel[_ngcontent-%COMP%]{background:#fff;border:1px solid rgba(23,35,61,.15);box-shadow:0 1px 4px 0 rgba(23,35,61,.25);border-radius:4px;position:absolute;width:452px;height:417px;z-index:9}.comp-panel-title[_ngcontent-%COMP%]{height:46px;font-size:12px;color:#17233d;line-height:46px;padding:0 16px;border-bottom:1px solid #ccc;font-weight:bolder}.comp-panel-label[_ngcontent-%COMP%]{height:40px;font-size:12px;color:#17233d;line-height:40px;font-weight:bolder}.comp-panel-content[_ngcontent-%COMP%]{background:rgba(23,35,61,.03);padding:10px 0 8px;height:111px;overflow-y:auto}.comp-panel-item[_ngcontent-%COMP%]{float:left;color:rgba(23,35,61,.75);border-radius:20px;font-size:12px;line-height:24px;height:24px;padding:0 12px;margin-right:8px;width:124px;max-width:124px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;cursor:pointer;margin-bottom:7px}.comp-panel-item-select[_ngcontent-%COMP%]{color:#fff;background:#2d8cf0}.no-data-link[_ngcontent-%COMP%]{text-align:center;padding:100px}.compare-span[_ngcontent-%COMP%]{padding:0 8px;border:1px solid #c5cad1;border-radius:4px;display:inline-block;height:32px;line-height:32px;margin:0 8px}"]],data:{}});function I(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-report-email",[],null,null,null,i.b,i.a)),t["\u0275did"](1,638976,null,0,r.a,[d.a,a.g,s.a],{reportObj:[0,"reportObj"]},null)],function(n,l){n(l,1,0,l.component.reportObj)},null)}function z(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-report-push",[],null,null,null,c.b,c.a)),t["\u0275did"](1,638976,null,0,p.a,[d.a,a.g,s.a],{reportObj:[0,"reportObj"]},null)],function(n,l){n(l,1,0,l.component.reportObj)},null)}function S(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-report-sms",[],null,null,null,g.b,g.a)),t["\u0275did"](1,638976,null,0,f.a,[d.a,a.g,s.a],{reportObj:[0,"reportObj"]},null)],function(n,l){n(l,1,0,l.component.reportObj)},null)}function M(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","compare-span"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,[" "," "]))],null,function(n,l){n(l,1,0,l.context.$implicit)})}function _(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"div",[["class","comp-panel-item"]],[[8,"title",0]],[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.clickCompareItem(n.context.$implicit)&&t),t},null,null)),t["\u0275did"](1,278528,null,0,m.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](2,{"comp-panel-item-select":0}),(n()(),t["\u0275ted"](3,null,[" "," "]))],function(n,l){n(l,1,0,"comp-panel-item",n(l,2,0,l.context.$implicit.selected))},function(n,l){n(l,0,0,t["\u0275inlineInterpolate"](1,"",l.context.$implicit.segmentName,"")),n(l,3,0,l.context.$implicit.segmentName)})}function E(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,5,"div",[["style","padding: 0 16px;"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,1,"div",[["class","comp-panel-label"]],null,null,null,null,null)),(n()(),t["\u0275ted"](2,null,[" "," "])),(n()(),t["\u0275eld"](3,0,null,null,2,"div",[["class","comp-panel-content"]],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,_)),t["\u0275did"](5,278528,null,0,m.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(n,l){n(l,5,0,l.context.$implicit.segmentInfoVos)},function(n,l){n(l,2,0,l.context.$implicit.pipelineName)})}function k(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,21,"div",[["class","compare-panel"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,4,"div",[["class","comp-panel-title"]],null,null,null,null,null)),(n()(),t["\u0275eld"](2,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["\u9009\u62e9\u5bf9\u6bd4\u7ec6\u5206"])),(n()(),t["\u0275eld"](4,0,null,null,1,"span",[["style","color: #2D8CF0; float: right; cursor: pointer;"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.resetCompare()&&t),t},null,null)),(n()(),t["\u0275ted"](-1,null,["\u91cd\u7f6e"])),(n()(),t["\u0275eld"](6,0,null,null,2,"div",[["style","overflow-y: auto; height: calc(100% - 110px);"]],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,E)),t["\u0275did"](8,278528,null,0,m.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),t["\u0275eld"](9,0,null,null,12,"div",[["style","float: right; padding: 0 16px;"]],null,null,null,null,null)),(n()(),t["\u0275eld"](10,0,null,null,5,"button",[["class","blue-btn"],["nz-button",""],["nzType","default"],["style","width: 56px; margin-right: 8px;"]],[[1,"nz-wave",0]],[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.restoreCompareStatus()&&t),t},h.T,h.a)),t["\u0275prd"](512,null,a.M,a.M,[t.Renderer2]),t["\u0275did"](12,1294336,null,1,a.m,[t.ElementRef,t.ChangeDetectorRef,t.Renderer2,a.M,t.NgZone],{nzType:[0,"nzType"]},null),t["\u0275qud"](603979776,6,{listOfIconElement:1}),(n()(),t["\u0275eld"](14,0,null,0,1,"span",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["\u53d6\u6d88"])),(n()(),t["\u0275eld"](16,0,null,null,5,"button",[["class","blue-btn"],["nz-button",""],["nzType","primary"],["style","width: 56px;"]],[[1,"nz-wave",0]],[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.compareCheck()&&t),t},h.T,h.a)),t["\u0275prd"](512,null,a.M,a.M,[t.Renderer2]),t["\u0275did"](18,1294336,null,1,a.m,[t.ElementRef,t.ChangeDetectorRef,t.Renderer2,a.M,t.NgZone],{nzType:[0,"nzType"]},null),t["\u0275qud"](603979776,7,{listOfIconElement:1}),(n()(),t["\u0275eld"](20,0,null,0,1,"span",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["\u786e\u8ba4"]))],function(n,l){n(l,8,0,l.component.compareList),n(l,12,0,"default"),n(l,18,0,"primary")},function(n,l){n(l,10,0,t["\u0275nov"](l,12).nzWave),n(l,16,0,t["\u0275nov"](l,18).nzWave)})}function D(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,12,"div",[["class","shadow-content"],["style","height: 64px; line-height: 64px; padding-left: 16px;"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,6,"button",[["class","blue-btn"],["nz-button",""],["nzType","default"],["style","width: 94px;"]],[[1,"nz-wave",0]],[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.cacheCompareStatus()&&t),t},h.T,h.a)),t["\u0275prd"](512,null,a.M,a.M,[t.Renderer2]),t["\u0275did"](3,1294336,null,1,a.m,[t.ElementRef,t.ChangeDetectorRef,t.Renderer2,a.M,t.NgZone],{nzType:[0,"nzType"]},null),t["\u0275qud"](603979776,5,{listOfIconElement:1}),(n()(),t["\u0275eld"](5,0,null,0,1,"span",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["\u5bf9\u6bd4\u7ec6\u5206"])),(n()(),t["\u0275eld"](7,0,null,0,0,"span",[["class","ant-compat anticon anticon-down"]],null,null,null,null,null)),(n()(),t["\u0275eld"](8,0,null,null,2,"span",[["style","padding-left: 10px;"]],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,M)),t["\u0275did"](10,278528,null,0,m.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,k)),t["\u0275did"](12,16384,null,0,m.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){var e=l.component;n(l,3,0,"default"),n(l,10,0,e.compareChooseShow),n(l,12,0,e.compareState)},function(n,l){n(l,1,0,t["\u0275nov"](l,3).nzWave)})}function N(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,4,"div",[["class","no-data-link shadow-content"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t["\u0275ted"](2,null,["",""])),(n()(),t["\u0275eld"](3,0,null,null,1,"span",[["style","cursor: pointer; color: #2D8CF0;"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.gotoDetail()&&t),t},null,null)),(n()(),t["\u0275ted"](-1,null,["\u70b9\u51fb\u7acb\u5373\u8bbe\u7f6e"]))],null,function(n,l){n(l,2,0,l.component.errorTip)})}function P(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","item-label"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["\u8fbe\u6210 / \u8ba1\u5212"]))],null,null)}function T(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","item-label"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["\u8d21\u732e / \u5b9e\u9645"]))],null,null)}function F(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,6,"div",[["class","item-indi"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,1,"span",[["class","item-achieve"]],null,null,null,null,null)),(n()(),t["\u0275ted"](2,null,["",""])),(n()(),t["\u0275eld"](3,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,[" / "])),(n()(),t["\u0275eld"](5,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t["\u0275ted"](6,null,["",""]))],null,function(n,l){var e=l.component;n(l,2,0,e.toThousandStr(l.parent.context.$implicit.totalActualValue)),n(l,6,0,e.toThousandStr(l.parent.context.$implicit.targetValue))})}function V(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,6,"div",[["class","item-indi"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,1,"span",[["class","item-achieve"]],null,null,null,null,null)),(n()(),t["\u0275ted"](2,null,["",""])),(n()(),t["\u0275eld"](3,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,[" / "])),(n()(),t["\u0275eld"](5,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t["\u0275ted"](6,null,["",""]))],null,function(n,l){var e=l.component;n(l,2,0,e.toThousandStr(l.parent.context.$implicit.segmentsActualValue)),n(l,6,0,e.toThousandStr(l.parent.context.$implicit.totalActualValue))})}function L(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"td",[["class","progress-used"]],null,null,null,h.Xa,h.E)),t["\u0275did"](1,278528,null,0,m.NgStyle,[t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](2,{width:0}),t["\u0275did"](3,49152,null,0,a.cc,[t.ElementRef,t.Renderer2],null,null)],function(n,l){n(l,1,0,n(l,2,0,l.parent.context.$implicit.percent+"%"))},null)}function A(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"td",[["class","progress-left"]],null,null,null,h.Xa,h.E)),t["\u0275did"](1,49152,null,0,a.cc,[t.ElementRef,t.Renderer2],null,null)],null,null)}function G(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"td",[["class","progress-used"]],null,null,null,h.Xa,h.E)),t["\u0275did"](1,49152,null,0,a.cc,[t.ElementRef,t.Renderer2],null,null)],null,null)}function $(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"td",[["class","progress-left"]],null,null,null,h.Xa,h.E)),t["\u0275did"](1,49152,null,0,a.cc,[t.ElementRef,t.Renderer2],null,null)],null,null)}function U(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,36,"div",[["class","panel-item shadow-content"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.clickPanel(n.context.$implicit,n.context.index)&&t),t},null,null)),t["\u0275did"](1,278528,null,0,m.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](2,{selected:0}),(n()(),t["\u0275eld"](3,0,null,null,1,"div",[["class","item-name"]],null,null,null,null,null)),(n()(),t["\u0275ted"](4,null,["",""])),(n()(),t["\u0275and"](16777216,null,null,1,null,P)),t["\u0275did"](6,16384,null,0,m.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,T)),t["\u0275did"](8,16384,null,0,m.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,F)),t["\u0275did"](10,16384,null,0,m.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,V)),t["\u0275did"](12,16384,null,0,m.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](13,0,null,null,23,"div",[["class","item-percent"]],null,null,null,null,null)),(n()(),t["\u0275eld"](14,0,null,null,22,"table",[["style","width: 100%;"]],null,null,null,null,null)),(n()(),t["\u0275eld"](15,0,null,null,21,"tbody",[],[[2,"ant-table-tbody",null]],null,null,null,null)),t["\u0275did"](16,16384,null,0,a.fc,[[8,null]],null,null),(n()(),t["\u0275eld"](17,0,null,null,19,"tr",[],[[2,"ant-table-row",null]],null,null,null,null)),t["\u0275did"](18,16384,null,0,a.gc,[t.ElementRef,t.Renderer2,[8,null]],null,null),(n()(),t["\u0275eld"](19,0,null,null,14,"td",[["style","width: 80%;"]],null,null,null,h.Xa,h.E)),t["\u0275did"](20,49152,null,0,a.cc,[t.ElementRef,t.Renderer2],null,null),(n()(),t["\u0275eld"](21,0,null,0,12,"table",[["style","height: 8px; width: 100%;"]],null,null,null,null,null)),(n()(),t["\u0275eld"](22,0,null,null,11,"tbody",[],[[2,"ant-table-tbody",null]],null,null,null,null)),t["\u0275did"](23,16384,null,0,a.fc,[[8,null]],null,null),(n()(),t["\u0275eld"](24,0,null,null,9,"tr",[],[[2,"ant-table-row",null]],null,null,null,null)),t["\u0275did"](25,16384,null,0,a.gc,[t.ElementRef,t.Renderer2,[8,null]],null,null),(n()(),t["\u0275and"](16777216,null,null,1,null,L)),t["\u0275did"](27,16384,null,0,m.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,A)),t["\u0275did"](29,16384,null,0,m.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,G)),t["\u0275did"](31,16384,null,0,m.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,$)),t["\u0275did"](33,16384,null,0,m.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](34,0,null,null,2,"td",[["style","width: 20%; font-size: 12px; text-align: center;"]],null,null,null,h.Xa,h.E)),t["\u0275did"](35,49152,null,0,a.cc,[t.ElementRef,t.Renderer2],null,null),(n()(),t["\u0275ted"](36,0,["","%"]))],function(n,l){var e=l.component;n(l,1,0,"panel-item shadow-content",n(l,2,0,l.context.$implicit.isSelected)),n(l,6,0,!e.compareShowState),n(l,8,0,e.compareShowState),n(l,10,0,!e.compareShowState),n(l,12,0,e.compareShowState),n(l,27,0,l.context.$implicit.percent>0&&l.context.$implicit.percent<100),n(l,29,0,l.context.$implicit.percent>0&&l.context.$implicit.percent<100),n(l,31,0,l.context.$implicit.percent>=100),n(l,33,0,0==l.context.$implicit.percent)},function(n,l){n(l,4,0,l.context.$implicit.targetName),n(l,15,0,t["\u0275nov"](l,16).nzTableComponent),n(l,17,0,t["\u0275nov"](l,18).nzTableComponent),n(l,22,0,t["\u0275nov"](l,23).nzTableComponent),n(l,24,0,t["\u0275nov"](l,25).nzTableComponent),n(l,36,0,l.context.$implicit.percent)})}function j(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"div",[["class","panel-content"],["style","height: 152px;"]],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,U)),t["\u0275did"](2,278528,null,0,m.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),t["\u0275eld"](3,0,null,null,0,"div",[["style","display: table;"]],null,null,null,null,null))],function(n,l){n(l,2,0,l.component.indiList)},null)}function W(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,4,"div",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,[" \u5bfc\u51fa\u4efb\u52a1\u521b\u5efa\u6210\u529f\uff0c\u8bf7\u7a0d\u540e\u5230 "])),(n()(),t["\u0275eld"](2,0,null,null,1,"a",[["style","margin:0 10px;"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.goPage("/download-data")&&t),t},null,null)),(n()(),t["\u0275ted"](-1,null,["\u6570\u636e\u4e0b\u8f7d"])),(n()(),t["\u0275ted"](-1,null,["\u9875\u9762\u4e0b\u8f7d\u60a8\u9700\u8981\u7684\u9644\u4ef6\u3002 "]))],null,null)}function X(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,12,"div",[["class","item-main shadow-content"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,8,"div",[["class","panel-title"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,[" \u8d8b\u52bf\u5206\u6790 "])),(n()(),t["\u0275eld"](3,0,null,null,6,"nz-popover",[["style","float: right;color: rgba(23,35,61,0.55); margin-right: 20px; cursor: pointer;"]],null,null,null,h.jb,h.Q)),t["\u0275did"](4,49152,null,2,a.Bd,[t.ChangeDetectorRef],{nzTitle:[0,"nzTitle"],nzTrigger:[1,"nzTrigger"],nzPlacement:[2,"nzPlacement"]},null),t["\u0275qud"](335544320,8,{_title:0}),t["\u0275qud"](335544320,9,{_content:0}),(n()(),t["\u0275eld"](7,16777216,null,0,1,"span",[["class","icon iconfont icon-download item"],["nz-popover",""]],[[2,"ant-tooltip-open",null]],[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.downloadTrend()&&t),t},null,null)),t["\u0275did"](8,4407296,null,0,a.Cd,[t.ElementRef,t.ViewContainerRef,t.ComponentFactoryResolver,t.Renderer2,[2,a.Bd]],null,null),(n()(),t["\u0275and"](0,[[9,2],["nzTemplate",2]],0,0,null,W)),(n()(),t["\u0275eld"](10,0,null,null,2,"div",[["class","chart-content"]],null,null,null,null,null)),(n()(),t["\u0275eld"](11,0,null,null,1,"app-chart",[],null,null,null,v.b,v.a)),t["\u0275did"](12,245760,[[4,4]],0,C.a,[],{option:[0,"option"]},null)],function(n,l){var e=l.component;n(l,4,0,"\u4e0b\u8f7d\u6d88\u606f","click","bottomRight"),n(l,8,0),n(l,12,0,e.chartOption)},function(n,l){n(l,7,0,t["\u0275nov"](l,8).isOpen)})}function q(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,4,"div",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,[" \u5bfc\u51fa\u4efb\u52a1\u521b\u5efa\u6210\u529f\uff0c\u8bf7\u7a0d\u540e\u5230 "])),(n()(),t["\u0275eld"](2,0,null,null,1,"a",[["style","margin:0 10px;"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.goPage("/download-data")&&t),t},null,null)),(n()(),t["\u0275ted"](-1,null,["\u6570\u636e\u4e0b\u8f7d"])),(n()(),t["\u0275ted"](-1,null,["\u9875\u9762\u4e0b\u8f7d\u60a8\u9700\u8981\u7684\u9644\u4ef6\u3002 "]))],null,null)}function B(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"td",[["class","label-border"]],null,null,null,h.Xa,h.E)),t["\u0275did"](1,49152,null,0,a.cc,[t.ElementRef,t.Renderer2],null,null),(n()(),t["\u0275ted"](2,0,[" "," "]))],null,function(n,l){n(l,2,0,l.context.$implicit.targetName)})}function K(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,12,"tr",[["class","table-header"]],[[2,"ant-table-row",null]],null,null,null,null)),t["\u0275did"](1,16384,null,0,a.gc,[t.ElementRef,t.Renderer2,[8,null]],null,null),(n()(),t["\u0275eld"](2,0,null,null,2,"td",[["class","label-border"]],null,null,null,h.Xa,h.E)),t["\u0275did"](3,49152,null,0,a.cc,[t.ElementRef,t.Renderer2],null,null),(n()(),t["\u0275ted"](-1,0,["\u6295\u653e\u7ec4"])),(n()(),t["\u0275eld"](5,0,null,null,2,"td",[["class","label-border"]],null,null,null,h.Xa,h.E)),t["\u0275did"](6,49152,null,0,a.cc,[t.ElementRef,t.Renderer2],null,null),(n()(),t["\u0275ted"](-1,0,["\u6295\u653e\u540d\u79f0"])),(n()(),t["\u0275and"](16777216,null,null,1,null,B)),t["\u0275did"](9,278528,null,0,m.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),t["\u0275eld"](10,0,null,null,2,"td",[["class","label-border"]],null,null,null,h.Xa,h.E)),t["\u0275did"](11,49152,null,0,a.cc,[t.ElementRef,t.Renderer2],null,null),(n()(),t["\u0275ted"](-1,0,["\u64cd\u4f5c"]))],function(n,l){n(l,9,0,l.component.detailList[0].groupOverview)},function(n,l){n(l,0,0,t["\u0275nov"](l,1).nzTableComponent)})}function H(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"td",[["rowspan","99"],["style","border-right: #cccccc 1px solid;"]],null,null,null,h.Xa,h.E)),t["\u0275did"](1,49152,null,0,a.cc,[t.ElementRef,t.Renderer2],null,null),(n()(),t["\u0275ted"](2,0,[" "," "]))],null,function(n,l){n(l,2,0,l.parent.parent.context.$implicit.groupName)})}function Y(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,10,"table",[["style","width: 80%; font-size: 12px;"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,9,"tbody",[],[[2,"ant-table-tbody",null]],null,null,null,null)),t["\u0275did"](2,16384,null,0,a.fc,[[8,null]],null,null),(n()(),t["\u0275eld"](3,0,null,null,7,"tr",[],[[2,"ant-table-row",null]],null,null,null,null)),t["\u0275did"](4,16384,null,0,a.gc,[t.ElementRef,t.Renderer2,[8,null]],null,null),(n()(),t["\u0275eld"](5,0,null,null,2,"td",[["style","text-align: left; padding: 0;"]],null,null,null,h.Xa,h.E)),t["\u0275did"](6,49152,null,0,a.cc,[t.ElementRef,t.Renderer2],null,null),(n()(),t["\u0275ted"](7,0,[" "," "])),(n()(),t["\u0275eld"](8,0,null,null,2,"td",[["style","text-align: right; padding: 0;"]],null,null,null,h.Xa,h.E)),t["\u0275did"](9,49152,null,0,a.cc,[t.ElementRef,t.Renderer2],null,null),(n()(),t["\u0275ted"](10,0,["","%"]))],null,function(n,l){var e=l.component;n(l,1,0,t["\u0275nov"](l,2).nzTableComponent),n(l,3,0,t["\u0275nov"](l,4).nzTableComponent),n(l,7,0,e.toThousandStr(l.parent.context.$implicit.actualValue)),n(l,10,0,l.parent.context.$implicit.actualValueRate)})}function Z(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,5,"td",[["class","progress-used"]],null,null,null,h.Xa,h.E)),t["\u0275did"](1,278528,null,0,m.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](2,{"progress-full":0}),t["\u0275did"](3,278528,null,0,m.NgStyle,[t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](4,{width:0}),t["\u0275did"](5,49152,null,0,a.cc,[t.ElementRef,t.Renderer2],null,null)],function(n,l){n(l,1,0,"progress-used",n(l,2,0,1==l.parent.parent.context.$implicit.actualValueRate)),n(l,3,0,n(l,4,0,l.parent.parent.context.$implicit.actualValueRate+"%"))},null)}function J(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"td",[["class","progress-left"]],null,null,null,h.Xa,h.E)),t["\u0275did"](1,49152,null,0,a.cc,[t.ElementRef,t.Renderer2],null,null)],null,null)}function Q(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"td",[["class","progress-used"]],null,null,null,h.Xa,h.E)),t["\u0275did"](1,49152,null,0,a.cc,[t.ElementRef,t.Renderer2],null,null)],null,null)}function nn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"td",[["class","progress-left"]],null,null,null,h.Xa,h.E)),t["\u0275did"](1,49152,null,0,a.cc,[t.ElementRef,t.Renderer2],null,null)],null,null)}function ln(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,12,"table",[["style","height: 4px; width: 80%;"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,11,"tbody",[],[[2,"ant-table-tbody",null]],null,null,null,null)),t["\u0275did"](2,16384,null,0,a.fc,[[8,null]],null,null),(n()(),t["\u0275eld"](3,0,null,null,9,"tr",[],[[2,"ant-table-row",null]],null,null,null,null)),t["\u0275did"](4,16384,null,0,a.gc,[t.ElementRef,t.Renderer2,[8,null]],null,null),(n()(),t["\u0275and"](16777216,null,null,1,null,Z)),t["\u0275did"](6,16384,null,0,m.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,J)),t["\u0275did"](8,16384,null,0,m.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,Q)),t["\u0275did"](10,16384,null,0,m.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,nn)),t["\u0275did"](12,16384,null,0,m.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){n(l,6,0,l.parent.context.$implicit.actualValueRate>0&&l.parent.context.$implicit.actualValueRate<100),n(l,8,0,l.parent.context.$implicit.actualValueRate>0&&l.parent.context.$implicit.actualValueRate<100),n(l,10,0,l.parent.context.$implicit.actualValueRate>=100),n(l,12,0,0==l.parent.context.$implicit.actualValueRate)},function(n,l){n(l,1,0,t["\u0275nov"](l,2).nzTableComponent),n(l,3,0,t["\u0275nov"](l,4).nzTableComponent)})}function en(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,5,"td",[],null,null,null,h.Xa,h.E)),t["\u0275did"](1,49152,null,0,a.cc,[t.ElementRef,t.Renderer2],null,null),(n()(),t["\u0275and"](16777216,null,0,1,null,Y)),t["\u0275did"](3,16384,null,0,m.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,0,1,null,ln)),t["\u0275did"](5,16384,null,0,m.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){n(l,3,0,l.context.$implicit.targetId),n(l,5,0,l.context.$implicit.targetId)},null)}function tn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,12,"tr",[["class","table-tr"]],[[2,"ant-table-row",null]],null,null,null,null)),t["\u0275did"](1,16384,null,0,a.gc,[t.ElementRef,t.Renderer2,[8,null]],null,null),(n()(),t["\u0275and"](16777216,null,null,1,null,H)),t["\u0275did"](3,16384,null,0,m.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](4,0,null,null,2,"td",[],null,null,null,h.Xa,h.E)),t["\u0275did"](5,49152,null,0,a.cc,[t.ElementRef,t.Renderer2],null,null),(n()(),t["\u0275ted"](6,0,["",""])),(n()(),t["\u0275and"](16777216,null,null,1,null,en)),t["\u0275did"](8,278528,null,0,m.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),t["\u0275eld"](9,0,null,null,3,"td",[],null,null,null,h.Xa,h.E)),t["\u0275did"](10,49152,null,0,a.cc,[t.ElementRef,t.Renderer2],null,null),(n()(),t["\u0275eld"](11,0,null,0,1,"span",[["style","color: #2D8CF0; cursor: pointer;"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.clickReport(n.context.$implicit)&&t),t},null,null)),(n()(),t["\u0275ted"](-1,null,["\u62a5\u544a"]))],function(n,l){n(l,3,0,0==l.context.index),n(l,8,0,l.context.$implicit.items)},function(n,l){n(l,0,0,t["\u0275nov"](l,1).nzTableComponent),n(l,6,0,l.context.$implicit.segmentName||"\u672a\u547d\u540d")})}function un(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,5,"td",[["class","progress-used"]],null,null,null,h.Xa,h.E)),t["\u0275did"](1,278528,null,0,m.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](2,{"progress-full":0}),t["\u0275did"](3,278528,null,0,m.NgStyle,[t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](4,{width:0}),t["\u0275did"](5,49152,null,0,a.cc,[t.ElementRef,t.Renderer2],null,null)],function(n,l){n(l,1,0,"progress-used",n(l,2,0,1==l.parent.context.$implicit.actualValueRate)),n(l,3,0,n(l,4,0,l.parent.context.$implicit.actualValueRate+"%"))},null)}function on(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"td",[["class","progress-left"]],null,null,null,h.Xa,h.E)),t["\u0275did"](1,49152,null,0,a.cc,[t.ElementRef,t.Renderer2],null,null)],null,null)}function an(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"td",[["class","progress-used"]],null,null,null,h.Xa,h.E)),t["\u0275did"](1,49152,null,0,a.cc,[t.ElementRef,t.Renderer2],null,null)],null,null)}function rn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"td",[["class","progress-left"]],null,null,null,h.Xa,h.E)),t["\u0275did"](1,49152,null,0,a.cc,[t.ElementRef,t.Renderer2],null,null)],null,null)}function dn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,25,"td",[],null,null,null,h.Xa,h.E)),t["\u0275did"](1,49152,null,0,a.cc,[t.ElementRef,t.Renderer2],null,null),(n()(),t["\u0275eld"](2,0,null,0,10,"table",[["style","width: 80%; font-size: 12px;"]],null,null,null,null,null)),(n()(),t["\u0275eld"](3,0,null,null,9,"tbody",[],[[2,"ant-table-tbody",null]],null,null,null,null)),t["\u0275did"](4,16384,null,0,a.fc,[[8,null]],null,null),(n()(),t["\u0275eld"](5,0,null,null,7,"tr",[],[[2,"ant-table-row",null]],null,null,null,null)),t["\u0275did"](6,16384,null,0,a.gc,[t.ElementRef,t.Renderer2,[8,null]],null,null),(n()(),t["\u0275eld"](7,0,null,null,2,"td",[["style","text-align: left; padding: 0;"]],null,null,null,h.Xa,h.E)),t["\u0275did"](8,49152,null,0,a.cc,[t.ElementRef,t.Renderer2],null,null),(n()(),t["\u0275ted"](9,0,[" "," "])),(n()(),t["\u0275eld"](10,0,null,null,2,"td",[["style","text-align: right; padding: 0;"]],null,null,null,h.Xa,h.E)),t["\u0275did"](11,49152,null,0,a.cc,[t.ElementRef,t.Renderer2],null,null),(n()(),t["\u0275ted"](12,0,["","%"])),(n()(),t["\u0275eld"](13,0,null,0,12,"table",[["style","height: 4px; width: 80%;"]],null,null,null,null,null)),(n()(),t["\u0275eld"](14,0,null,null,11,"tbody",[],[[2,"ant-table-tbody",null]],null,null,null,null)),t["\u0275did"](15,16384,null,0,a.fc,[[8,null]],null,null),(n()(),t["\u0275eld"](16,0,null,null,9,"tr",[],[[2,"ant-table-row",null]],null,null,null,null)),t["\u0275did"](17,16384,null,0,a.gc,[t.ElementRef,t.Renderer2,[8,null]],null,null),(n()(),t["\u0275and"](16777216,null,null,1,null,un)),t["\u0275did"](19,16384,null,0,m.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,on)),t["\u0275did"](21,16384,null,0,m.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,an)),t["\u0275did"](23,16384,null,0,m.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,rn)),t["\u0275did"](25,16384,null,0,m.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){n(l,19,0,l.context.$implicit.actualValueRate>0&&l.context.$implicit.actualValueRate<100),n(l,21,0,l.context.$implicit.actualValueRate>0&&l.context.$implicit.actualValueRate<100),n(l,23,0,l.context.$implicit.actualValueRate>=100),n(l,25,0,0==l.context.$implicit.actualValueRate)},function(n,l){var e=l.component;n(l,3,0,t["\u0275nov"](l,4).nzTableComponent),n(l,5,0,t["\u0275nov"](l,6).nzTableComponent),n(l,9,0,e.toThousandStr(l.context.$implicit.actualValue)),n(l,12,0,l.context.$implicit.actualValueRate),n(l,14,0,t["\u0275nov"](l,15).nzTableComponent),n(l,16,0,t["\u0275nov"](l,17).nzTableComponent)})}function sn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,8,"tr",[["class","table-tr"],["style","background: rgba(23,35,61,0.03);"]],[[2,"ant-table-row",null]],null,null,null,null)),t["\u0275did"](1,16384,null,0,a.gc,[t.ElementRef,t.Renderer2,[8,null]],null,null),(n()(),t["\u0275eld"](2,0,null,null,2,"td",[],null,null,null,h.Xa,h.E)),t["\u0275did"](3,49152,null,0,a.cc,[t.ElementRef,t.Renderer2],null,null),(n()(),t["\u0275ted"](-1,0,["\u603b\u8ba1\uff1a"])),(n()(),t["\u0275and"](16777216,null,null,1,null,dn)),t["\u0275did"](6,278528,null,0,m.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),t["\u0275eld"](7,0,null,null,1,"td",[],null,null,null,h.Xa,h.E)),t["\u0275did"](8,49152,null,0,a.cc,[t.ElementRef,t.Renderer2],null,null)],function(n,l){n(l,6,0,l.parent.context.$implicit.groupOverview)},function(n,l){n(l,0,0,t["\u0275nov"](l,1).nzTableComponent)})}function cn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,5,"tbody",[],[[2,"ant-table-tbody",null]],null,null,null,null)),t["\u0275did"](1,16384,null,0,a.fc,[[8,null]],null,null),(n()(),t["\u0275and"](16777216,null,null,1,null,tn)),t["\u0275did"](3,278528,null,0,m.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,sn)),t["\u0275did"](5,16384,null,0,m.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){n(l,3,0,l.context.$implicit.segments),n(l,5,0,l.context.$implicit.segments.length>0)},function(n,l){n(l,0,0,t["\u0275nov"](l,1).nzTableComponent)})}function pn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"div",[["style","text-align: center; font-size:12px; padding: 16px;"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,[" \u6682\u65e0\u6570\u636e "]))],null,null)}function gn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,18,"div",[["class","item-main shadow-content"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,8,"div",[["class","panel-title"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,[" \u8d21\u732e\u8be6\u60c5\uff08\u8d21\u732e\u503c/\u8d21\u732e\u7387\uff09 "])),(n()(),t["\u0275eld"](3,0,null,null,6,"nz-popover",[["style","float: right;color: rgba(23,35,61,0.55); margin-right: 20px; cursor: pointer;"]],null,null,null,h.jb,h.Q)),t["\u0275did"](4,49152,null,2,a.Bd,[t.ChangeDetectorRef],{nzTitle:[0,"nzTitle"],nzTrigger:[1,"nzTrigger"],nzPlacement:[2,"nzPlacement"]},null),t["\u0275qud"](335544320,10,{_title:0}),t["\u0275qud"](335544320,11,{_content:0}),(n()(),t["\u0275eld"](7,16777216,null,0,1,"span",[["class","icon iconfont icon-download item"],["nz-popover",""]],[[2,"ant-tooltip-open",null]],[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.downloadDetail()&&t),t},null,null)),t["\u0275did"](8,4407296,null,0,a.Cd,[t.ElementRef,t.ViewContainerRef,t.ComponentFactoryResolver,t.Renderer2,[2,a.Bd]],null,null),(n()(),t["\u0275and"](0,[[11,2],["nzTemplate",2]],0,0,null,q)),(n()(),t["\u0275eld"](10,0,null,null,6,"table",[["class","target-table"],["style","width: 100%;"]],null,null,null,null,null)),(n()(),t["\u0275eld"](11,0,null,null,3,"tbody",[],[[2,"ant-table-tbody",null]],null,null,null,null)),t["\u0275did"](12,16384,null,0,a.fc,[[8,null]],null,null),(n()(),t["\u0275and"](16777216,null,null,1,null,K)),t["\u0275did"](14,16384,null,0,m.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,cn)),t["\u0275did"](16,278528,null,0,m.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,pn)),t["\u0275did"](18,16384,null,0,m.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){var e=l.component;n(l,4,0,"\u4e0b\u8f7d\u6d88\u606f","click","bottomRight"),n(l,8,0),n(l,14,0,e.detailList.length>0),n(l,16,0,e.detailList),n(l,18,0,e.detailList.length>0&&0==e.detailList[0].segments.length)},function(n,l){n(l,7,0,t["\u0275nov"](l,8).isOpen),n(l,11,0,t["\u0275nov"](l,12).nzTableComponent)})}function fn(n){return t["\u0275vid"](0,[t["\u0275qud"](402653184,1,{report_email:0}),t["\u0275qud"](402653184,2,{report_push:0}),t["\u0275qud"](402653184,3,{report_sms:0}),t["\u0275qud"](671088640,4,{chartComponent:0}),(n()(),t["\u0275and"](0,[[1,2],["report_email",2]],null,0,null,I)),(n()(),t["\u0275and"](0,[[2,2],["report_push",2]],null,0,null,z)),(n()(),t["\u0275and"](0,[[3,2],["report_sms",2]],null,0,null,S)),(n()(),t["\u0275and"](16777216,null,null,1,null,D)),t["\u0275did"](8,16384,null,0,m.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](9,0,null,null,8,"div",[["class","main-contant"]],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,N)),t["\u0275did"](11,16384,null,0,m.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,j)),t["\u0275did"](13,16384,null,0,m.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,X)),t["\u0275did"](15,16384,null,0,m.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,gn)),t["\u0275did"](17,16384,null,0,m.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){var e=l.component;n(l,8,0,e.haveData),n(l,11,0,!e.haveData),n(l,13,0,e.haveData),n(l,15,0,e.haveData),n(l,17,0,e.haveData)},null)}var mn=t["\u0275ccf"]("app-target-achievement",O,function(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"app-target-achievement",[],null,null,null,fn,R)),t["\u0275prd"](512,null,w,w,[t.Injector]),t["\u0275did"](2,638976,null,0,O,[w,t.Injector],null,null)],function(n,l){n(l,2,0)},null)},{campaignName:"campaignName"},{},[]),hn=e("gIcY"),vn=e("9Z1F"),Cn=function(n){function l(l){return n.call(this,l)||this}return Object(b.__extends)(l,n),l.prototype.getFunnelEvent=function(){var n="/marketing-api/config/eventConfigs/all?funnelFlag=1&productId="+this.getProductId();return this.funnelId||(n+="&status=0"),this.http.get(n).pipe(Object(vn.a)(this.handleError))},l.prototype.getFunnelEventEcho=function(n){return this.http.get("/marketing-api/config/eventConfigs/all/echo?funnelFlag=1&status=0&eventCode="+n).pipe(Object(vn.a)(this.handleError))},l.prototype.saveFunnel=function(n){return this.http.post("/marketing-api/funnel/campaignFunnels/save",n).pipe(Object(vn.a)(this.handleError))},l.prototype.updateFunnel=function(n){return this.http.put("/marketing-api/funnel/campaignFunnels/update",n).pipe(Object(vn.a)(this.handleError))},l.prototype.setDefaultFunnel=function(n){return this.http.put("/marketing-api/funnel/campaignFunnels/setDefault/"+n,{}).pipe(Object(vn.a)(this.handleError))},l.prototype.getFunnelDetail=function(n){return this.http.get("/marketing-api/funnel/campaignFunnels/"+n).pipe(Object(vn.a)(this.handleError))},l.prototype.deleteFunnel=function(n){return this.http.delete("/marketing-api/funnel/campaignFunnels/"+n).pipe(Object(vn.a)(this.handleError))},l.prototype.getFunnelList=function(n){return this.http.get("/marketing-api/funnel/campaignFunnels/all?campaignId="+n).pipe(Object(vn.a)(this.handleError))},l.prototype.getGenerateCrowd=function(n){return this.http.get("/marketing-api/crowd/crowds/generate?campaignId="+n).pipe(Object(vn.a)(this.handleError))},l.prototype.getFunnelConvertOverview=function(n){var l=this.getParams(n);return this.http.get("/marketing-api/funnel/campaignFunnels/funnelConvertOverview"+l).pipe(Object(vn.a)(this.handleError))},l.prototype.getTrendChart=function(n){var l=this.getParams(n);return this.http.get("/marketing-api/funnel/campaignFunnels/funnel/trend"+l).pipe(Object(vn.a)(this.handleError))},l.prototype.getLastEventChart=function(n,l){var e=this.getParams(l);return this.http.get("/marketing-api/funnel/campaignFunnels/funnel/event/"+n+"/trend"+e).pipe(Object(vn.a)(this.handleError))},l}(x.a),bn=function(n){function l(l,e){var t=n.call(this,e)||this;return t.funnelAnalysisService=l,t.injector=e,t.funnelStepList=[],t.eventList=[],t.eventMap={},t.funnelEventCodeList=[],t.processFunnelEvent(),t.vm={nameError:!1,nameErrorInfo:"",stepError:!1,stepErrorInfo:""},t}return Object(b.__extends)(l,n),l.prototype.ngOnInit=function(){},l.prototype.processFunnelEvent=function(){return n=this,void 0,e=function(){return function(n,l){var e,t,u,o,a={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(e)throw new TypeError("Generator is already executing.");for(;a;)try{if(e=1,t&&(u=2&o[0]?t.return:o[0]?t.throw||((u=t.return)&&u.call(t),0):t.next)&&!(u=u.call(t,o[1])).done)return u;switch(t=0,u&&(o=[2&o[0],u.value]),o[0]){case 0:case 1:u=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,t=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(u=(u=a.trys).length>0&&u[u.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!u||o[1]>u[0]&&o[1]<u[3])){a.label=o[1];break}if(6===o[0]&&a.label<u[1]){a.label=u[1],u=o;break}if(u&&a.label<u[2]){a.label=u[2],a.ops.push(o);break}u[2]&&a.ops.pop(),a.trys.pop();continue}o=l.call(n,a)}catch(n){o=[6,n],t=0}finally{e=u=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}}(this,function(n){switch(n.label){case 0:return this.funnelAnalysisService.funnelId?[4,this.getFunnelDetail()]:[3,2];case 1:n.sent(),n.label=2;case 2:return[4,this.getFunnelEventList()];case 3:return n.sent(),[2]}})},new((l=void 0)||(l=Promise))(function(t,u){function o(n){try{i(e.next(n))}catch(n){u(n)}}function a(n){try{i(e.throw(n))}catch(n){u(n)}}function i(n){n.done?t(n.value):new l(function(l){l(n.value)}).then(o,a)}i((e=e.apply(n,[])).next())});var n,l,e},l.prototype.getFunnelEventList=function(){var n=this;return new Promise(function(l,e){n.funnelAnalysisService.getFunnelEventEcho(n.funnelEventCodeList).subscribe(function(t){200!==t.code&&(n.notification.create("warning","\u9519\u8bef\u63d0\u793a",t.message),e()),n.eventList=t.data.data;for(var u=0;u<n.eventList.length;u++)n.eventMap[n.eventList[u].code]=n.eventList[u].name;if(!n.funnelAnalysisService.funnelId)for(var o=0;o<2;o++)n.addStep();l()})})},l.prototype.getFunnelDetail=function(){var n=this,l=this;return new Promise(function(e,t){l.funnelAnalysisService.getFunnelDetail(n.funnelAnalysisService.funnelId).subscribe(function(u){200!==u.code&&(n.notification.create("warning","\u9519\u8bef\u63d0\u793a",u.message),t()),l.funnelDetail=u.data,l.funnelName=l.funnelDetail.funnelName,l.funnelStepList=l.funnelDetail.funnelStepList;for(var o=0;o<l.funnelStepList.length;o++)for(var a=l.funnelStepList[o].funnelStepConditionList,i=0;i<a.length;i++)n.funnelEventCodeList.push(a[i].key);e()})})},l.prototype.changeEvent=function(n,l,e){this.funnelStepList[l].funnelStepConditionList[e].value=this.eventMap[n]},l.prototype.checkRepStep=function(){for(var n=this.funnelStepList.length,l=[],e=0;e<n;e++)l.push(this.funnelStepList[e].name);return this.isRepeat(l)?(this.vm.stepError=!0,this.vm.stepErrorInfo="\u6b65\u9aa4\u540d\u79f0\u91cd\u590d\uff0c\u8bf7\u91cd\u65b0\u586b\u5199",!0):(this.vm.stepError=!1,!1)},l.prototype.checkFunnelEvent=function(){for(var n=this.funnelStepList,l=[],e=0;e<n.length;e++){if(!n[e].funnelStepConditionList[0].key)return this.vm.stepError=!0,this.vm.stepErrorInfo="\u8bf7\u9009\u62e9\u6f0f\u6597\u4e8b\u4ef6",!0;if(-1!=l.indexOf(n[e].funnelStepConditionList[0].key))return this.vm.stepError=!0,this.vm.stepErrorInfo="\u6f0f\u6597\u4e8b\u4ef6\u91cd\u590d\uff0c\u4e0d\u540c\u6b65\u9aa4\u8bf7\u9009\u62e9\u4e0d\u540c\u6f0f\u6597\u4e8b\u4ef6",!0;l.push(n[e].funnelStepConditionList[0].key)}return this.vm.stepError=!1,!1},l.prototype.isRepeat=function(n){var l={};for(var e in n){if(l[n[e]])return!0;l[n[e]]=!0}return!1},l.prototype.checkStepsLen=function(){for(var n=this.funnelStepList.length,l=0;l<n;l++){if(!this.funnelStepList[l].name)return this.vm.stepError=!0,this.vm.stepErrorInfo="\u8bf7\u8f93\u5165\u6f0f\u6597\u6b65\u9aa4\u540d\u79f0",!0;if(this.funnelStepList[l].name.length>26)return this.vm.stepError=!0,this.vm.stepErrorInfo="\u6f0f\u6597\u6b65\u9aa4\u540d\u79f0\u957f\u5ea6\u4e0d\u80fd\u8d85\u8fc726",!0;this.vm.stepError=!1}return!!this.vm.stepError},l.prototype.checkFunnelName=function(n){return this.funnelName?(this.vm.nameError=!1,this.funnelName=n.trim(),0==n.trim().length?(this.vm.nameError=!0,this.vm.nameErrorInfo="\u6f0f\u6597\u540d\u79f0\u4e0d\u80fd\u90fd\u662f\u7a7a\u683c",!0):(this.vm.nameError=!1,n.length>16?(this.vm.nameError=!0,this.vm.nameErrorInfo="\u6f0f\u6597\u540d\u79f0\u4e0d\u8d85\u8fc716\u4e2a\u5b57\u7b26",!0):void(this.vm.nameError=!1))):(this.vm.nameError=!0,this.vm.nameErrorInfo="\u8bf7\u8f93\u5165\u6f0f\u6597\u540d\u79f0",!0)},l.prototype.addStep=function(){var n=this;this.funnelStepList.push({funnelStepConditionList:[{key:null,operator:1,value:""}],name:"",order:0,type:1}),setTimeout(function(){n.scroll&&n.scroll.nativeElement.offsetHeight&&180==n.scroll.nativeElement.offsetHeight&&(n.scroll.nativeElement.scrollTop=n.scroll.nativeElement.scrollHeight-n.scroll.nativeElement.offsetHeight)},0)},l.prototype.deleteStep=function(n){this.funnelStepList.splice(n,1)},l.prototype.checkParam=function(){return!!(this.checkFunnelName(this.funnelName)||this.checkFunnelEvent()||this.checkStepsLen()||this.checkRepStep())},l}(y.a),xn=t["\u0275crt"]({encapsulation:0,styles:[[".header[_ngcontent-%COMP%]{font-size:12px;color:#17233d;padding-bottom:16px;border-bottom:1px solid rgba(23,35,61,.1)}.error[_ngcontent-%COMP%]{display:block;margin-left:69px;margin-top:6px;font-size:12px;line-height:12px;color:red}.content[_ngcontent-%COMP%]{margin-top:20px;font-size:12px;color:rgba(23,35,61,.75)}.content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#17233d;padding-left:16px}.content[_ngcontent-%COMP%]   .step-list[_ngcontent-%COMP%]{margin-top:12px;max-height:180px;overflow-y:auto}.content[_ngcontent-%COMP%]   .step-list[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]{background:rgba(23,35,61,.03);padding:8px 16px;margin:12px 0}.content[_ngcontent-%COMP%]   .step-list[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]:first-child{margin-top:0}.content[_ngcontent-%COMP%]   .step-list[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   .delete-step[_ngcontent-%COMP%]{color:rgba(23,35,61,.55);font-size:15px;cursor:pointer;float:right;margin-top:8px}.content[_ngcontent-%COMP%]   .add-steps[_ngcontent-%COMP%]{font-size:12px;color:#2d8cf0;cursor:pointer;display:inline-block}"]],data:{}});function wn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","error"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,["",""]))],null,function(n,l){n(l,1,0,l.component.vm.nameErrorInfo)})}function yn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"nz-option",[],null,null,null,h.X,h.e)),t["\u0275did"](1,49152,[[2,4]],0,a.x,[],{nzLabel:[0,"nzLabel"],nzValue:[1,"nzValue"],nzDisabled:[2,"nzDisabled"]},null)],function(n,l){n(l,1,0,l.context.$implicit.name,l.context.$implicit.code,0!=l.context.$implicit.status)},null)}function On(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,9,"nz-select",[["nzPlaceHolder","\u8bf7\u9009\u62e9\u4e8b\u4ef6"],["style","width: 200px;"]],[[2,"ant-select",null],[2,"ant-select-lg",null],[2,"ant-select-sm",null],[2,"ant-select-enabled",null],[2,"ant-select-disabled",null],[2,"ant-select-allow-clear",null],[2,"ant-select-open",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"click"],[null,"keydown"]],function(n,l,e){var u=!0,o=n.component;return"click"===l&&(u=!1!==t["\u0275nov"](n,1).onClick()&&u),"keydown"===l&&(u=!1!==t["\u0275nov"](n,1)._handleKeydown(e)&&u),"ngModelChange"===l&&(u=!1!==(n.context.$implicit.key=e)&&u),"ngModelChange"===l&&(u=!1!==o.changeEvent(e,n.parent.context.index,n.context.index)&&u),u},h.Y,h.f)),t["\u0275did"](1,4440064,null,2,a.y,[t.Renderer2],{nzPlaceHolder:[0,"nzPlaceHolder"]},null),t["\u0275qud"](603979776,2,{listOfNzOptionComponent:1}),t["\u0275qud"](603979776,3,{listOfNzOptionGroupComponent:1}),t["\u0275prd"](1024,null,hn.NG_VALUE_ACCESSOR,function(n){return[n]},[a.y]),t["\u0275did"](5,671744,null,0,hn.NgModel,[[8,null],[8,null],[8,null],[6,hn.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,hn.NgControl,null,[hn.NgModel]),t["\u0275did"](7,16384,null,0,hn.NgControlStatus,[[4,hn.NgControl]],null,null),(n()(),t["\u0275and"](16777216,null,0,1,null,yn)),t["\u0275did"](9,278528,null,0,m.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(n,l){var e=l.component;n(l,1,0,"\u8bf7\u9009\u62e9\u4e8b\u4ef6"),n(l,5,0,l.context.$implicit.key),n(l,9,0,e.eventList)},function(n,l){n(l,0,1,[!0,"large"===t["\u0275nov"](l,1).nzSize,"small"===t["\u0275nov"](l,1).nzSize,!t["\u0275nov"](l,1).nzDisabled,t["\u0275nov"](l,1).nzDisabled,t["\u0275nov"](l,1).nzAllowClear,t["\u0275nov"](l,1).nzOpen,t["\u0275nov"](l,7).ngClassUntouched,t["\u0275nov"](l,7).ngClassTouched,t["\u0275nov"](l,7).ngClassPristine,t["\u0275nov"](l,7).ngClassDirty,t["\u0275nov"](l,7).ngClassValid,t["\u0275nov"](l,7).ngClassInvalid,t["\u0275nov"](l,7).ngClassPending])})}function Rn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,0,"span",[["class","ant-compat anticon anticon-close-circle delete-step"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.deleteStep(n.parent.context.index)&&t),t},null,null))],null,null)}function In(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,17,"div",[["class","step"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t["\u0275ted"](2,null,["step",":"])),(n()(),t["\u0275eld"](3,0,null,null,1,"span",[["style","margin: 0 12px 0 16px;"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["\u8ffd\u8e2a\u4f9d\u636e"])),(n()(),t["\u0275and"](16777216,null,null,1,null,On)),t["\u0275did"](6,278528,null,0,m.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),t["\u0275eld"](7,0,null,null,1,"span",[["style","margin: 0 24px 0 16px;"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["\u4e8b\u4ef6\u522b\u540d"])),(n()(),t["\u0275eld"](9,0,null,null,6,"input",[["nz-input",""],["style","width: 200px;"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ant-input",null],[2,"ant-input-disabled",null],[2,"ant-input-lg",null],[2,"ant-input-sm",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,e){var u=!0;return"input"===l&&(u=!1!==t["\u0275nov"](n,10)._handleInput(e.target.value)&&u),"blur"===l&&(u=!1!==t["\u0275nov"](n,10).onTouched()&&u),"compositionstart"===l&&(u=!1!==t["\u0275nov"](n,10)._compositionStart()&&u),"compositionend"===l&&(u=!1!==t["\u0275nov"](n,10)._compositionEnd(e.target.value)&&u),"input"===l&&(u=!1!==t["\u0275nov"](n,15).textAreaOnChange()&&u),"ngModelChange"===l&&(u=!1!==(n.context.$implicit.name=e)&&u),u},null,null)),t["\u0275did"](10,16384,null,0,hn.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,hn.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,hn.NG_VALUE_ACCESSOR,function(n){return[n]},[hn.DefaultValueAccessor]),t["\u0275did"](12,671744,null,0,hn.NgModel,[[8,null],[8,null],[8,null],[6,hn.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,hn.NgControl,null,[hn.NgModel]),t["\u0275did"](14,16384,null,0,hn.NgControlStatus,[[4,hn.NgControl]],null,null),t["\u0275did"](15,4472832,null,0,a.Wa,[t.ElementRef,t.Renderer2,[2,hn.NgModel],[6,hn.NgControl]],null,null),(n()(),t["\u0275and"](16777216,null,null,1,null,Rn)),t["\u0275did"](17,16384,null,0,m.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){var e=l.component;n(l,6,0,l.context.$implicit.funnelStepConditionList),n(l,12,0,l.context.$implicit.name),n(l,15,0),n(l,17,0,e.funnelStepList.length>3)},function(n,l){n(l,2,0,l.context.index+1),n(l,9,1,[t["\u0275nov"](l,14).ngClassUntouched,t["\u0275nov"](l,14).ngClassTouched,t["\u0275nov"](l,14).ngClassPristine,t["\u0275nov"](l,14).ngClassDirty,t["\u0275nov"](l,14).ngClassValid,t["\u0275nov"](l,14).ngClassInvalid,t["\u0275nov"](l,14).ngClassPending,!0,t["\u0275nov"](l,15).disabled,t["\u0275nov"](l,15).setLgClass,t["\u0275nov"](l,15).setSmClass])})}function zn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","error"],["style","margin-left: 10px; margin-top: 0px;"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,["",""]))],null,function(n,l){n(l,1,0,l.component.vm.stepErrorInfo)})}function Sn(n){return t["\u0275vid"](0,[t["\u0275qud"](402653184,1,{scroll:0}),(n()(),t["\u0275eld"](1,0,null,null,31,"main",[],null,null,null,null,null)),(n()(),t["\u0275eld"](2,0,null,null,10,"div",[["class","header"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,[" \u6f0f\u6597\u540d\u79f0 "])),(n()(),t["\u0275eld"](4,0,null,null,6,"input",[["nz-input",""],["placeholder","\u8bf7\u8f93\u5165\u6f0f\u6597\u540d\u79f0"],["style","width: 316px; margin-left: 16px;"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ant-input",null],[2,"ant-input-disabled",null],[2,"ant-input-lg",null],[2,"ant-input-sm",null]],[[null,"ngModelChange"],[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,e){var u=!0,o=n.component;return"input"===l&&(u=!1!==t["\u0275nov"](n,5)._handleInput(e.target.value)&&u),"blur"===l&&(u=!1!==t["\u0275nov"](n,5).onTouched()&&u),"compositionstart"===l&&(u=!1!==t["\u0275nov"](n,5)._compositionStart()&&u),"compositionend"===l&&(u=!1!==t["\u0275nov"](n,5)._compositionEnd(e.target.value)&&u),"input"===l&&(u=!1!==t["\u0275nov"](n,10).textAreaOnChange()&&u),"ngModelChange"===l&&(u=!1!==(o.funnelName=e)&&u),"change"===l&&(u=!1!==o.checkFunnelName(o.funnelName)&&u),u},null,null)),t["\u0275did"](5,16384,null,0,hn.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,hn.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,hn.NG_VALUE_ACCESSOR,function(n){return[n]},[hn.DefaultValueAccessor]),t["\u0275did"](7,671744,null,0,hn.NgModel,[[8,null],[8,null],[8,null],[6,hn.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,hn.NgControl,null,[hn.NgModel]),t["\u0275did"](9,16384,null,0,hn.NgControlStatus,[[4,hn.NgControl]],null,null),t["\u0275did"](10,4472832,null,0,a.Wa,[t.ElementRef,t.Renderer2,[2,hn.NgModel],[6,hn.NgControl]],null,null),(n()(),t["\u0275and"](16777216,null,null,1,null,wn)),t["\u0275did"](12,16384,null,0,m.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](13,0,null,null,19,"div",[["class","content"]],null,null,null,null,null)),(n()(),t["\u0275eld"](14,0,null,null,2,"p",[],null,null,null,null,null)),(n()(),t["\u0275eld"](15,0,null,null,0,"span",[["class","ant-compat anticon anticon-info-circle"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,[" \u4ee5\u7528\u6237\u9010\u6b65\u6267\u884c\u7684\u4e8b\u4ef6\u4e3a\u4f9d\u636e\uff0c\u6784\u9020\u8f6c\u5316\u6f0f\u6597\uff0c\u7cfb\u7edf\u5c06\u9010\u6b65\u8fc7\u6ee4\uff0c\u8ba1\u7b97\u51fa\u7528\u6237\u5728\u6574\u4e2a\u8fc7\u7a0b\u4e2d\u7684\u8f6c\u5316\u7387\u3002 "])),(n()(),t["\u0275eld"](17,0,null,null,6,"div",[["class","title"]],null,null,null,null,null)),(n()(),t["\u0275eld"](18,0,null,null,1,"label",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["\u6b65\u9aa4"])),(n()(),t["\u0275eld"](20,0,null,null,1,"label",[["style","margin: 0 162px 0 92px;"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["\u4e8b\u4ef6\u540d\u79f0"])),(n()(),t["\u0275eld"](22,0,null,null,1,"label",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["\u4e8b\u4ef6\u522b\u540d"])),(n()(),t["\u0275eld"](24,0,[[1,0],["scroll",1]],null,2,"div",[["class","step-list"]],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,In)),t["\u0275did"](26,278528,null,0,m.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,zn)),t["\u0275did"](28,16384,null,0,m.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](29,0,null,null,3,"div",[["class","add-steps"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.addStep()&&t),t},null,null)),(n()(),t["\u0275eld"](30,0,null,null,0,"span",[["class","iconfont icon-add1"]],null,null,null,null,null)),(n()(),t["\u0275eld"](31,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["\u6dfb\u52a0\u6b65\u9aa4"]))],function(n,l){var e=l.component;n(l,7,0,e.funnelName),n(l,10,0),n(l,12,0,e.vm.nameError),n(l,26,0,e.funnelStepList),n(l,28,0,e.vm.stepError)},function(n,l){n(l,4,1,[t["\u0275nov"](l,9).ngClassUntouched,t["\u0275nov"](l,9).ngClassTouched,t["\u0275nov"](l,9).ngClassPristine,t["\u0275nov"](l,9).ngClassDirty,t["\u0275nov"](l,9).ngClassValid,t["\u0275nov"](l,9).ngClassInvalid,t["\u0275nov"](l,9).ngClassPending,!0,t["\u0275nov"](l,10).disabled,t["\u0275nov"](l,10).setLgClass,t["\u0275nov"](l,10).setSmClass])})}var Mn=e("eDkP"),_n=e("lLAP"),En=e("BkRI"),kn=e.n(En),Dn=function(n){function l(l,e){var t=n.call(this,e)||this;t.funnelAnalysisService=l,t.injector=e,t.tabList=[{url:"/effect-report/target-achievement",name:"\u76ee\u6807\u8fbe\u6210"},{url:"/effect-report/funnel-analysis",name:"\u6f0f\u6597\u5206\u6790"}],t.showTrendCharts=!0,t.colors=["#2D8CF0","#2DE2C5"],t.funnelList=[],t.allCrowdList=[],t.generateCrowdList=[],t.selectedGenerateCrowd=[],t.selectedCrowdIds=[],t.showSelectCrowd="none",t.isVisible=!1,t.defaultFunnel={},t.fromFlag=!1,t.tempFunnelData={},t.legends=[],t.steps=[],t.step1=[],t.step2=[],t.selectedStep1="1",t.selectedStep2="1",t.stepGranularity="day",t.lastGranularity="day",t.transOverview=[],t.xFunnelData=[],t.yFunnelData=[],t.funnelSeries=[],t.xData=[],t.line1Data=[],t.line2Data=[],t.lineSeries=[],t.barXData=[],t.barData=[],t.funnelChartOption={color:["#2D8CF0"],label:{normal:{show:!1,position:"top",textStyle:{color:"#000"},formatter:function(n){return n.data[2]+"%"}},emphasis:{show:!1,position:"top",textStyle:{color:"#000"},formatter:function(n){return n.data[2]+"%"}}},tooltip:{trigger:"axis",backgroundColor:"rgba(23,35,61,0.85)",padding:[16,20],extraCssText:"box-shadow: 0 0 4px rgba(0, 0, 0, 0.3);",textStyle:{color:"#fff"},position:function(n,l){var e={top:n[1]};return e[["left","right"][+(n[0]<l.viewSize[0]/2)]]=5,e},formatter:function(n){for(var l=function(n){if(!/^[0-9]*$/.test(n+=""))return n;for(var l=Math.floor(n.length/3),e=n.split(""),t=0;t<l;t++)e.splice(-(3*(t+1)+t),0,",");return","==e[0]&&e.shift(),e.join("")},e='<div style="display: inline-block;">\n            <p style="border-bottom: 1px solid #dfe7f2;padding-bottom: 10px;margin-bottom: 16px;">\n            <span style="margin-left: 14px;">\u7528\u6237\u6570</span>\n          </p>',t='<div style="display: inline-block;">\n          <p style="border-bottom: 1px solid #dfe7f2;padding-bottom: 10px;margin-bottom: 16px;"><span>\u6b65\u9aa4\u95f4\u8f6c\u5316\u7387</span>\n          </p>',u='<div style="display: inline-block;">\n          <p style="border-bottom: 1px solid #dfe7f2;padding: 0 10px 10px 10px;margin-bottom: 16px;"><span>\u8be5\u6b65\u8f6c\u5316\u7387</span>\n          </p>',o=0;o<n.length;o++)e+='<p><span style="color:'+n[o].color+';padding-right: 5px;">\u25cf</span><span>'+l(n[o].data[1])+"</span></p>",t+="<p><span>"+(0==n[o].dataIndex?"--":(n[o].data[2]||0).toFixed(2)+"%")+"</span></p>",u+='<p style="padding: 0 10px;"><span>'+n[o].data[3]+"%</span></p>";return(e+="</div>")+(u+="</div>")+t+"</div>"},axisPointer:{type:"shadow"}},legend:{right:22,top:12,data:""},grid:{top:"45",left:"150",right:"40",bottom:"30",containLabel:!1},xAxis:[{type:"value",splitLine:{show:!0,lineStyle:{type:"solid",width:1,color:"#f2f7ff"}},axisLine:{show:!0,lineStyle:{color:"#dfe7f2",width:1}},axisTick:{show:!1},axisLabel:{textStyle:{color:"#657180"}}}],yAxis:[{type:"category",data:t.yFunnelData,splitLine:{show:!0,lineStyle:{type:"solid",width:1,color:"#f2f7ff"}},axisLine:{show:!0,lineStyle:{color:"#dfe7f2",width:1}},axisTick:{show:!1},axisLabel:{margin:135,textStyle:{color:"#657180",align:"left"},formatter:function(n){var l="",e=n.length-2,t=Math.ceil(e/10);if(e>10)for(var u=0;u<t;u++){var o=10*u,a=o+2+10;l+=0==u?n.substring(o,a)+"\n":u==t-1?n.substring(o+2,n.length):n.substring(o+2,a)+"\n"}else l=n;return l}}}],series:""},t.stepChartOption={color:["#2D8CF0"],legend:{top:24,right:16,data:t.legends},tooltip:{trigger:"axis",backgroundColor:"rgba(23,35,61,0.85)",padding:[16,20],extraCssText:"box-shadow: 0 0 4px rgba(0, 0, 0, 0.3);",textStyle:{color:"#fff"},formatter:function(n){for(var l='<div style="border-bottom:1px solid #dfe7f2;padding-bottom:12px;">\n        \u65f6\u95f4<span style="margin-left:70px;">'+n[0].name+"</span>\n        </div>",e=0;e<n.length;e++)l+='\n          <p style="margin-top:12px;">\n          <span style="color:'+n[e].color+';margin-right:8px;">\u25cf</span>'+n[e].seriesName+'<span style="color: #2D8CF0;margin-left:90px;">'+n[e].value+"%</span>\n          </p>";return l}},grid:{top:"70",left:"25",right:"22",bottom:"3",containLabel:!0,height:"170"},xAxis:[{type:"category",data:t.xData,name:"",boundaryGap:!0,axisLine:{show:!0,lineStyle:{color:"#dfe7f2",width:1}},axisTick:{show:!1},axisLabel:{textStyle:{color:"#657180"}}}],yAxis:[{type:"value",axisLine:{show:!1},splitLine:{show:!0,lineStyle:{type:"solid",width:1,color:"#f2f7ff"}},axisTick:{show:!1},axisLabel:{textStyle:{color:"#657180"},formatter:"{value} %"}}],series:t.lineSeries},t.lastChartOption={color:["#2D8CF0"],legend:{top:12,right:16},tooltip:{trigger:"axis",backgroundColor:"rgba(23,35,61,0.85)",padding:[16,20],extraCssText:"box-shadow: 0 0 4px rgba(0, 0, 0, 0.3);",textStyle:{color:"#fff"},formatter:function(n){for(var l='<div style="border-bottom:1px solid #dfe7f2;padding-bottom:12px;">\n        \u65f6\u95f4<span style="margin-left:70px;">'+n[0].name+"</span></div>",e=0;e<n.length;e++)l+='<p style="margin-top:12px;"><span style="color:'+n[e].color+';margin-right:8px;">\u25cf</span>'+n[e].seriesName+'<span style="color: #2D8CF0;margin-left:90px;">'+Number(n[e].value).toLocaleString()+"</span></p>";return l}},grid:{top:"56",left:"20",right:"20",bottom:"3",containLabel:!0,height:"180"},xAxis:[{type:"category",data:["20170529","20170530","20170531","20170601","20170602","20170603","20170604"],name:"",boundaryGap:!0,axisLine:{show:!0,lineStyle:{color:"#dfe7f2",width:1}},axisTick:{show:!1},axisLabel:{textStyle:{color:"#657180"}}}],yAxis:[{type:"value",axisLine:{show:!1},splitLine:{show:!0,lineStyle:{type:"solid",width:1,color:"#f2f7ff"}},axisTick:{show:!1},axisLabel:{textStyle:{color:"#657180"}}}],series:""};var u=t.route.snapshot.params.campaignId;return u&&(t.campaignId=parseInt(u)),t}return Object(b.__extends)(l,n),l.prototype.ngOnInit=function(){this.getFunnelList()},l.prototype.getFunnelList=function(){var n=this,l=this;l.funnelAnalysisService.getFunnelList(this.campaignId).subscribe(function(e){if(200===e.code)if(l.funnelList=e=e.data.data,e&&e.length>0){l.showTrendCharts=!0;for(var t=0;t<e.length;t++)l.fromFlag&&l.cuFunnelId==e[t].id&&(l.selectedFunnelId=e[t].id,l.defaultFunnel=e[t]),e[t].defaultFlag&&(l.selectedFunnelId=e[t].id,l.defaultFunnel=e[t]);null==l.selectedFunnelId&&(l.selectedFunnelId=e[0].id,l.defaultFunnel=e[0]),l.getFunnelView()}else l.showTrendCharts=!1;else n.notification.create("warning","\u9519\u8bef\u63d0\u793a",e.message)})},l.prototype.changeFunnel=function(n){this.getFunnelView()},l.prototype.addFunnel=function(){this.funnelAnalysisService.funnelId=null,this.modalTitle="\u65b0\u5efa\u6f0f\u6597",this.isVisible=!0},l.prototype.setDefaultFunnel=function(n,l){var e=this;n.defaultFlag||(n.defaultFlag=1,this.funnelAnalysisService.setDefaultFunnel(n.id).subscribe(function(l){200===l.code?e.funnelList.forEach(function(l){l.id!==n.id&&(l.defaultFlag=0)}):e.notification.create("warning","\u9519\u8bef\u63d0\u793a",l.message)}))},l.prototype.editFunnel=function(n,l){this.funnelAnalysisService.funnelId=n.id,this.modalTitle="\u4fee\u6539\u6f0f\u6597",this.isVisible=!0},l.prototype.deleteFunnel=function(n,l){var e=this;this.modalService.confirm({nzTitle:"\u63d0\u793a",nzContent:'\u786e\u5b9a\u8981\u5220\u9664\u6f0f\u6597"'+n.funnelName+'"\uff1f',nzOnOk:function(){e.funnelAnalysisService.deleteFunnel(n.id).subscribe(function(n){200!==n.code?e.notification.create("warning","\u9519\u8bef\u63d0\u793a",n.message):(e.notification.create("success","\u63d0\u793a","\u64cd\u4f5c\u6210\u529f"),e.selectedFunnelId=null,e.getFunnelList())})}})},l.prototype.saveFunnelStep=function(){var n=this;if(!this.addFunnelComponent.checkParam()){var l={campaignId:this.campaignId,funnelName:this.addFunnelComponent.funnelName,funnelStepList:this.addFunnelComponent.funnelStepList};this.funnelAnalysisService.funnelId?(l.id=this.funnelAnalysisService.funnelId,l.defaultFlag=this.addFunnelComponent.funnelDetail.defaultFlag,this.funnelAnalysisService.updateFunnel(l).subscribe(function(l){200===l.code?(n.defaultFunnel=l.data,n.cuFunnelId=n.defaultFunnel.id,n.isVisible=!1,n.globals.resetBodyStyle(),n.fromFlag=!0,n.notification.create("success","\u63d0\u793a","\u4fee\u6539\u6210\u529f"),n.getFunnelList()):n.notification.create("warning","\u9519\u8bef\u63d0\u793a",l.message)})):this.funnelAnalysisService.saveFunnel(l).subscribe(function(l){200===l.code?(n.defaultFunnel=l.data,n.cuFunnelId=n.defaultFunnel.id,n.isVisible=!1,n.fromFlag=!0,n.notification.create("success","\u63d0\u793a","\u65b0\u5efa\u6210\u529f"),n.getFunnelList()):n.notification.create("warning","\u9519\u8bef\u63d0\u793a",l.message)})}},l.prototype.handleCancel=function(){this.isVisible=!1,this.globals.resetBodyStyle()},l.prototype.showCrowdDialog=function(){var n=this;this.showSelectCrowd="block",this.funnelAnalysisService.getGenerateCrowd(this.campaignId).subscribe(function(l){200!==l.code&&n.notification.create("warning","\u9519\u8bef\u63d0\u793a",l.message),l.data.forEach(function(l){n.selectedCrowdIds.indexOf(l.id)>-1&&(l.checked=!0)}),n.allCrowdList=l.data,n.generateCrowdList=l.data})},l.prototype.fliterGenerateCrowd=function(){for(var n=[],l=0;l<this.allCrowdList.length;l++){var e=this.allCrowdList[l];-1!=e.refName.indexOf(this.searchCrowdName)&&n.push(e)}this.generateCrowdList=n},l.prototype.checkGenerateCrowd=function(n){if(n.checked){n.checked=!1;for(var l=0;l<this.selectedGenerateCrowd.length;l++)if(n.id===this.selectedGenerateCrowd[l].id){this.selectedGenerateCrowd.splice(l,1);break}}else{if(this.selectedGenerateCrowd&&2==this.selectedGenerateCrowd.length)return;n.checked=!0,this.selectedGenerateCrowd.push(n)}},l.prototype.closeCrowdDialog=function(){var n=this;this.selectedCrowdIds.length!=this.selectedGenerateCrowd.length&&(this.selectedGenerateCrowd=[],this.generateCrowdList.forEach(function(l){n.selectedCrowdIds.indexOf(l.id)>-1&&n.selectedGenerateCrowd.push(l)})),this.searchCrowdName="",this.showSelectCrowd="none"},l.prototype.setLegendColor=function(n,l){l?(this.funnelChartOption.color=n,this.stepChartOption.color=n,this.lastChartOption.color=n):(this.funnelChartOption.color=["#2D8CF0"],this.stepChartOption.color=["#2D8CF0"],this.lastChartOption.color=["#2D8CF0"])},l.prototype.saveGenerateCrowd=function(){for(var n=[],l=[],e=this.selectedGenerateCrowd,t=0;t<e.length;t++)e[t].color=this.colors[t],n.push(this.colors[t]),l.push(e[t].id);this.setLegendColor(n,e.length>0),this.selectedCrowdIds=l,this.getFunnelView(),this.searchCrowdName="",this.showSelectCrowd="none"},l.prototype.cancelChoice=function(){this.selectedGenerateCrowd=[],this.generateCrowdList.forEach(function(n){n.checked=!1})},l.prototype.getFunnelView=function(){var n=this,l=this;l.funnelAnalysisService.getFunnelConvertOverview({campaignId:this.campaignId,funnelId:l.selectedFunnelId,crowdIds:l.selectedCrowdIds}).subscribe(function(e){200===e.code?(l.funnelSeries=[],l.tempFunnelData=e.data,l.formatFunnelViewData(e.data),l.funnelChartOption.series=l.funnelSeries,l.funnelChartOption.legend.data=l.legends,l.funnelChart=kn()(l.funnelChartOption),l.trendLineCharts(),l.lastEventTrendCharts()):n.notification.create("warning","\u9519\u8bef\u63d0\u793a",e.message)})},l.prototype.trendLineCharts=function(){var n=this,l=this,e={campaignId:this.campaignId,crowdIds:l.selectedCrowdIds,granularity:l.stepGranularity},t=[];t.push(l.tempFunnelData[0].funnelConvertOverviewEventStepItem[+l.selectedStep1-1].eventId),t.push(l.tempFunnelData[0].funnelConvertOverviewEventStepItem[+l.selectedStep2-1].eventId),e.eventIds=t,l.funnelAnalysisService.getTrendChart(e).subscribe(function(e){if(200===e.code){e=e.data,l.xData=[];var t=[];if(l.lineSeries=[],e&&e.length>0)for(var u=0;u<e.length;u++){l.line1Data=[],t.push({name:e[u].crowdName||"\u8f6c\u5316\u7387",icon:"circle"});for(var o=e[u].items,a={},i=0;i<o.length;i++)Object.assign(a,o[i]);for(var r in a)if(l.line1Data.push(a[r]),l.xData.length<o.length)if("day"===l.stepGranularity){var d=r.substr(0,4)+"-"+r.substr(4,2)+"-"+r.substr(6,2);l.xData.push(d)}else"month"===l.stepGranularity&&(r=""+(+r+1)),l.xData.push(r);l.buildTrendCharts(e[u].crowdName,l.line1Data)}l.stepChartOption.xAxis[0].data=l.xData,l.stepChartOption.legend.data=t,l.stepChartOption.series=l.lineSeries,l.stepChart=kn()(l.stepChartOption)}else n.notification.create("warning","\u9519\u8bef\u63d0\u793a",e.message)})},l.prototype.lastEventTrendCharts=function(){var n=this,l=this;l.funnelAnalysisService.getLastEventChart(l.tempFunnelData[0].funnelConvertOverviewEventStepItem[l.tempFunnelData[0].funnelConvertOverviewEventStepItem.length-1].eventId,{campaignId:this.campaignId,crowdIds:l.selectedCrowdIds,granularity:l.lastGranularity}).subscribe(function(e){if(200===e.code){e=e.data,l.barData=[],l.barXData=[];var t=[];if(e&&e.length>0)for(var u=0;u<e.length;u++){t.push({name:e[u].crowdName||"\u7528\u6237\u6570",icon:"circle"});for(var o=e[u].items,a=[],i={},r=0;r<o.length;r++)Object.assign(i,o[r]);for(var d in i)if(a.push(i[d]),l.barXData.length<o.length)if("day"===l.lastGranularity){var s=d.substr(0,4)+"-"+d.substr(4,2)+"-"+d.substr(6,2);l.barXData.push(s)}else"month"===l.lastGranularity&&(d=""+(+d+1)),l.barXData.push(d);l.barData.push({name:e[u].crowdName||"\u7528\u6237\u6570",type:"line",barWidth:"28",data:a})}l.lastChartOption.xAxis[0].data=l.barXData,l.lastChartOption.legend.data=t,l.lastChartOption.series=l.barData,l.lastChart=kn()(l.lastChartOption)}else n.notification.create("warning","\u9519\u8bef\u63d0\u793a",e.message)})},l.prototype.buildTrendCharts=function(n,l){this.lineSeries.push({smooth:!0,name:n||"\u8f6c\u5316\u7387",type:"line",data:l})},l.prototype.formatFunnelViewData=function(n){this.transOverview=[],this.yFunnelData=[],this.legends=[];for(var l=0;l<n.length;l++){this.legends.push({name:n[l].crowdName,icon:"circle"});var e=n[l].funnelConvertOverviewEventStepItem;if(0===this.selectedGenerateCrowd.length)(u={}).startDeviceCount=e[0].val,u.endDeviceCount=e[e.length-1].val,u.wholeConvertRate=+(isNaN(+e[e.length-1].val/+e[0].val)||!e[0].val?0:+e[e.length-1].val/+e[0].val*100).toFixed(2)+"%",this.transOverview.push(u);else for(var t=0;t<this.selectedGenerateCrowd.length;t++){var u;n[l].crowdId==this.selectedGenerateCrowd[t].id&&((u={}).color=this.selectedGenerateCrowd[t].color,u.startDeviceCount=e[0].val,u.endDeviceCount=e[e.length-1].val,u.wholeConvertRate=+(isNaN(+e[e.length-1].val/+e[0].val)||!e[0].val?0:+e[e.length-1].val/+e[0].val*100).toFixed(4)+"%",this.transOverview.push(u))}this.formatFunnelData(n[l].crowdName,e)}2===n.length&&(this.funnelSeries[0].markPoint=Object.assign(this.funnelSeries[0].markPoint,{symbol:"image://assets/images/funnel2_tip.png",symbolSize:[110,24],label:{normal:{offset:[-25,-3],textStyle:{color:"#2D8CF0"},formatter:function(n){return n.data.value+"%"}},emphasis:{offset:[-25,-3],textStyle:{color:"#2D8CF0"},formatter:function(n){return n.data.value+"%"}}}}),this.funnelSeries[1].markPoint=Object.assign(this.funnelSeries[1].markPoint,{symbol:"image://assets/images/funnel2_tip.png",symbolSize:[110,24],symbolOffset:["-100%"," -231%"],label:{normal:{offset:[25,-3],textStyle:{color:"#2DE2C5"},formatter:function(n){return n.data.value+"%"}},emphasis:{offset:[25,-3],textStyle:{color:"#2DE2C5"},formatter:function(n){return n.data.value+"%"}}}})),this.funnelChartOption.yAxis[0].data=this.yFunnelData},l.prototype.formatFunnelData=function(n,l){this.xFunnelData=[],this.steps=[];var e=[];this.yFunnelData.length&&this.yFunnelData.reverse();for(var t=0;t<l.length;t++){l.length>this.yFunnelData.length&&this.yFunnelData.push(l[t].stepOrder+"."+l[t].stepName);var u=[];u.push(l.length-1-t),u.push(l[t].val),u.push(l[t].convertRate),u.push(l[t].totalConvertRate),this.xFunnelData.push(u),this.steps.push({label:l[t].stepOrder,value:l[t].stepOrder}),t>0&&e.push({value:l[t].convertRate,yAxis:l.length-t-1,x:"100%"})}this.yFunnelData.reverse(),this.buildFunnelCharts(n,this.xFunnelData,e),this.initTrendStep()},l.prototype.buildFunnelCharts=function(n,l,e){this.funnelSeries.push({name:n,type:"bar",barWidth:"16",encode:{x:1,y:0,tooltip:[1,2,3],label:3},markPoint:{label:{normal:{textStyle:{color:"#000"},show:!0,offset:[0,-3],formatter:function(n){return n.data.value+"%"}},emphasis:{show:!0,offset:[0,-3],formatter:function(n){return n.data.value+"%"}}},silent:!0,symbolSize:[50,24],symbolOffset:["-100%","-150%"],symbol:"image://assets/images/funnel_tip.png",data:e},data:l})},l.prototype.initTrendStep=function(){this.selectedStep1=this.steps[0].value,this.selectedStep2=this.steps[this.steps.length-1].value,this.step1=this.steps.slice(0,+this.selectedStep2-1),this.step2=this.steps.slice(+this.selectedStep1)},l.prototype.changeTrendStep=function(n){this.step1=this.steps.slice(0,+this.selectedStep2-1),this.step2=this.steps.slice(+this.selectedStep1),this.trendLineCharts()},l.prototype.changeStepGranularity=function(n){this.trendLineCharts()},l.prototype.changeLastGranularity=function(n){this.lastEventTrendCharts()},l}(y.a),Nn=t["\u0275crt"]({encapsulation:0,styles:[[".header[_ngcontent-%COMP%]{height:64px;background:#fff;padding-left:16px;padding-top:16px}.header[_ngcontent-%COMP%]   .oprator[_ngcontent-%COMP%]{font-size:12px;color:#2d8cf0;line-height:20px;margin-left:16px;cursor:pointer}.header[_ngcontent-%COMP%]   .select-crowd[_ngcontent-%COMP%]{float:right;margin-right:16px;position:relative}.header[_ngcontent-%COMP%]   .select-crowd[_ngcontent-%COMP%]   .select-crowd-content[_ngcontent-%COMP%]{overflow:hidden;background:#fff;border:1px solid rgba(23,35,61,.15);box-shadow:0 1px 4px 0 rgba(23,35,61,.25);border-radius:4px;width:452px;height:322px;position:absolute;top:36px;right:0;z-index:10}.header[_ngcontent-%COMP%]   .select-crowd[_ngcontent-%COMP%]   .select-crowd-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{padding-left:16px;height:46px;border-bottom:1px solid rgba(23,35,61,.1);font-size:12px;color:#17233d}.header[_ngcontent-%COMP%]   .select-crowd[_ngcontent-%COMP%]   .select-crowd-content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .cancel-choice[_ngcontent-%COMP%]{float:right;font-size:12px;color:#2d8cf0;text-align:right;margin-right:16px;cursor:pointer}.header[_ngcontent-%COMP%]   .select-crowd[_ngcontent-%COMP%]   .select-crowd-content[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:8px 16px 0}.header[_ngcontent-%COMP%]   .select-crowd[_ngcontent-%COMP%]   .select-crowd-content[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{float:right;font-size:12px;color:rgba(11,17,0,.55)}.header[_ngcontent-%COMP%]   .select-crowd[_ngcontent-%COMP%]   .select-crowd-content[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#2d8cf0}.header[_ngcontent-%COMP%]   .select-crowd[_ngcontent-%COMP%]   .select-crowd-content[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .pannel[_ngcontent-%COMP%]{height:175px;background:rgba(23,35,61,.03);overflow-x:hidden;overflow-y:auto;margin-top:8px}.header[_ngcontent-%COMP%]   .select-crowd[_ngcontent-%COMP%]   .select-crowd-content[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .pannel[_ngcontent-%COMP%]   .crowd-item[_ngcontent-%COMP%]{margin:6px 0;font-size:12px;height:24px;line-height:24px;color:rgba(23,35,61,.75);padding-left:12px!important;cursor:pointer}.header[_ngcontent-%COMP%]   .select-crowd[_ngcontent-%COMP%]   .select-crowd-content[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .pannel[_ngcontent-%COMP%]   .crowd-item.active[_ngcontent-%COMP%]{background:#2d8cf0;border-radius:20px;color:#fff}.header[_ngcontent-%COMP%]   .select-crowd[_ngcontent-%COMP%]   .select-crowd-content[_ngcontent-%COMP%]   .btn-handel[_ngcontent-%COMP%]{float:right;margin:16px}.body[_ngcontent-%COMP%]{margin:16px;overflow:hidden;zoom:1}.view-left[_ngcontent-%COMP%]{background:#fff;float:left;width:40%;height:614px}.view-left[_ngcontent-%COMP%]   .funnel-view-title[_ngcontent-%COMP%]{height:46px;padding:12px 16px;border-bottom:1px solid rgba(23,35,61,.1)}.view-left[_ngcontent-%COMP%]   .funnel-view-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{display:inline-block;font-size:14px}.view-left[_ngcontent-%COMP%]   .clearfix[_ngcontent-%COMP%]{height:76px;padding-left:16px;border-bottom:1px solid rgba(23,35,61,.1)}.view-left[_ngcontent-%COMP%]   .clearfix[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]{float:left;margin-top:12px;padding:0 26px}.view-left[_ngcontent-%COMP%]   .clearfix[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]:nth-child(1){padding-left:0}.view-left[_ngcontent-%COMP%]   .clearfix[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:12px;color:rgba(23,35,61,.55)}.view-left[_ngcontent-%COMP%]   .clearfix[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{padding-left:8px;border-left:1px solid rgba(23,35,61,.1)}.view-left[_ngcontent-%COMP%]   .clearfix[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px;color:#2d8cf0;margin-bottom:16px}.view-left[_ngcontent-%COMP%]   .charts-box[_ngcontent-%COMP%]{height:490px}.view-right[_ngcontent-%COMP%]{float:right;height:614px;width:59%}.view-right[_ngcontent-%COMP%]   .view-chart[_ngcontent-%COMP%]{background:#fff;position:relative}.view-right[_ngcontent-%COMP%]   .view-chart[_ngcontent-%COMP%]:first-child{margin-bottom:16px}.view-right[_ngcontent-%COMP%]   .view-chart[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{height:46px;border-bottom:1px solid rgba(23,35,61,.1);line-height:46px;font-size:14px;color:#17233d;padding-left:16px}.view-right[_ngcontent-%COMP%]   .view-chart[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .date-filter[_ngcontent-%COMP%]{float:right;margin-right:16px}.view-right[_ngcontent-%COMP%]   .view-chart[_ngcontent-%COMP%]   .step-filter[_ngcontent-%COMP%]{font-size:12px;color:#495060;position:absolute;top:63px;left:16px;z-index:1}.item-name[_ngcontent-%COMP%]{float:left;margin:0}  .ant-select-dropdown-menu-item:hover .item-name{width:170px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}  .ant-select-dropdown-menu-item:hover .funnel-oprator{display:block}.funnel-oprator[_ngcontent-%COMP%]{margin-right:5px;display:none}.no-data[_ngcontent-%COMP%]{text-align:center;height:318px;margin:16px;position:relative;background:#fff;box-shadow:0 1px 2px 0 rgba(23,35,61,.25);border-radius:2px}.pic-box[_ngcontent-%COMP%]{position:absolute;left:50%;top:58px;margin-left:-342px}.funnel-add-btn-box[_ngcontent-%COMP%]{position:absolute;left:50%;bottom:48px;margin-left:-74px}.funnel-add-btn-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:12px;color:#b8bfc8}.new-build-btn[_ngcontent-%COMP%]{height:32px;line-height:32px;display:inline-block;cursor:pointer;padding:0 22px;background:#5ba0ff;border-radius:15px;color:#fff}"]],data:{}});function Pn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-add-funnel",[],null,null,null,Sn,xn)),t["\u0275did"](1,638976,[[1,4]],0,bn,[Cn,t.Injector],null,null)],function(n,l){n(l,1,0)},null)}function Tn(n){return t["\u0275vid"](0,[(n()(),t["\u0275and"](16777216,null,null,1,null,Pn)),t["\u0275did"](1,16384,null,0,m.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](0,null,null,0))],function(n,l){n(l,1,0,l.component.isVisible)},null)}function Fn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,10,"nz-option",[["nzCustomContent",""]],null,null,null,h.X,h.e)),t["\u0275did"](1,49152,[[2,4]],0,a.x,[],{nzLabel:[0,"nzLabel"],nzValue:[1,"nzValue"],nzCustomContent:[2,"nzCustomContent"]},null),(n()(),t["\u0275eld"](2,0,null,0,1,"p",[["class","item-name"]],null,null,null,null,null)),(n()(),t["\u0275ted"](3,null,["",""])),(n()(),t["\u0275eld"](4,0,null,0,3,"div",[["style","float: right;"]],null,null,null,null,null)),t["\u0275did"](5,278528,null,0,m.NgStyle,[t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](6,{color:0}),(n()(),t["\u0275eld"](7,0,null,null,0,"span",[["class","iconfont icon-star"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.setDefaultFunnel(n.context.$implicit,e)&&t),t},null,null)),(n()(),t["\u0275eld"](8,0,null,0,2,"div",[["class","funnel-oprator"],["style","float: right; color: rgba(23,35,61,0.55);"]],null,null,null,null,null)),(n()(),t["\u0275eld"](9,0,null,null,0,"span",[["class","iconfont icon-mode_edit"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.editFunnel(n.context.$implicit,e)&&t),t},null,null)),(n()(),t["\u0275eld"](10,0,null,null,0,"span",[["class","iconfont icon-delete"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.deleteFunnel(n.context.$implicit,e)&&t),t},null,null))],function(n,l){n(l,1,0,l.context.$implicit.funnelName,l.context.$implicit.id,""),n(l,5,0,n(l,6,0,l.context.$implicit.defaultFlag?"#2D8CF0":"rgba(23,35,61,0.25)"))},function(n,l){n(l,3,0,l.context.$implicit.funnelName)})}function Vn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,6,"div",[["nz-col",""],["nzSpan","8"]],[[4,"padding-left","px"],[4,"padding-right","px"]],null,null,null,null)),t["\u0275prd"](512,null,a.M,a.M,[t.Renderer2]),t["\u0275did"](2,606208,null,0,a.G,[a.M,t.ElementRef,[8,null],[2,a.I],t.Renderer2],{nzSpan:[0,"nzSpan"]},null),(n()(),t["\u0275eld"](3,0,null,null,3,"div",[["class","crowd-item"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.checkGenerateCrowd(n.context.$implicit)&&t),t},null,null)),t["\u0275did"](4,278528,null,0,m.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](5,{active:0}),(n()(),t["\u0275ted"](6,null,[" "," "]))],function(n,l){n(l,2,0,"8"),n(l,4,0,"crowd-item",n(l,5,0,l.context.$implicit.checked))},function(n,l){n(l,0,0,t["\u0275nov"](l,2).paddingLeft,t["\u0275nov"](l,2).paddingRight),n(l,6,0,l.context.$implicit.refName)})}function Ln(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,57,"div",[["class","header shadow-content"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,9,"nz-select",[["nzShowSearch",""],["style","width: 254px;"]],[[2,"ant-select",null],[2,"ant-select-lg",null],[2,"ant-select-sm",null],[2,"ant-select-enabled",null],[2,"ant-select-disabled",null],[2,"ant-select-allow-clear",null],[2,"ant-select-open",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"click"],[null,"keydown"]],function(n,l,e){var u=!0,o=n.component;return"click"===l&&(u=!1!==t["\u0275nov"](n,2).onClick()&&u),"keydown"===l&&(u=!1!==t["\u0275nov"](n,2)._handleKeydown(e)&&u),"ngModelChange"===l&&(u=!1!==(o.selectedFunnelId=e)&&u),"ngModelChange"===l&&(u=!1!==o.changeFunnel(e)&&u),u},h.Y,h.f)),t["\u0275did"](2,4440064,null,2,a.y,[t.Renderer2],{nzShowSearch:[0,"nzShowSearch"]},null),t["\u0275qud"](603979776,2,{listOfNzOptionComponent:1}),t["\u0275qud"](603979776,3,{listOfNzOptionGroupComponent:1}),t["\u0275prd"](1024,null,hn.NG_VALUE_ACCESSOR,function(n){return[n]},[a.y]),t["\u0275did"](6,671744,null,0,hn.NgModel,[[8,null],[8,null],[8,null],[6,hn.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,hn.NgControl,null,[hn.NgModel]),t["\u0275did"](8,16384,null,0,hn.NgControlStatus,[[4,hn.NgControl]],null,null),(n()(),t["\u0275and"](16777216,null,0,1,null,Fn)),t["\u0275did"](10,278528,null,0,m.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),t["\u0275eld"](11,0,null,null,1,"span",[["class","oprator"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.addFunnel()&&t),t},null,null)),(n()(),t["\u0275ted"](-1,null,["\u65b0\u5efa\u6f0f\u6597"])),(n()(),t["\u0275eld"](13,0,null,null,44,"div",[["class","select-crowd"]],null,null,null,null,null)),(n()(),t["\u0275eld"](14,0,null,null,4,"button",[["nz-button",""],["nzType","default"]],[[1,"nz-wave",0]],[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.showCrowdDialog()&&t),t},h.T,h.a)),t["\u0275prd"](512,null,a.M,a.M,[t.Renderer2]),t["\u0275did"](16,1294336,null,1,a.m,[t.ElementRef,t.ChangeDetectorRef,t.Renderer2,a.M,t.NgZone],{nzType:[0,"nzType"]},null),t["\u0275qud"](603979776,4,{listOfIconElement:1}),(n()(),t["\u0275ted"](-1,0,[" \u8bf7\u9009\u62e9\u7ec6\u5206\u4eba\u7fa4 "])),(n()(),t["\u0275eld"](19,0,null,null,38,"div",[["class","select-crowd-content"]],null,null,null,null,null)),t["\u0275did"](20,278528,null,0,m.NgStyle,[t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](21,{display:0}),(n()(),t["\u0275eld"](22,0,null,null,3,"div",[["class","header"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,[" \u9009\u62e9\u7ec6\u5206\u4eba\u7fa4 "])),(n()(),t["\u0275eld"](24,0,null,null,1,"div",[["class","cancel-choice"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.cancelChoice()&&t),t},null,null)),(n()(),t["\u0275ted"](-1,null,[" \u91cd\u7f6e "])),(n()(),t["\u0275eld"](26,0,null,null,20,"div",[["class","content"]],null,null,null,null,null)),(n()(),t["\u0275eld"](27,0,null,null,9,"nz-input-group",[["nzSize","small"],["nzSuffixIcon","anticon anticon-search"],["style","width: 184px"]],[[2,"ant-input-group-compact",null],[2,"ant-input-search-enter-button",null],[2,"ant-input-search",null],[2,"ant-input-affix-wrapper",null],[2,"ant-input-group-wrapper",null],[2,"ant-input-group",null],[2,"ant-input-group-lg",null],[2,"ant-input-group-wrapper-lg",null],[2,"ant-input-affix-wrapper-lg",null],[2,"ant-input-search-lg",null],[2,"ant-input-group-sm",null],[2,"ant-input-affix-wrapper-sm",null],[2,"ant-input-group-wrapper-sm",null],[2,"ant-input-search-sm",null]],null,null,h.Ia,h.p)),t["\u0275did"](28,1097728,null,1,a.Xa,[t.ElementRef],{nzSuffixIcon:[0,"nzSuffixIcon"],nzSize:[1,"nzSize"]},null),t["\u0275qud"](603979776,5,{nzInputDirectiveQueryList:1}),(n()(),t["\u0275eld"](30,0,null,0,6,"input",[["nz-input",""],["placeholder","\u8f93\u5165\u5173\u952e\u5b57\u641c\u7d22"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ant-input",null],[2,"ant-input-disabled",null],[2,"ant-input-lg",null],[2,"ant-input-sm",null]],[[null,"ngModelChange"],[null,"keyup"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,e){var u=!0,o=n.component;return"input"===l&&(u=!1!==t["\u0275nov"](n,31)._handleInput(e.target.value)&&u),"blur"===l&&(u=!1!==t["\u0275nov"](n,31).onTouched()&&u),"compositionstart"===l&&(u=!1!==t["\u0275nov"](n,31)._compositionStart()&&u),"compositionend"===l&&(u=!1!==t["\u0275nov"](n,31)._compositionEnd(e.target.value)&&u),"input"===l&&(u=!1!==t["\u0275nov"](n,36).textAreaOnChange()&&u),"ngModelChange"===l&&(u=!1!==(o.searchCrowdName=e)&&u),"keyup"===l&&(u=!1!==o.fliterGenerateCrowd()&&u),u},null,null)),t["\u0275did"](31,16384,null,0,hn.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,hn.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,hn.NG_VALUE_ACCESSOR,function(n){return[n]},[hn.DefaultValueAccessor]),t["\u0275did"](33,671744,null,0,hn.NgModel,[[8,null],[8,null],[8,null],[6,hn.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,hn.NgControl,null,[hn.NgModel]),t["\u0275did"](35,16384,null,0,hn.NgControlStatus,[[4,hn.NgControl]],null,null),t["\u0275did"](36,4472832,[[5,4]],0,a.Wa,[t.ElementRef,t.Renderer2,[2,hn.NgModel],[6,hn.NgControl]],null,null),(n()(),t["\u0275eld"](37,0,null,null,4,"p",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["\u6700\u591a\u53ef\u9009\u62e9 "])),(n()(),t["\u0275eld"](39,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["2"])),(n()(),t["\u0275ted"](-1,null,["\u4e2a\u4eba\u7fa4"])),(n()(),t["\u0275eld"](42,0,null,null,4,"div",[["class","pannel"],["nz-row",""],["nzGutter","16"]],null,[["window","resize"]],function(n,l,e){var u=!0;return"window:resize"===l&&(u=!1!==t["\u0275nov"](n,44).onWindowResize(e)&&u),u},null,null)),t["\u0275prd"](512,null,a.M,a.M,[t.Renderer2]),t["\u0275did"](44,81920,null,0,a.I,[t.ElementRef,t.Renderer2,a.M],{nzGutter:[0,"nzGutter"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,Vn)),t["\u0275did"](46,278528,null,0,m.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),t["\u0275eld"](47,0,null,null,10,"div",[["class","btn-handel"]],null,null,null,null,null)),(n()(),t["\u0275eld"](48,0,null,null,4,"button",[["nz-button",""],["nzType","default"]],[[1,"nz-wave",0]],[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.closeCrowdDialog()&&t),t},h.T,h.a)),t["\u0275prd"](512,null,a.M,a.M,[t.Renderer2]),t["\u0275did"](50,1294336,null,1,a.m,[t.ElementRef,t.ChangeDetectorRef,t.Renderer2,a.M,t.NgZone],{nzType:[0,"nzType"]},null),t["\u0275qud"](603979776,6,{listOfIconElement:1}),(n()(),t["\u0275ted"](-1,0,[" \u53d6\u6d88 "])),(n()(),t["\u0275eld"](53,0,null,null,4,"button",[["nz-button",""],["nzType","primary"],["style","margin-left: 8px;"]],[[1,"nz-wave",0]],[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.saveGenerateCrowd()&&t),t},h.T,h.a)),t["\u0275prd"](512,null,a.M,a.M,[t.Renderer2]),t["\u0275did"](55,1294336,null,1,a.m,[t.ElementRef,t.ChangeDetectorRef,t.Renderer2,a.M,t.NgZone],{nzType:[0,"nzType"]},null),t["\u0275qud"](603979776,7,{listOfIconElement:1}),(n()(),t["\u0275ted"](-1,0,[" \u786e\u8ba4 "]))],function(n,l){var e=l.component;n(l,2,0,""),n(l,6,0,e.selectedFunnelId),n(l,10,0,e.funnelList),n(l,16,0,"default"),n(l,20,0,n(l,21,0,e.showSelectCrowd)),n(l,28,0,"anticon anticon-search","small"),n(l,33,0,e.searchCrowdName),n(l,36,0),n(l,44,0,"16"),n(l,46,0,e.generateCrowdList),n(l,50,0,"default"),n(l,55,0,"primary")},function(n,l){n(l,1,1,[!0,"large"===t["\u0275nov"](l,2).nzSize,"small"===t["\u0275nov"](l,2).nzSize,!t["\u0275nov"](l,2).nzDisabled,t["\u0275nov"](l,2).nzDisabled,t["\u0275nov"](l,2).nzAllowClear,t["\u0275nov"](l,2).nzOpen,t["\u0275nov"](l,8).ngClassUntouched,t["\u0275nov"](l,8).ngClassTouched,t["\u0275nov"](l,8).ngClassPristine,t["\u0275nov"](l,8).ngClassDirty,t["\u0275nov"](l,8).ngClassValid,t["\u0275nov"](l,8).ngClassInvalid,t["\u0275nov"](l,8).ngClassPending]),n(l,14,0,t["\u0275nov"](l,16).nzWave),n(l,27,1,[t["\u0275nov"](l,28).nzCompact,t["\u0275nov"](l,28).nzSearch,t["\u0275nov"](l,28).nzSearch,t["\u0275nov"](l,28).isAffixWrapper,t["\u0275nov"](l,28).isAddOn,t["\u0275nov"](l,28).isGroup,t["\u0275nov"](l,28).isLargeGroup,t["\u0275nov"](l,28).isLargeGroupWrapper,t["\u0275nov"](l,28).isLargeAffix,t["\u0275nov"](l,28).isLargeSearch,t["\u0275nov"](l,28).isSmallGroup,t["\u0275nov"](l,28).isSmallAffix,t["\u0275nov"](l,28).isSmallGroupWrapper,t["\u0275nov"](l,28).isSmallSearch]),n(l,30,1,[t["\u0275nov"](l,35).ngClassUntouched,t["\u0275nov"](l,35).ngClassTouched,t["\u0275nov"](l,35).ngClassPristine,t["\u0275nov"](l,35).ngClassDirty,t["\u0275nov"](l,35).ngClassValid,t["\u0275nov"](l,35).ngClassInvalid,t["\u0275nov"](l,35).ngClassPending,!0,t["\u0275nov"](l,36).disabled,t["\u0275nov"](l,36).setLgClass,t["\u0275nov"](l,36).setSmClass]),n(l,48,0,t["\u0275nov"](l,50).nzWave),n(l,53,0,t["\u0275nov"](l,55).nzWave)})}function An(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,6,"span",[],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,5,"span",[],null,null,null,null,null)),t["\u0275did"](2,278528,null,0,m.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngClass:[0,"ngClass"]},null),t["\u0275pod"](3,{"section-title":0}),t["\u0275did"](4,278528,null,0,m.NgStyle,[t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](5,{color:0}),(n()(),t["\u0275ted"](6,null,["",""]))],function(n,l){n(l,2,0,n(l,3,0,1==l.context.index)),n(l,4,0,n(l,5,0,l.context.$implicit.color))},function(n,l){n(l,6,0,l.context.$implicit.startDeviceCount&&l.context.$implicit.startDeviceCount.toLocaleString()||0)})}function Gn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,6,"span",[],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,5,"span",[],null,null,null,null,null)),t["\u0275did"](2,278528,null,0,m.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngClass:[0,"ngClass"]},null),t["\u0275pod"](3,{"section-title":0}),t["\u0275did"](4,278528,null,0,m.NgStyle,[t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](5,{color:0}),(n()(),t["\u0275ted"](6,null,["",""]))],function(n,l){n(l,2,0,n(l,3,0,1==l.context.index)),n(l,4,0,n(l,5,0,l.context.$implicit.color))},function(n,l){n(l,6,0,l.context.$implicit.endDeviceCount&&l.context.$implicit.endDeviceCount.toLocaleString()||0)})}function $n(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,6,"span",[],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,5,"span",[],null,null,null,null,null)),t["\u0275did"](2,278528,null,0,m.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngClass:[0,"ngClass"]},null),t["\u0275pod"](3,{"section-title":0}),t["\u0275did"](4,278528,null,0,m.NgStyle,[t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](5,{color:0}),(n()(),t["\u0275ted"](6,null,["",""]))],function(n,l){n(l,2,0,n(l,3,0,1==l.context.index)),n(l,4,0,n(l,5,0,l.context.$implicit.color))},function(n,l){n(l,6,0,l.context.$implicit.wholeConvertRate&&l.context.$implicit.wholeConvertRate.toLocaleString())})}function Un(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"nz-option",[],null,null,null,h.X,h.e)),t["\u0275did"](1,49152,[[8,4]],0,a.x,[],{nzLabel:[0,"nzLabel"],nzValue:[1,"nzValue"]},null)],function(n,l){n(l,1,0,l.context.$implicit.label,l.context.$implicit.value)},null)}function jn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"nz-option",[],null,null,null,h.X,h.e)),t["\u0275did"](1,49152,[[10,4]],0,a.x,[],{nzLabel:[0,"nzLabel"],nzValue:[1,"nzValue"]},null)],function(n,l){n(l,1,0,l.context.$implicit.label,l.context.$implicit.value)},null)}function Wn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,98,"div",[["class","body"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,25,"div",[["class","view-left shadow-content"]],null,null,null,null,null)),(n()(),t["\u0275eld"](2,0,null,null,2,"div",[["class","funnel-view-title"]],null,null,null,null,null)),(n()(),t["\u0275eld"](3,0,null,null,1,"h3",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["\u8f6c\u5316\u6982\u89c8"])),(n()(),t["\u0275eld"](5,0,null,null,18,"div",[["class","clearfix"]],null,null,null,null,null)),(n()(),t["\u0275eld"](6,0,null,null,5,"div",[["class","section"]],null,null,null,null,null)),(n()(),t["\u0275eld"](7,0,null,null,1,"span",[["class","title"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["\u8d77\u59cb\u8bbe\u5907\u6570"])),(n()(),t["\u0275eld"](9,0,null,null,2,"p",[],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,An)),t["\u0275did"](11,278528,null,0,m.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),t["\u0275eld"](12,0,null,null,5,"div",[["class","section"]],null,null,null,null,null)),(n()(),t["\u0275eld"](13,0,null,null,1,"span",[["class","title"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["\u7ec8\u70b9\u8bbe\u5907\u6570"])),(n()(),t["\u0275eld"](15,0,null,null,2,"p",[],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,Gn)),t["\u0275did"](17,278528,null,0,m.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),t["\u0275eld"](18,0,null,null,5,"div",[["class","section"]],null,null,null,null,null)),(n()(),t["\u0275eld"](19,0,null,null,1,"span",[["class","title"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["\u6574\u4f53\u8f6c\u5316\u7387"])),(n()(),t["\u0275eld"](21,0,null,null,2,"p",[],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,$n)),t["\u0275did"](23,278528,null,0,m.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),t["\u0275eld"](24,0,null,null,2,"div",[["class","charts-box"]],null,null,null,null,null)),(n()(),t["\u0275eld"](25,0,null,null,1,"app-chart",[],null,null,null,v.b,v.a)),t["\u0275did"](26,245760,null,0,C.a,[],{option:[0,"option"]},null),(n()(),t["\u0275eld"](27,0,null,null,71,"div",[["class","view-right"]],null,null,null,null,null)),(n()(),t["\u0275eld"](28,0,null,null,48,"div",[["class","view-chart shadow-content"]],null,null,null,null,null)),(n()(),t["\u0275eld"](29,0,null,null,17,"div",[["class","title"]],null,null,null,null,null)),(n()(),t["\u0275eld"](30,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["\u8f6c\u5316\u7387\u8d8b\u52bf\u56fe"])),(n()(),t["\u0275eld"](32,0,null,null,14,"nz-radio-group",[["class","date-filter"]],[[2,"ant-radio-group",null],[2,"ant-radio-group-large",null],[2,"ant-radio-group-small",null],[2,"ant-radio-group-solid",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(n,l,e){var t=!0,u=n.component;return"ngModelChange"===l&&(t=!1!==(u.stepGranularity=e)&&t),"ngModelChange"===l&&(t=!1!==u.changeStepGranularity(e)&&t),t},h.V,h.c)),t["\u0275did"](33,1097728,null,0,a.s,[t.ElementRef],null,null),t["\u0275prd"](1024,null,hn.NG_VALUE_ACCESSOR,function(n){return[n]},[a.s]),t["\u0275did"](35,671744,null,0,hn.NgModel,[[8,null],[8,null],[8,null],[6,hn.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,hn.NgControl,null,[hn.NgModel]),t["\u0275did"](37,16384,null,0,hn.NgControlStatus,[[4,hn.NgControl]],null,null),(n()(),t["\u0275eld"](38,0,null,0,2,"label",[["nz-radio-button",""],["nzValue","day"]],[[2,"ant-radio-button-wrapper",null],[2,"ant-radio-button-wrapper-checked",null],[2,"ant-radio-button-wrapper-disabled",null]],[[null,"click"]],function(n,l,e){var u=!0;return"click"===l&&(u=!1!==t["\u0275nov"](n,39).onClick(e)&&u),u},h.W,h.d)),t["\u0275did"](39,4308992,null,0,a.t,[[2,a.s],t.Renderer2,m.DOCUMENT],{nzValue:[0,"nzValue"]},null),(n()(),t["\u0275ted"](-1,0,["\u65e5"])),(n()(),t["\u0275eld"](41,0,null,0,2,"label",[["nz-radio-button",""],["nzValue","week"]],[[2,"ant-radio-button-wrapper",null],[2,"ant-radio-button-wrapper-checked",null],[2,"ant-radio-button-wrapper-disabled",null]],[[null,"click"]],function(n,l,e){var u=!0;return"click"===l&&(u=!1!==t["\u0275nov"](n,42).onClick(e)&&u),u},h.W,h.d)),t["\u0275did"](42,4308992,null,0,a.t,[[2,a.s],t.Renderer2,m.DOCUMENT],{nzValue:[0,"nzValue"]},null),(n()(),t["\u0275ted"](-1,0,["\u5468"])),(n()(),t["\u0275eld"](44,0,null,0,2,"label",[["nz-radio-button",""],["nzValue","month"]],[[2,"ant-radio-button-wrapper",null],[2,"ant-radio-button-wrapper-checked",null],[2,"ant-radio-button-wrapper-disabled",null]],[[null,"click"]],function(n,l,e){var u=!0;return"click"===l&&(u=!1!==t["\u0275nov"](n,45).onClick(e)&&u),u},h.W,h.d)),t["\u0275did"](45,4308992,null,0,a.t,[[2,a.s],t.Renderer2,m.DOCUMENT],{nzValue:[0,"nzValue"]},null),(n()(),t["\u0275ted"](-1,0,["\u6708"])),(n()(),t["\u0275eld"](47,0,null,null,26,"div",[["class","step-filter"]],null,null,null,null,null)),(n()(),t["\u0275eld"](48,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["\u7b2c"])),(n()(),t["\u0275eld"](50,0,null,null,9,"nz-select",[["style","width: 58px; margin: 0 8px;"]],[[2,"ant-select",null],[2,"ant-select-lg",null],[2,"ant-select-sm",null],[2,"ant-select-enabled",null],[2,"ant-select-disabled",null],[2,"ant-select-allow-clear",null],[2,"ant-select-open",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"click"],[null,"keydown"]],function(n,l,e){var u=!0,o=n.component;return"click"===l&&(u=!1!==t["\u0275nov"](n,51).onClick()&&u),"keydown"===l&&(u=!1!==t["\u0275nov"](n,51)._handleKeydown(e)&&u),"ngModelChange"===l&&(u=!1!==(o.selectedStep1=e)&&u),"ngModelChange"===l&&(u=!1!==o.changeTrendStep(e)&&u),u},h.Y,h.f)),t["\u0275did"](51,4440064,null,2,a.y,[t.Renderer2],null,null),t["\u0275qud"](603979776,8,{listOfNzOptionComponent:1}),t["\u0275qud"](603979776,9,{listOfNzOptionGroupComponent:1}),t["\u0275prd"](1024,null,hn.NG_VALUE_ACCESSOR,function(n){return[n]},[a.y]),t["\u0275did"](55,671744,null,0,hn.NgModel,[[8,null],[8,null],[8,null],[6,hn.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,hn.NgControl,null,[hn.NgModel]),t["\u0275did"](57,16384,null,0,hn.NgControlStatus,[[4,hn.NgControl]],null,null),(n()(),t["\u0275and"](16777216,null,0,1,null,Un)),t["\u0275did"](59,278528,null,0,m.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),t["\u0275eld"](60,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["\u5230\u7b2c"])),(n()(),t["\u0275eld"](62,0,null,null,9,"nz-select",[["style","width: 58px; margin: 0 8px;"]],[[2,"ant-select",null],[2,"ant-select-lg",null],[2,"ant-select-sm",null],[2,"ant-select-enabled",null],[2,"ant-select-disabled",null],[2,"ant-select-allow-clear",null],[2,"ant-select-open",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"click"],[null,"keydown"]],function(n,l,e){var u=!0,o=n.component;return"click"===l&&(u=!1!==t["\u0275nov"](n,63).onClick()&&u),"keydown"===l&&(u=!1!==t["\u0275nov"](n,63)._handleKeydown(e)&&u),"ngModelChange"===l&&(u=!1!==(o.selectedStep2=e)&&u),"ngModelChange"===l&&(u=!1!==o.changeTrendStep(e)&&u),u},h.Y,h.f)),t["\u0275did"](63,4440064,null,2,a.y,[t.Renderer2],null,null),t["\u0275qud"](603979776,10,{listOfNzOptionComponent:1}),t["\u0275qud"](603979776,11,{listOfNzOptionGroupComponent:1}),t["\u0275prd"](1024,null,hn.NG_VALUE_ACCESSOR,function(n){return[n]},[a.y]),t["\u0275did"](67,671744,null,0,hn.NgModel,[[8,null],[8,null],[8,null],[6,hn.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,hn.NgControl,null,[hn.NgModel]),t["\u0275did"](69,16384,null,0,hn.NgControlStatus,[[4,hn.NgControl]],null,null),(n()(),t["\u0275and"](16777216,null,0,1,null,jn)),t["\u0275did"](71,278528,null,0,m.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),t["\u0275eld"](72,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["\u6b65\u8f6c\u5316\u8d8b\u52bf"])),(n()(),t["\u0275eld"](74,0,null,null,2,"div",[["id","lineID"],["style","height: 252px; width: 100%"]],null,null,null,null,null)),(n()(),t["\u0275eld"](75,0,null,null,1,"app-chart",[],null,null,null,v.b,v.a)),t["\u0275did"](76,245760,null,0,C.a,[],{option:[0,"option"]},null),(n()(),t["\u0275eld"](77,0,null,null,21,"div",[["class","view-chart shadow-content"]],null,null,null,null,null)),(n()(),t["\u0275eld"](78,0,null,null,17,"div",[["class","title"]],null,null,null,null,null)),(n()(),t["\u0275eld"](79,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["\u7ec8\u70b9\u4e8b\u4ef6\u7d2f\u8ba1\u5b8c\u6210\u8d8b\u52bf\u56fe"])),(n()(),t["\u0275eld"](81,0,null,null,14,"nz-radio-group",[["class","date-filter"]],[[2,"ant-radio-group",null],[2,"ant-radio-group-large",null],[2,"ant-radio-group-small",null],[2,"ant-radio-group-solid",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(n,l,e){var t=!0,u=n.component;return"ngModelChange"===l&&(t=!1!==(u.lastGranularity=e)&&t),"ngModelChange"===l&&(t=!1!==u.changeLastGranularity(e)&&t),t},h.V,h.c)),t["\u0275did"](82,1097728,null,0,a.s,[t.ElementRef],null,null),t["\u0275prd"](1024,null,hn.NG_VALUE_ACCESSOR,function(n){return[n]},[a.s]),t["\u0275did"](84,671744,null,0,hn.NgModel,[[8,null],[8,null],[8,null],[6,hn.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,hn.NgControl,null,[hn.NgModel]),t["\u0275did"](86,16384,null,0,hn.NgControlStatus,[[4,hn.NgControl]],null,null),(n()(),t["\u0275eld"](87,0,null,0,2,"label",[["nz-radio-button",""],["nzValue","day"]],[[2,"ant-radio-button-wrapper",null],[2,"ant-radio-button-wrapper-checked",null],[2,"ant-radio-button-wrapper-disabled",null]],[[null,"click"]],function(n,l,e){var u=!0;return"click"===l&&(u=!1!==t["\u0275nov"](n,88).onClick(e)&&u),u},h.W,h.d)),t["\u0275did"](88,4308992,null,0,a.t,[[2,a.s],t.Renderer2,m.DOCUMENT],{nzValue:[0,"nzValue"]},null),(n()(),t["\u0275ted"](-1,0,["\u65e5"])),(n()(),t["\u0275eld"](90,0,null,0,2,"label",[["nz-radio-button",""],["nzValue","week"]],[[2,"ant-radio-button-wrapper",null],[2,"ant-radio-button-wrapper-checked",null],[2,"ant-radio-button-wrapper-disabled",null]],[[null,"click"]],function(n,l,e){var u=!0;return"click"===l&&(u=!1!==t["\u0275nov"](n,91).onClick(e)&&u),u},h.W,h.d)),t["\u0275did"](91,4308992,null,0,a.t,[[2,a.s],t.Renderer2,m.DOCUMENT],{nzValue:[0,"nzValue"]},null),(n()(),t["\u0275ted"](-1,0,["\u5468"])),(n()(),t["\u0275eld"](93,0,null,0,2,"label",[["nz-radio-button",""],["nzValue","month"]],[[2,"ant-radio-button-wrapper",null],[2,"ant-radio-button-wrapper-checked",null],[2,"ant-radio-button-wrapper-disabled",null]],[[null,"click"]],function(n,l,e){var u=!0;return"click"===l&&(u=!1!==t["\u0275nov"](n,94).onClick(e)&&u),u},h.W,h.d)),t["\u0275did"](94,4308992,null,0,a.t,[[2,a.s],t.Renderer2,m.DOCUMENT],{nzValue:[0,"nzValue"]},null),(n()(),t["\u0275ted"](-1,0,["\u6708"])),(n()(),t["\u0275eld"](96,0,null,null,2,"div",[["id","barID"],["style","height: 252px; width: 100%"]],null,null,null,null,null)),(n()(),t["\u0275eld"](97,0,null,null,1,"app-chart",[],null,null,null,v.b,v.a)),t["\u0275did"](98,245760,null,0,C.a,[],{option:[0,"option"]},null)],function(n,l){var e=l.component;n(l,11,0,e.transOverview),n(l,17,0,e.transOverview),n(l,23,0,e.transOverview),n(l,26,0,e.funnelChart),n(l,35,0,e.stepGranularity),n(l,39,0,"day"),n(l,42,0,"week"),n(l,45,0,"month"),n(l,51,0),n(l,55,0,e.selectedStep1),n(l,59,0,e.step1),n(l,63,0),n(l,67,0,e.selectedStep2),n(l,71,0,e.step2),n(l,76,0,e.stepChart),n(l,84,0,e.lastGranularity),n(l,88,0,"day"),n(l,91,0,"week"),n(l,94,0,"month"),n(l,98,0,e.lastChart)},function(n,l){n(l,32,1,[!0,t["\u0275nov"](l,33).isLarge,t["\u0275nov"](l,33).isSmall,t["\u0275nov"](l,33).isSolid,t["\u0275nov"](l,37).ngClassUntouched,t["\u0275nov"](l,37).ngClassTouched,t["\u0275nov"](l,37).ngClassPristine,t["\u0275nov"](l,37).ngClassDirty,t["\u0275nov"](l,37).ngClassValid,t["\u0275nov"](l,37).ngClassInvalid,t["\u0275nov"](l,37).ngClassPending]),n(l,38,0,!0,t["\u0275nov"](l,39).nzChecked,t["\u0275nov"](l,39).nzDisabled),n(l,41,0,!0,t["\u0275nov"](l,42).nzChecked,t["\u0275nov"](l,42).nzDisabled),n(l,44,0,!0,t["\u0275nov"](l,45).nzChecked,t["\u0275nov"](l,45).nzDisabled),n(l,50,1,[!0,"large"===t["\u0275nov"](l,51).nzSize,"small"===t["\u0275nov"](l,51).nzSize,!t["\u0275nov"](l,51).nzDisabled,t["\u0275nov"](l,51).nzDisabled,t["\u0275nov"](l,51).nzAllowClear,t["\u0275nov"](l,51).nzOpen,t["\u0275nov"](l,57).ngClassUntouched,t["\u0275nov"](l,57).ngClassTouched,t["\u0275nov"](l,57).ngClassPristine,t["\u0275nov"](l,57).ngClassDirty,t["\u0275nov"](l,57).ngClassValid,t["\u0275nov"](l,57).ngClassInvalid,t["\u0275nov"](l,57).ngClassPending]),n(l,62,1,[!0,"large"===t["\u0275nov"](l,63).nzSize,"small"===t["\u0275nov"](l,63).nzSize,!t["\u0275nov"](l,63).nzDisabled,t["\u0275nov"](l,63).nzDisabled,t["\u0275nov"](l,63).nzAllowClear,t["\u0275nov"](l,63).nzOpen,t["\u0275nov"](l,69).ngClassUntouched,t["\u0275nov"](l,69).ngClassTouched,t["\u0275nov"](l,69).ngClassPristine,t["\u0275nov"](l,69).ngClassDirty,t["\u0275nov"](l,69).ngClassValid,t["\u0275nov"](l,69).ngClassInvalid,t["\u0275nov"](l,69).ngClassPending]),n(l,81,1,[!0,t["\u0275nov"](l,82).isLarge,t["\u0275nov"](l,82).isSmall,t["\u0275nov"](l,82).isSolid,t["\u0275nov"](l,86).ngClassUntouched,t["\u0275nov"](l,86).ngClassTouched,t["\u0275nov"](l,86).ngClassPristine,t["\u0275nov"](l,86).ngClassDirty,t["\u0275nov"](l,86).ngClassValid,t["\u0275nov"](l,86).ngClassInvalid,t["\u0275nov"](l,86).ngClassPending]),n(l,87,0,!0,t["\u0275nov"](l,88).nzChecked,t["\u0275nov"](l,88).nzDisabled),n(l,90,0,!0,t["\u0275nov"](l,91).nzChecked,t["\u0275nov"](l,91).nzDisabled),n(l,93,0,!0,t["\u0275nov"](l,94).nzChecked,t["\u0275nov"](l,94).nzDisabled)})}function Xn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,10,"div",[["class","no-data"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,1,"div",[["class","pic-box"]],null,null,null,null,null)),(n()(),t["\u0275eld"](2,0,null,null,0,"img",[["alt",""],["src","/aeplus-pro/assets/images/unit-add.png"]],null,null,null,null,null)),(n()(),t["\u0275eld"](3,0,null,null,7,"div",[["class","funnel-add-btn-box"]],null,null,null,null,null)),(n()(),t["\u0275eld"](4,0,null,null,3,"div",[["class","new-build-btn"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.addFunnel()&&t),t},null,null)),(n()(),t["\u0275eld"](5,0,null,null,0,"span",[["class","iconfont icon-add1"]],null,null,null,null,null)),(n()(),t["\u0275eld"](6,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["\u65b0\u5efa\u6f0f\u6597"])),(n()(),t["\u0275eld"](8,0,null,null,0,"div",[["style","clear: both;"]],null,null,null,null,null)),(n()(),t["\u0275eld"](9,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["\u60a8\u8fd8\u672a\u65b0\u5efa\u4efb\u4f55\u6f0f\u6597\uff0c\u8bf7\u6dfb\u52a0\uff01"]))],null,null)}function qn(n){return t["\u0275vid"](0,[t["\u0275qud"](671088640,1,{addFunnelComponent:0}),(n()(),t["\u0275eld"](1,0,null,null,9,"main",[],null,null,null,null,null)),(n()(),t["\u0275eld"](2,16777216,null,null,2,"nz-modal",[["nzMaskClosable","false"],["nzWidth","722"]],null,[[null,"nzVisibleChange"],[null,"nzOnOk"],[null,"nzOnCancel"]],function(n,l,e){var t=!0,u=n.component;return"nzVisibleChange"===l&&(t=!1!==(u.isVisible=e)&&t),"nzOnOk"===l&&(t=!1!==u.saveFunnelStep()&&t),"nzOnCancel"===l&&(t=!1!==u.handleCancel()&&t),t},h.kb,h.R)),t["\u0275did"](3,4964352,null,0,a.Gd,[Mn.d,a.ae,t.Renderer2,t.ComponentFactoryResolver,t.ElementRef,t.ViewContainerRef,a.bc,a.Id,_n.a,a.Hd,m.DOCUMENT],{nzContent:[0,"nzContent"],nzVisible:[1,"nzVisible"],nzWidth:[2,"nzWidth"],nzTitle:[3,"nzTitle"],nzMaskClosable:[4,"nzMaskClosable"]},{nzVisibleChange:"nzVisibleChange",nzOnOk:"nzOnOk",nzOnCancel:"nzOnCancel"}),(n()(),t["\u0275and"](0,[["modalContent",2]],0,0,null,Tn)),(n()(),t["\u0275and"](16777216,null,null,1,null,Ln)),t["\u0275did"](6,16384,null,0,m.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,Wn)),t["\u0275did"](8,16384,null,0,m.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,Xn)),t["\u0275did"](10,16384,null,0,m.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){var e=l.component;n(l,3,0,t["\u0275nov"](l,4),e.isVisible,"722",e.modalTitle,"false"),n(l,6,0,e.showTrendCharts),n(l,8,0,e.showTrendCharts),n(l,10,0,!e.showTrendCharts)},null)}var Bn=t["\u0275ccf"]("app-funnel-analysis",Dn,function(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"app-funnel-analysis",[],null,null,null,qn,Nn)),t["\u0275prd"](512,null,Cn,Cn,[t.Injector]),t["\u0275did"](2,638976,null,0,Dn,[Cn,t.Injector],null,null)],function(n,l){n(l,2,0)},null)},{},{},[]),Kn=function(n){function l(l){var e=n.call(this,l)||this;return e.injector=l,e.queryUrl="/marketing-api/report/reportRels",e}return Object(b.__extends)(l,n),l.prototype.getCampaignInfo=function(n){return this.http.get("/marketing-api/campaign/campaigns/"+n).pipe(Object(vn.a)(this.handleError))},l.prototype.getSavedReport=function(n){return this.http.get(this.queryUrl+"?campaignId="+n).pipe(Object(vn.a)(this.handleError))},l.prototype.getTemplates=function(n){var l=this.getParams(n);return this.http.get(this.queryUrl+"/queryFormsFromApi"+l).pipe(Object(vn.a)(this.handleError))},l.prototype.saveSelectReport=function(n){return this.http.post(""+this.queryUrl,n).pipe(Object(vn.a)(this.handleError))},l.prototype.deleteSavedReport=function(n){return this.http.delete(this.queryUrl+"/"+n).pipe(Object(vn.a)(this.handleError))},l}(x.a),Hn=function(n){function l(l,e,t){var u=n.call(this,t)||this;u.effectReportService=l,u.domSanitizer=e,u.injector=t,u.campaignInfo={},u.showType=1,u.isVisible=!1,u.modalTitle="\u6dfb\u52a0\u62a5\u8868",u.reportTemplateList=[],u.pageIndex=1,u.pageSize=10,u.tabs=[];var o=u.route.snapshot.params.campaignId;return o&&(u.campaignId=parseInt(o)),u}return Object(b.__extends)(l,n),l.prototype.ngOnInit=function(){return n=this,void 0,e=function(){return function(n,l){var e,t,u,o,a={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(e)throw new TypeError("Generator is already executing.");for(;a;)try{if(e=1,t&&(u=2&o[0]?t.return:o[0]?t.throw||((u=t.return)&&u.call(t),0):t.next)&&!(u=u.call(t,o[1])).done)return u;switch(t=0,u&&(o=[2&o[0],u.value]),o[0]){case 0:case 1:u=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,t=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(u=(u=a.trys).length>0&&u[u.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!u||o[1]>u[0]&&o[1]<u[3])){a.label=o[1];break}if(6===o[0]&&a.label<u[1]){a.label=u[1],u=o;break}if(u&&a.label<u[2]){a.label=u[2],a.ops.push(o);break}u[2]&&a.ops.pop(),a.trys.pop();continue}o=l.call(n,a)}catch(n){o=[6,n],t=0}finally{e=u=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}}(this,function(n){switch(n.label){case 0:return this.reportDefaultUrl=localStorage.getItem("user_group_report_url"),[4,this.getCampaignInfo()];case 1:return n.sent(),this.getConfigReportList(),[2]}})},new((l=void 0)||(l=Promise))(function(t,u){function o(n){try{i(e.next(n))}catch(n){u(n)}}function a(n){try{i(e.throw(n))}catch(n){u(n)}}function i(n){n.done?t(n.value):new l(function(l){l(n.value)}).then(o,a)}i((e=e.apply(n,[])).next())});var n,l,e},l.prototype.getCampaignInfo=function(){var n=this;return new Promise(function(l,e){n.effectReportService.getCampaignInfo(n.campaignId).subscribe(function(t){200!=t.code&&(n.notification.create("warning","\u9519\u8bef\u63d0\u793a",t.message),e()),n.campaignInfo=t.data,l()})})},l.prototype.createDialogShow=function(){this.isVisible=!0,this.reportTableLoading=!0,this.getReportTemplateList()},l.prototype.getReportTemplateList=function(){var n=this,l={page:n.pageIndex,pageSize:n.pageSize};n.reportName&&(l.name=n.reportName),n.effectReportService.getTemplates(l).subscribe(function(l){n.reportTableLoading=!1,200===l.code&&(n.reportTemplateList=l.data.data,n.reportTemplateTotal=l.data.total)},function(n){})},l.prototype.getConfigReportList=function(){var n=this,l=this;l.effectReportService.getSavedReport(this.campaignId).subscribe(function(e){if(l.tabs=[],200===e.code){var t=e.data.data;t.forEach(function(e){e.src=l.domSanitizer.bypassSecurityTrustResourceUrl(l.reportDefaultUrl+"/studio/#/publish/"+e.formId+"?campaignId="+l.campaignId+"&tenantId="+l.campaignInfo.tenantId+"&startDate="+l.campaignInfo.startTime.substring(0,10)+"&endDate="+l.campaignInfo.endTime.substring(0,10)+"&product_id="+l.productId+"&token="+localStorage.getItem("token")),e.formId===parseInt(l.lstFormId)&&(l.iframeUrl=e.src,n.showIframe=!1,n.showType=3,setTimeout(function(){n.showIframe=!0},1))}),l.tabs=t}})},l.prototype.changeReportPage=function(n){this.reportTableLoading=!0,this.getReportTemplateList()},l.prototype.fliterReport=function(n){13===n.keyCode&&(this.reportTableLoading=!0,this.getReportTemplateList())},l.prototype.selectReport=function(){var n=this,l=this,e={campaignId:l.campaignId,formId:l.selectReportId};l.effectReportService.saveSelectReport(e).subscribe(function(t){200==t.code?(l.lstFormId=e.formId,l.getConfigReportList(),l.hideReportDialog(),setTimeout(function(){l.src=l.reportDefaultUrl+"/studio/#/publish/"+t.formId+"?campaignId="+l.campaignId,l.setIframeHeight()},0)):n.notification.create("warning","\u9519\u8bef\u63d0\u793a",t.message)})},l.prototype.hideReportDialog=function(){this.isVisible=!1,this.reportName="",this.selectReportId=null},l.prototype.setIframeHeight=function(){var n=document.body.offsetHeight-65;n-=40,n-=60,n-=50,n-=35,document.getElementById("tdReportIframe")&&(document.getElementById("tdReportIframe").style.height=n+"px")},l.prototype.closeTab=function(n,l){var e=this;l.stopPropagation();var t=this;t.modalService.confirm({nzTitle:"\u63d0\u793a",nzContent:'\u786e\u5b9a\u8981\u5220\u9664\u62a5\u8868"'+n.name+'"\uff1f',nzOnOk:function(){t.showType>2&&n.src===t.iframeUrl&&t.clcikTab(1),t.effectReportService.deleteSavedReport(n.id).subscribe(function(n){200===n.code?(e.notification.create("success","\u63d0\u793a","\u64cd\u4f5c\u6210\u529f"),t.getConfigReportList()):e.notification.create("warning","\u9519\u8bef\u63d0\u793a",n.message)})}})},l.prototype.clcikTab=function(n){this.showType=n},l.prototype.clcikCustomReportTab=function(n){var l=this;this.showType=3,this.showIframe=!1,this.iframeUrl=n.src,setTimeout(function(){l.showIframe=!0},1)},l}(y.a),Yn=e("ZYjt"),Zn=t["\u0275crt"]({encapsulation:0,styles:[["main[_ngcontent-%COMP%]{height:calc(100% - 58px)}.header-content[_ngcontent-%COMP%]{height:47px;border-bottom:none}.header-content[_ngcontent-%COMP%]   .tab-list[_ngcontent-%COMP%]{display:inline-block}.header-content[_ngcontent-%COMP%]   .add-report-div[_ngcontent-%COMP%]{display:inline-block;vertical-align:top}.header-content[_ngcontent-%COMP%]   .add-report-div[_ngcontent-%COMP%]   .add-report[_ngcontent-%COMP%]{margin-right:16px;line-height:45px;cursor:pointer;font-family:PingFangSC-Regular;font-size:14px;color:rgba(23,35,61,.55)}.loading[_ngcontent-%COMP%]{height:calc(100% - 92px);text-align:center;border-radius:4px;padding:16px;position:relative}[_nghost-%COMP%]     .ant-tabs-bar{background:#fff;padding-left:16px;margin-bottom:0}"]],data:{}});function Jn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"li",[["nz-menu-item",""]],[[2,"ant-dropdown-menu-item",null],[2,"ant-menu-item",null],[2,"ant-dropdown-menu-item-disabled",null],[2,"ant-menu-item-disabled",null],[4,"padding-left","px"]],[[null,"click"]],function(n,l,e){var u=!0,o=n.component;return"click"===l&&(u=!1!==t["\u0275nov"](n,1).onClickItem(e)&&u),"click"===l&&(u=!1!==o.clcikCustomReportTab(n.context.$implicit)&&u),u},null,null)),t["\u0275did"](1,81920,null,0,a.O,[t.Renderer2,t.ChangeDetectorRef,a.N,[2,a.P],t.ElementRef],{nzSelected:[0,"nzSelected"]},null),(n()(),t["\u0275ted"](2,null,[" "," "])),(n()(),t["\u0275eld"](3,0,null,null,0,"span",[["class","ant-compat anticon anticon-close"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.closeTab(n.context.$implicit,e)&&t),t},null,null))],function(n,l){var e=l.component;n(l,1,0,3==e.showType&&l.context.$implicit.src==e.iframeUrl)},function(n,l){n(l,0,0,t["\u0275nov"](l,1).isInDropDownClass,t["\u0275nov"](l,1).isNotInDropDownClass,t["\u0275nov"](l,1).setDropDownDisableClass,t["\u0275nov"](l,1).setMenuDisableClass,t["\u0275nov"](l,1).setPaddingLeft),n(l,2,0,l.context.$implicit.name)})}function Qn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"span",[["class","add-report"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.createDialogShow()&&t),t},null,null)),(n()(),t["\u0275eld"](1,0,null,null,0,"span",[["class","ant-compat anticon anticon-plus"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["\u6dfb\u52a0\u62a5\u8868"]))],null,null)}function nl(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"app-target-achievement",[],null,null,null,fn,R)),t["\u0275prd"](512,null,w,w,[t.Injector]),t["\u0275did"](2,638976,null,0,O,[w,t.Injector],{campaignName:[0,"campaignName"]},null)],function(n,l){n(l,2,0,l.component.campaignInfo.name)},null)}function ll(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"app-funnel-analysis",[],null,null,null,qn,Nn)),t["\u0275prd"](512,null,Cn,Cn,[t.Injector]),t["\u0275did"](2,638976,null,0,Dn,[Cn,t.Injector],null,null)],function(n,l){n(l,2,0)},null)}function el(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,0,"iframe",[["height","100%"],["id","tdReportIframe"],["name","tdReportIframe"],["style","position: relative; border: none;"],["title",""],["width","100%"]],[[8,"src",5]],null,null,null,null))],null,function(n,l){n(l,0,0,l.component.iframeUrl)})}function tl(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,4,"div",[["class","loading"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,1,"nz-spin",[["style","position: absolute; left: 50%; top: 50%;"]],null,null,null,h.Pa,h.w)),t["\u0275did"](2,4243456,null,0,a.vb,[t.ElementRef,t.Renderer2,t.NgZone],null,null),(n()(),t["\u0275and"](16777216,null,null,1,null,el)),t["\u0275did"](4,16384,null,0,m.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){var e=l.component;n(l,4,0,e.iframeUrl&&e.showIframe)},null)}function ul(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,16,"tr",[],[[2,"ant-table-row",null]],null,null,null,null)),t["\u0275did"](1,16384,null,0,a.gc,[t.ElementRef,t.Renderer2,[2,a.Zb]],null,null),(n()(),t["\u0275eld"](2,0,null,null,8,"td",[["nzWidth","100px"]],null,null,null,h.Xa,h.E)),t["\u0275did"](3,49152,null,0,a.cc,[t.ElementRef,t.Renderer2],null,null),(n()(),t["\u0275eld"](4,0,null,0,6,"input",[["name","sleectReport"],["type","radio"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,l,e){var u=!0,o=n.component;return"input"===l&&(u=!1!==t["\u0275nov"](n,5)._handleInput(e.target.value)&&u),"blur"===l&&(u=!1!==t["\u0275nov"](n,5).onTouched()&&u),"compositionstart"===l&&(u=!1!==t["\u0275nov"](n,5)._compositionStart()&&u),"compositionend"===l&&(u=!1!==t["\u0275nov"](n,5)._compositionEnd(e.target.value)&&u),"change"===l&&(u=!1!==t["\u0275nov"](n,6).onChange()&&u),"blur"===l&&(u=!1!==t["\u0275nov"](n,6).onTouched()&&u),"ngModelChange"===l&&(u=!1!==(o.selectReportId=e)&&u),u},null,null)),t["\u0275did"](5,16384,null,0,hn.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,hn.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275did"](6,212992,null,0,hn.RadioControlValueAccessor,[t.Renderer2,t.ElementRef,hn["\u0275angular_packages_forms_forms_i"],t.Injector],{name:[0,"name"],value:[1,"value"]},null),t["\u0275prd"](1024,null,hn.NG_VALUE_ACCESSOR,function(n,l){return[n,l]},[hn.DefaultValueAccessor,hn.RadioControlValueAccessor]),t["\u0275did"](8,671744,null,0,hn.NgModel,[[8,null],[8,null],[8,null],[6,hn.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,hn.NgControl,null,[hn.NgModel]),t["\u0275did"](10,16384,null,0,hn.NgControlStatus,[[4,hn.NgControl]],null,null),(n()(),t["\u0275eld"](11,0,null,null,2,"td",[["nzWidth","400px"]],null,null,null,h.Xa,h.E)),t["\u0275did"](12,49152,null,0,a.cc,[t.ElementRef,t.Renderer2],null,null),(n()(),t["\u0275ted"](13,0,["",""])),(n()(),t["\u0275eld"](14,0,null,null,2,"td",[["nzWidth","600px"]],null,null,null,h.Xa,h.E)),t["\u0275did"](15,49152,null,0,a.cc,[t.ElementRef,t.Renderer2],null,null),(n()(),t["\u0275ted"](16,0,["",""]))],function(n,l){var e=l.component;n(l,6,0,"sleectReport",t["\u0275inlineInterpolate"](1,"",l.context.$implicit.id,"")),n(l,8,0,"sleectReport",e.selectReportId)},function(n,l){n(l,0,0,t["\u0275nov"](l,1).nzTableComponent),n(l,4,0,t["\u0275nov"](l,10).ngClassUntouched,t["\u0275nov"](l,10).ngClassTouched,t["\u0275nov"](l,10).ngClassPristine,t["\u0275nov"](l,10).ngClassDirty,t["\u0275nov"](l,10).ngClassValid,t["\u0275nov"](l,10).ngClassInvalid,t["\u0275nov"](l,10).ngClassPending),n(l,13,0,l.context.$implicit.name),n(l,16,0,l.context.$implicit.description)})}function ol(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,0,"div",[["class","first-level"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,58,"main",[],null,null,null,null,null)),(n()(),t["\u0275eld"](2,0,null,null,1,"div",[["class","common-title"],["style","border-bottom: none; background: #FFFFFF; font-size: 16px;"]],null,null,null,null,null)),(n()(),t["\u0275ted"](3,null,[" "," "])),(n()(),t["\u0275eld"](4,0,null,null,14,"div",[["class","header-content"]],null,null,null,null,null)),(n()(),t["\u0275eld"](5,0,null,null,10,"div",[["class","tab-list"]],null,null,null,null,null)),(n()(),t["\u0275eld"](6,0,null,null,9,"ul",[["nz-menu",""],["nzSelectable",""]],[[2,"ant-dropdown-menu",null],[2,"ant-menu-dropdown-vertical",null],[2,"ant-dropdown-menu-root",null],[2,"ant-menu",null],[2,"ant-menu-root",null],[2,"ant-dropdown-menu-light",null],[2,"ant-dropdown-menu-dark",null],[2,"ant-menu-light",null],[2,"ant-menu-dark",null],[2,"ant-menu-vertical",null],[2,"ant-menu-horizontal",null],[2,"ant-menu-inline",null],[2,"ant-menu-inline-collapsed",null]],null,null,null,null)),t["\u0275did"](7,1064960,null,0,a.N,[t.ElementRef],{nzMode:[0,"nzMode"],nzSelectable:[1,"nzSelectable"]},null),(n()(),t["\u0275eld"](8,0,null,null,2,"li",[["nz-menu-item",""]],[[2,"ant-dropdown-menu-item",null],[2,"ant-menu-item",null],[2,"ant-dropdown-menu-item-disabled",null],[2,"ant-menu-item-disabled",null],[4,"padding-left","px"]],[[null,"click"]],function(n,l,e){var u=!0,o=n.component;return"click"===l&&(u=!1!==t["\u0275nov"](n,9).onClickItem(e)&&u),"click"===l&&(u=!1!==o.clcikTab(1)&&u),u},null,null)),t["\u0275did"](9,81920,null,0,a.O,[t.Renderer2,t.ChangeDetectorRef,a.N,[2,a.P],t.ElementRef],{nzSelected:[0,"nzSelected"]},null),(n()(),t["\u0275ted"](-1,null,[" \u76ee\u6807\u8fbe\u6210 "])),(n()(),t["\u0275eld"](11,0,null,null,2,"li",[["nz-menu-item",""]],[[2,"ant-dropdown-menu-item",null],[2,"ant-menu-item",null],[2,"ant-dropdown-menu-item-disabled",null],[2,"ant-menu-item-disabled",null],[4,"padding-left","px"]],[[null,"click"]],function(n,l,e){var u=!0,o=n.component;return"click"===l&&(u=!1!==t["\u0275nov"](n,12).onClickItem(e)&&u),"click"===l&&(u=!1!==o.clcikTab(2)&&u),u},null,null)),t["\u0275did"](12,81920,null,0,a.O,[t.Renderer2,t.ChangeDetectorRef,a.N,[2,a.P],t.ElementRef],{nzSelected:[0,"nzSelected"]},null),(n()(),t["\u0275ted"](-1,null,[" \u6f0f\u6597\u5206\u6790 "])),(n()(),t["\u0275and"](16777216,null,null,1,null,Jn)),t["\u0275did"](15,278528,null,0,m.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),t["\u0275eld"](16,0,null,null,2,"div",[["class","add-report-div"]],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,Qn)),t["\u0275did"](18,16384,null,0,m.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,nl)),t["\u0275did"](20,16384,null,0,m.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,ll)),t["\u0275did"](22,16384,null,0,m.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,tl)),t["\u0275did"](24,16384,null,0,m.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](25,16777216,null,null,34,"nz-modal",[["nzMaskClosable","false"],["nzWidth","800"]],null,[[null,"nzVisibleChange"],[null,"nzOnOk"],[null,"nzOnCancel"]],function(n,l,e){var t=!0,u=n.component;return"nzVisibleChange"===l&&(t=!1!==(u.isVisible=e)&&t),"nzOnOk"===l&&(t=!1!==u.selectReport()&&t),"nzOnCancel"===l&&(t=!1!==u.hideReportDialog()&&t),t},h.kb,h.R)),t["\u0275did"](26,4964352,null,0,a.Gd,[Mn.d,a.ae,t.Renderer2,t.ComponentFactoryResolver,t.ElementRef,t.ViewContainerRef,a.bc,a.Id,_n.a,a.Hd,m.DOCUMENT],{nzVisible:[0,"nzVisible"],nzWidth:[1,"nzWidth"],nzStyle:[2,"nzStyle"],nzTitle:[3,"nzTitle"],nzMaskClosable:[4,"nzMaskClosable"]},{nzVisibleChange:"nzVisibleChange",nzOnOk:"nzOnOk",nzOnCancel:"nzOnCancel"}),t["\u0275pod"](27,{top:0}),(n()(),t["\u0275eld"](28,0,null,0,31,"div",[["class","report-content"]],null,null,null,null,null)),(n()(),t["\u0275eld"](29,0,null,null,9,"nz-input-group",[["nzSuffixIcon","anticon anticon-search"],["style","width: 240px; margin-bottom: 16px;"]],[[2,"ant-input-group-compact",null],[2,"ant-input-search-enter-button",null],[2,"ant-input-search",null],[2,"ant-input-affix-wrapper",null],[2,"ant-input-group-wrapper",null],[2,"ant-input-group",null],[2,"ant-input-group-lg",null],[2,"ant-input-group-wrapper-lg",null],[2,"ant-input-affix-wrapper-lg",null],[2,"ant-input-search-lg",null],[2,"ant-input-group-sm",null],[2,"ant-input-affix-wrapper-sm",null],[2,"ant-input-group-wrapper-sm",null],[2,"ant-input-search-sm",null]],null,null,h.Ia,h.p)),t["\u0275did"](30,1097728,null,1,a.Xa,[t.ElementRef],{nzSuffixIcon:[0,"nzSuffixIcon"]},null),t["\u0275qud"](603979776,1,{nzInputDirectiveQueryList:1}),(n()(),t["\u0275eld"](32,0,null,0,6,"input",[["nz-input",""],["placeholder","\u8f93\u5165\u5173\u952e\u5b57\u641c\u7d22"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ant-input",null],[2,"ant-input-disabled",null],[2,"ant-input-lg",null],[2,"ant-input-sm",null]],[[null,"ngModelChange"],[null,"keyup"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,e){var u=!0,o=n.component;return"input"===l&&(u=!1!==t["\u0275nov"](n,33)._handleInput(e.target.value)&&u),"blur"===l&&(u=!1!==t["\u0275nov"](n,33).onTouched()&&u),"compositionstart"===l&&(u=!1!==t["\u0275nov"](n,33)._compositionStart()&&u),"compositionend"===l&&(u=!1!==t["\u0275nov"](n,33)._compositionEnd(e.target.value)&&u),"input"===l&&(u=!1!==t["\u0275nov"](n,38).textAreaOnChange()&&u),"ngModelChange"===l&&(u=!1!==(o.reportName=e)&&u),"keyup"===l&&(u=!1!==o.fliterReport(e)&&u),u},null,null)),t["\u0275did"](33,16384,null,0,hn.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,hn.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,hn.NG_VALUE_ACCESSOR,function(n){return[n]},[hn.DefaultValueAccessor]),t["\u0275did"](35,671744,null,0,hn.NgModel,[[8,null],[8,null],[8,null],[6,hn.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,hn.NgControl,null,[hn.NgModel]),t["\u0275did"](37,16384,null,0,hn.NgControlStatus,[[4,hn.NgControl]],null,null),t["\u0275did"](38,4472832,[[1,4]],0,a.Wa,[t.ElementRef,t.Renderer2,[2,hn.NgModel],[6,hn.NgControl]],null,null),(n()(),t["\u0275eld"](39,0,null,null,20,"nz-table",[],null,[[null,"nzTotalChange"],[null,"nzPageIndexChange"],[null,"nzPageSizeChange"],["window","resize"]],function(n,l,e){var u=!0,o=n.component;return"window:resize"===l&&(u=!1!==t["\u0275nov"](n,40).onWindowResize()&&u),"nzTotalChange"===l&&(u=!1!==(o.reportTemplateTotal=e)&&u),"nzPageIndexChange"===l&&(u=!1!==(o.pageIndex=e)&&u),"nzPageIndexChange"===l&&(u=!1!==o.changeReportPage(e)&&u),"nzPageSizeChange"===l&&(u=!1!==(o.pageSize=e)&&u),u},h.Va,h.C)),t["\u0275did"](40,4440064,[["nzTable",4]],1,a.Zb,[t.Renderer2,t.NgZone,t.ElementRef,t.ChangeDetectorRef,a.bc,a.ae],{nzTotal:[0,"nzTotal"],nzFrontPagination:[1,"nzFrontPagination"],nzLoading:[2,"nzLoading"],nzData:[3,"nzData"],nzPageIndex:[4,"nzPageIndex"],nzPageSize:[5,"nzPageSize"]},{nzPageSizeChange:"nzPageSizeChange",nzPageIndexChange:"nzPageIndexChange"}),t["\u0275qud"](603979776,2,{listOfNzThComponent:1}),(n()(),t["\u0275eld"](42,0,null,0,13,"thead",[],null,null,null,h.Ya,h.F)),t["\u0275did"](43,1228800,null,1,a.dc,[[2,a.Zb]],null,null),t["\u0275qud"](603979776,3,{listOfNzThComponent:1}),(n()(),t["\u0275eld"](45,0,null,0,10,"tr",[],[[2,"ant-table-row",null]],null,null,null,null)),t["\u0275did"](46,16384,null,0,a.gc,[t.ElementRef,t.Renderer2,[2,a.Zb]],null,null),(n()(),t["\u0275eld"](47,0,null,null,2,"th",[],[[2,"ant-table-column-has-actions",null],[2,"ant-table-column-has-filters",null],[2,"ant-table-column-has-sorters",null]],null,null,h.Wa,h.D)),t["\u0275did"](48,49152,[[3,4],[2,4]],0,a.ac,[t.ElementRef,t.Renderer2],null,null),(n()(),t["\u0275ted"](-1,0,["\u9009\u62e9"])),(n()(),t["\u0275eld"](50,0,null,null,2,"th",[],[[2,"ant-table-column-has-actions",null],[2,"ant-table-column-has-filters",null],[2,"ant-table-column-has-sorters",null]],null,null,h.Wa,h.D)),t["\u0275did"](51,49152,[[3,4],[2,4]],0,a.ac,[t.ElementRef,t.Renderer2],null,null),(n()(),t["\u0275ted"](-1,0,["\u540d\u79f0"])),(n()(),t["\u0275eld"](53,0,null,null,2,"th",[],[[2,"ant-table-column-has-actions",null],[2,"ant-table-column-has-filters",null],[2,"ant-table-column-has-sorters",null]],null,null,h.Wa,h.D)),t["\u0275did"](54,49152,[[3,4],[2,4]],0,a.ac,[t.ElementRef,t.Renderer2],null,null),(n()(),t["\u0275ted"](-1,0,["\u63cf\u8ff0"])),(n()(),t["\u0275eld"](56,0,null,0,3,"tbody",[],[[2,"ant-table-tbody",null]],null,null,null,null)),t["\u0275did"](57,16384,null,0,a.fc,[[2,a.Zb]],null,null),(n()(),t["\u0275and"](16777216,null,null,1,null,ul)),t["\u0275did"](59,278528,null,0,m.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(n,l){var e=l.component;n(l,7,0,"horizontal",""),n(l,9,0,1==e.showType),n(l,12,0,2==e.showType),n(l,15,0,e.tabs),n(l,18,0,e.tabs.length<3),n(l,20,0,1==e.showType),n(l,22,0,2==e.showType),n(l,24,0,e.showType>2),n(l,26,0,e.isVisible,"800",n(l,27,0,"75px"),e.modalTitle,"false"),n(l,30,0,"anticon anticon-search"),n(l,35,0,e.reportName),n(l,38,0),n(l,40,0,e.reportTemplateTotal,!1,e.reportTableLoading,e.reportTemplateList,e.pageIndex,e.pageSize),n(l,59,0,t["\u0275nov"](l,40).data)},function(n,l){n(l,3,0,l.component.campaignInfo.name),n(l,6,1,[t["\u0275nov"](l,7).isInDropDownClass,t["\u0275nov"](l,7).isInDropDownClass,t["\u0275nov"](l,7).isInDropDownClass,t["\u0275nov"](l,7).isNotInDropDownClass,t["\u0275nov"](l,7).isNotInDropDownClass,t["\u0275nov"](l,7).setDropDownThemeLightClass,t["\u0275nov"](l,7).setDropDownThemeDarkClass,t["\u0275nov"](l,7).setMenuThemeLightClass,t["\u0275nov"](l,7).setMenuThemeDarkClass,t["\u0275nov"](l,7).setMenuVerticalClass,t["\u0275nov"](l,7).setMenuHorizontalClass,t["\u0275nov"](l,7).setMenuInlineClass,t["\u0275nov"](l,7).setMenuInlineCollapsedClass]),n(l,8,0,t["\u0275nov"](l,9).isInDropDownClass,t["\u0275nov"](l,9).isNotInDropDownClass,t["\u0275nov"](l,9).setDropDownDisableClass,t["\u0275nov"](l,9).setMenuDisableClass,t["\u0275nov"](l,9).setPaddingLeft),n(l,11,0,t["\u0275nov"](l,12).isInDropDownClass,t["\u0275nov"](l,12).isNotInDropDownClass,t["\u0275nov"](l,12).setDropDownDisableClass,t["\u0275nov"](l,12).setMenuDisableClass,t["\u0275nov"](l,12).setPaddingLeft),n(l,29,1,[t["\u0275nov"](l,30).nzCompact,t["\u0275nov"](l,30).nzSearch,t["\u0275nov"](l,30).nzSearch,t["\u0275nov"](l,30).isAffixWrapper,t["\u0275nov"](l,30).isAddOn,t["\u0275nov"](l,30).isGroup,t["\u0275nov"](l,30).isLargeGroup,t["\u0275nov"](l,30).isLargeGroupWrapper,t["\u0275nov"](l,30).isLargeAffix,t["\u0275nov"](l,30).isLargeSearch,t["\u0275nov"](l,30).isSmallGroup,t["\u0275nov"](l,30).isSmallAffix,t["\u0275nov"](l,30).isSmallGroupWrapper,t["\u0275nov"](l,30).isSmallSearch]),n(l,32,1,[t["\u0275nov"](l,37).ngClassUntouched,t["\u0275nov"](l,37).ngClassTouched,t["\u0275nov"](l,37).ngClassPristine,t["\u0275nov"](l,37).ngClassDirty,t["\u0275nov"](l,37).ngClassValid,t["\u0275nov"](l,37).ngClassInvalid,t["\u0275nov"](l,37).ngClassPending,!0,t["\u0275nov"](l,38).disabled,t["\u0275nov"](l,38).setLgClass,t["\u0275nov"](l,38).setSmClass]),n(l,45,0,t["\u0275nov"](l,46).nzTableComponent),n(l,47,0,t["\u0275nov"](l,48).hasActionsClass,t["\u0275nov"](l,48).hasFiltersClass,t["\u0275nov"](l,48).hasSortersClass),n(l,50,0,t["\u0275nov"](l,51).hasActionsClass,t["\u0275nov"](l,51).hasFiltersClass,t["\u0275nov"](l,51).hasSortersClass),n(l,53,0,t["\u0275nov"](l,54).hasActionsClass,t["\u0275nov"](l,54).hasFiltersClass,t["\u0275nov"](l,54).hasSortersClass),n(l,56,0,t["\u0275nov"](l,57).nzTableComponent)})}var al=t["\u0275ccf"]("app-effect-report",Hn,function(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-effect-report",[],null,null,null,ol,Zn)),t["\u0275did"](1,638976,null,0,Hn,[Kn,Yn.c,t.Injector],null,null)],function(n,l){n(l,1,0)},null)},{},{},[]),il=e("UGe0"),rl=e("iBNk"),dl=e("yTlV"),sl=e("M2Lx"),cl=e("Fzqc"),pl=e("ZYCi"),gl=function(){},fl=e("QS8O"),ml=e("dWZg"),hl=e("4c35"),vl=e("qAlS"),Cl=e("YXp7"),bl=e("JWgq"),xl=e("Oy2E"),wl=e("/87+"),yl=e("Uq+U"),Ol=e("YBgk"),Rl=e("VLx2"),Il=e("LQWt"),zl=e("28Xg");e.d(l,"EffectReportModuleNgFactory",function(){return Sl});var Sl=t["\u0275cmf"](u,[],function(n){return t["\u0275mod"]([t["\u0275mpd"](512,t.ComponentFactoryResolver,t["\u0275CodegenComponentFactoryResolver"],[[8,[o.a,al,mn,Bn,h.mb,h.nb,h.ob,h.pb,h.qb,h.rb,h.sb,h.tb,il.a,rl.a,dl.a]],[3,t.ComponentFactoryResolver],t.NgModuleRef]),t["\u0275mpd"](4608,m.NgLocalization,m.NgLocaleLocalization,[t.LOCALE_ID,[2,m["\u0275angular_packages_common_common_a"]]]),t["\u0275mpd"](4608,hn["\u0275angular_packages_forms_forms_i"],hn["\u0275angular_packages_forms_forms_i"],[]),t["\u0275mpd"](4608,sl.c,sl.c,[]),t["\u0275mpd"](5120,a.de,a.fe,[[3,a.de],a.ee]),t["\u0275mpd"](4608,m.DatePipe,m.DatePipe,[t.LOCALE_ID]),t["\u0275mpd"](5120,a.ae,a.be,[[3,a.ae],a.ce,a.de,m.DatePipe]),t["\u0275mpd"](4608,Mn.d,Mn.d,[Mn.k,Mn.f,t.ComponentFactoryResolver,Mn.i,Mn.g,t.Injector,t.NgZone,m.DOCUMENT,cl.b]),t["\u0275mpd"](5120,Mn.l,Mn.m,[Mn.d]),t["\u0275mpd"](5120,a.Y,a.Z,[m.DOCUMENT,[3,a.Y]]),t["\u0275mpd"](4608,a.Ma,a.Ma,[]),t["\u0275mpd"](4608,a.gb,a.gb,[]),t["\u0275mpd"](4608,a.Oc,a.Oc,[Mn.d]),t["\u0275mpd"](4608,a.sd,a.sd,[Mn.d,t.Injector,t.ComponentFactoryResolver,t.ApplicationRef]),t["\u0275mpd"](4608,a.zd,a.zd,[Mn.d,t.Injector,t.ComponentFactoryResolver,t.ApplicationRef]),t["\u0275mpd"](4608,a.Id,a.Id,[[3,a.Id]]),t["\u0275mpd"](4608,a.Kd,a.Kd,[Mn.d,a.de,a.Id]),t["\u0275mpd"](4608,d.a,d.a,[t.Injector]),t["\u0275mpd"](4608,Kn,Kn,[t.Injector]),t["\u0275mpd"](1073742336,m.CommonModule,m.CommonModule,[]),t["\u0275mpd"](1073742336,pl.q,pl.q,[[2,pl.w],[2,pl.n]]),t["\u0275mpd"](1073742336,gl,gl,[]),t["\u0275mpd"](1073742336,hn["\u0275angular_packages_forms_forms_bb"],hn["\u0275angular_packages_forms_forms_bb"],[]),t["\u0275mpd"](1073742336,hn.FormsModule,hn.FormsModule,[]),t["\u0275mpd"](1073742336,fl.a,fl.a,[]),t["\u0275mpd"](1073742336,sl.d,sl.d,[]),t["\u0275mpd"](1073742336,ml.b,ml.b,[]),t["\u0275mpd"](1073742336,a.dd,a.dd,[]),t["\u0275mpd"](1073742336,a.Vd,a.Vd,[]),t["\u0275mpd"](1073742336,a.l,a.l,[]),t["\u0275mpd"](1073742336,a.o,a.o,[]),t["\u0275mpd"](1073742336,a.n,a.n,[]),t["\u0275mpd"](1073742336,a.q,a.q,[]),t["\u0275mpd"](1073742336,cl.a,cl.a,[]),t["\u0275mpd"](1073742336,hl.e,hl.e,[]),t["\u0275mpd"](1073742336,vl.a,vl.a,[]),t["\u0275mpd"](1073742336,Mn.h,Mn.h,[]),t["\u0275mpd"](1073742336,a.u,a.u,[]),t["\u0275mpd"](1073742336,a.Yd,a.Yd,[]),t["\u0275mpd"](1073742336,a.E,a.E,[]),t["\u0275mpd"](1073742336,a.J,a.J,[]),t["\u0275mpd"](1073742336,a.L,a.L,[]),t["\u0275mpd"](1073742336,a.U,a.U,[]),t["\u0275mpd"](1073742336,a.Ba,a.Ba,[]),t["\u0275mpd"](1073742336,a.W,a.W,[]),t["\u0275mpd"](1073742336,a.Da,a.Da,[]),t["\u0275mpd"](1073742336,a.Fa,a.Fa,[]),t["\u0275mpd"](1073742336,a.Na,a.Na,[]),t["\u0275mpd"](1073742336,a.Qa,a.Qa,[]),t["\u0275mpd"](1073742336,a.Sa,a.Sa,[]),t["\u0275mpd"](1073742336,a.Va,a.Va,[]),t["\u0275mpd"](1073742336,a.Ya,a.Ya,[]),t["\u0275mpd"](1073742336,a.cb,a.cb,[]),t["\u0275mpd"](1073742336,a.lb,a.lb,[]),t["\u0275mpd"](1073742336,a.eb,a.eb,[]),t["\u0275mpd"](1073742336,a.ob,a.ob,[]),t["\u0275mpd"](1073742336,a.qb,a.qb,[]),t["\u0275mpd"](1073742336,a.sb,a.sb,[]),t["\u0275mpd"](1073742336,a.ub,a.ub,[]),t["\u0275mpd"](1073742336,a.wb,a.wb,[]),t["\u0275mpd"](1073742336,a.yb,a.yb,[]),t["\u0275mpd"](1073742336,a.Fb,a.Fb,[]),t["\u0275mpd"](1073742336,a.Kb,a.Kb,[]),t["\u0275mpd"](1073742336,a.Mb,a.Mb,[]),t["\u0275mpd"](1073742336,a.Pb,a.Pb,[]),t["\u0275mpd"](1073742336,a.Tb,a.Tb,[]),t["\u0275mpd"](1073742336,a.Vb,a.Vb,[]),t["\u0275mpd"](1073742336,a.Yb,a.Yb,[]),t["\u0275mpd"](1073742336,a.jc,a.jc,[]),t["\u0275mpd"](1073742336,a.ic,a.ic,[]),t["\u0275mpd"](1073742336,a.hc,a.hc,[]),t["\u0275mpd"](1073742336,a.Jc,a.Jc,[]),t["\u0275mpd"](1073742336,a.Lc,a.Lc,[]),t["\u0275mpd"](1073742336,a.Pc,a.Pc,[]),t["\u0275mpd"](1073742336,a.Yc,a.Yc,[]),t["\u0275mpd"](1073742336,a.cd,a.cd,[]),t["\u0275mpd"](1073742336,a.hd,a.hd,[]),t["\u0275mpd"](1073742336,a.ld,a.ld,[]),t["\u0275mpd"](1073742336,a.nd,a.nd,[]),t["\u0275mpd"](1073742336,a.td,a.td,[]),t["\u0275mpd"](1073742336,a.Ad,a.Ad,[]),t["\u0275mpd"](1073742336,a.Dd,a.Dd,[]),t["\u0275mpd"](1073742336,a.Fd,a.Fd,[]),t["\u0275mpd"](1073742336,a.Ld,a.Ld,[]),t["\u0275mpd"](1073742336,a.Nd,a.Nd,[]),t["\u0275mpd"](1073742336,a.Pd,a.Pd,[]),t["\u0275mpd"](1073742336,a.Td,a.Td,[]),t["\u0275mpd"](1073742336,a.Wd,a.Wd,[]),t["\u0275mpd"](1073742336,a.d,a.d,[]),t["\u0275mpd"](1073742336,Cl.a,Cl.a,[]),t["\u0275mpd"](1073742336,bl.b,bl.b,[]),t["\u0275mpd"](1073742336,xl.a,xl.a,[]),t["\u0275mpd"](1073742336,wl.a,wl.a,[]),t["\u0275mpd"](1073742336,yl.a,yl.a,[]),t["\u0275mpd"](1073742336,Ol.a,Ol.a,[]),t["\u0275mpd"](1073742336,u,u,[]),t["\u0275mpd"](1024,pl.l,function(){return[[{path:"",redirectTo:"report",pathMatch:"full"},{path:"report",component:Hn},{path:"target-achievement",component:O},{path:"funnel-analysis",component:Dn}],[{path:"email",component:Rl.a},{path:"push",component:Il.a},{path:"sms",component:zl.a}]]},[]),t["\u0275mpd"](256,a.ee,!1,[]),t["\u0275mpd"](256,a.ce,void 0,[]),t["\u0275mpd"](256,a.pd,{nzDuration:3e3,nzAnimate:!0,nzPauseOnHover:!0,nzMaxStack:7},[]),t["\u0275mpd"](256,a.wd,{nzTop:"24px",nzBottom:"24px",nzPlacement:"topRight",nzDuration:4500,nzMaxStack:7,nzPauseOnHover:!0,nzAnimate:!0},[])])})}}]);