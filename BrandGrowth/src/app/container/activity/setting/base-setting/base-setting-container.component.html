<!-- 基础设置 -->
<cm-form>
<form nz-form [formGroup]="validateForm" >
  <div nz-form-item nz-row>
    <div nz-form-label nz-col [nzSm]="6" [nzXs]="24">
      <label for="brandName" >品牌名称</label>
    </div>
    <div nz-form-control nz-col [nzSm]="14" [nzXs]="24">
      <nz-input [nzSize]="'large'" 
                formControlName="brandName" 
                [nzId]="'brandName'" 
                [nzPlaceHolder]="'请输入品牌名称'"></nz-input>    
      <div nz-form-explain
      *ngIf="getFormControl('brandName').dirty&&getFormControl('brandName').hasError('required')">品牌名称不能为空</div>        
    </div>
    <div class="recentBrand">
      <span *ngFor='let item of brandList' (click)="changeBrandName(item)">{{item}}</span>
    </div>
  </div>
  <div nz-form-item nz-row>
    <div nz-form-label nz-col [nzSm]="6" [nzXs]="24">
      <label for="password" >所属行业</label>
    </div>

    <div nz-form-control nz-col [nzSm]="14" [nzXs]="24" class="tradeBox">
      <dl *ngFor='let data of tradeData; let i=index' 
          class="tradeList" nz-col 
          [nzSpan]="6" data-id='data.id' 
          (click)="industryClick(i+1)"
          [ngClass]="{'onSelected': tradeId === i+1}">
        <dt>
          <i class="{{data.icon}} "></i>
        </dt>
        <dd>{{data.name}}</dd>
      </dl>
    </div>
  </div>
  <div nz-form-item nz-row>
    <div nz-form-label nz-col [nzSm]="6 " [nzXs]="24 ">
      <label for="name " >活动名称</label>
    </div>
    <div nz-form-control nz-col [nzSm]="14 " [nzXs]="24 ">
      <nz-input [nzSize]="'large'" 
                formControlName="name" 
                [nzType]="'name'" 
                [nzId]="'name'" 
                [nzPlaceHolder]="'请输入活动名称'"></nz-input>
      <div nz-form-explain 
          *ngIf="getFormControl( 'name').dirty&&getFormControl( 'name').hasError( 'required') ">活动名称不能为空</div>
    </div>
  </div>
  <div nz-form-item nz-row>
    <div nz-form-label nz-col [nzSm]="6 " [nzXs]="24 ">
      <label for="time " >起止时间</label>
    </div>
    <div nz-form-control nz-col [nzSm]="14" [nzXs]="24">
    <nz-rangepicker  formControlName="time"    
                    [nzDisabledDate]="_disabledDate"   
                    [nzFormat]="'YYYY-MM-DD'"
                    [nzDisabled]="status==100"
                    [ngModel]="_dateRange" 
                    (ngModelChange) ="modelChange($event)"
                    *ngIf="!isRange"></nz-rangepicker>
    <!-- 双控件 -->
    <ul class="clrfix" *ngIf="isRange " style="display:flex" >
        <li class="fl" style="margin-right:8px">
            <cm-datepicker>
                <ng-template>
                    <nz-datepicker formControlName="times" nzDisabled [(ngModel)]="_startTime"  nzShowTime [nzFormat]="'YYYY-MM-DD'"  ></nz-datepicker>
                </ng-template>
            </cm-datepicker>
        </li>
        <li class="fl">
            <cm-datepicker>
                <ng-template>
                    <nz-datepicker formControlName="times" [(ngModel)]="_endTime" [nzShowTime]='_endTime' [nzFormat]="'YYYY-MM-DD'" ></nz-datepicker>
                </ng-template>
            </cm-datepicker>
        </li>
    </ul>
      <div nz-form-explain 
           *ngIf="getFormControl('time').dirty&&getFormControl('time').hasError('required')">请选择起止时间</div>
    </div>
  </div>

</form>

<div class="diet">
  <div nz-form-item nz-row>
    <div nz-form-label nz-col [nzSm]="6" [nzXs]="24">
      <label for="email" >目标受众</label>
    </div>
    <div nz-form-control nz-col [nzSm]="14" [nzXs]="24">
        <cm-select>
            <nz-select style="width: 300px;" 
                      [(ngModel)]="selectedOption" 
                      [nzSize]="size"  
                      [nzPlaceHolder]="'添加受众'" nzDisabled>
              <nz-option *ngFor="let option of searchOptions" 
                          [nzLabel]="option.label"
                          [nzValue]="option.value" 
                          [nzDisabled]="option.disabled">
              </nz-option>
            </nz-select>
          </cm-select>  
    </div>
  </div>
  <div nz-form-item nz-row>
    <div nz-form-label nz-col [nzSm]="6" [nzXs]="24">
      <P>关于目标受众的编辑，可前往
        <a routerLink="/manage-center/crowd">管理中心的受众管理</a>
      </P>
    </div>
  </div>
  <div nz-form-item nz-row>
    <div nz-form-label nz-col [nzSm]="6" [nzXs]="24">
      <label for="email" >曝光频次</label>
    </div>
    <div nz-form-control nz-col [nzSm]="14" [nzXs]="24">
      <span *ngFor="let i of exposureNum; let i=index" 
            class="exposure" 
            [ngClass]='{ "onExposure":impression===i}'>{{i}}</span>
    </div>
  </div>
  <div nz-form-item nz-row>
    <div nz-form-control nz-col [nzSm]="14" [nzXs]="24">
      <button nz-button [nzType]="'primary'" (click)="save()">
        <span>保存</span>
      </button>
    </div>
  </div>
</div>
